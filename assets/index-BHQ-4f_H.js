(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ss(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const ae={},wn=[],Ze=()=>{},Ua=()=>!1,Qr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),is=e=>e.startsWith("onUpdate:"),Ce=Object.assign,cs=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ba=Object.prototype.hasOwnProperty,ee=(e,t)=>Ba.call(e,t),V=Array.isArray,yn=e=>kr(e)==="[object Map]",mc=e=>kr(e)==="[object Set]",z=e=>typeof e=="function",we=e=>typeof e=="string",fn=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",_c=e=>(de(e)||z(e))&&z(e.then)&&z(e.catch),gc=Object.prototype.toString,kr=e=>gc.call(e),Fa=e=>kr(e).slice(8,-1),vc=e=>kr(e)==="[object Object]",ls=e=>we(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,jn=ss(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},$a=/-(\w)/g,vt=zr(e=>e.replace($a,(t,n)=>n?n.toUpperCase():"")),Ha=/\B([A-Z])/g,Tn=zr(e=>e.replace(Ha,"-$1").toLowerCase()),Xr=zr(e=>e.charAt(0).toUpperCase()+e.slice(1)),bo=zr(e=>e?`on${Xr(e)}`:""),Qt=(e,t)=>!Object.is(e,t),Mr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},bc=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Do=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Xs;const Ec=()=>Xs||(Xs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function as(e){if(V(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=we(r)?qa(r):as(r);if(o)for(const s in o)t[s]=o[s]}return t}else if(we(e)||de(e))return e}const Wa=/;(?![^(]*\))/g,ja=/:([^]+)/,Ka=/\/\*[^]*?\*\//g;function qa(e){const t={};return e.replace(Ka,"").split(Wa).forEach(n=>{if(n){const r=n.split(ja);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function us(e){let t="";if(we(e))t=e;else if(V(e))for(let n=0;n<e.length;n++){const r=us(e[n]);r&&(t+=r+" ")}else if(de(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ga="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Va=ss(Ga);function wc(e){return!!e||e===""}const yt=e=>we(e)?e:e==null?"":V(e)||de(e)&&(e.toString===gc||!z(e.toString))?JSON.stringify(e,yc,2):String(e),yc=(e,t)=>t&&t.__v_isRef?yc(e,t.value):yn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],s)=>(n[Eo(r,s)+" =>"]=o,n),{})}:mc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Eo(n))}:fn(t)?Eo(t):de(t)&&!V(t)&&!vc(t)?String(t):t,Eo=(e,t="")=>{var n;return fn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ge;class Pc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ge,!t&&Ge&&(this.index=(Ge.scopes||(Ge.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ge;try{return Ge=this,t()}finally{Ge=n}}}on(){Ge=this}off(){Ge=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Ac(e){return new Pc(e)}function Qa(e,t=Ge){t&&t.active&&t.effects.push(e)}function Rc(){return Ge}function ka(e){Ge&&Ge.cleanups.push(e)}let on;class fs{constructor(t,n,r,o){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Qa(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Xt();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(za(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Yt()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=jt,n=on;try{return jt=!0,on=this,this._runnings++,Ys(this),this.fn()}finally{Js(this),this._runnings--,on=n,jt=t}}stop(){this.active&&(Ys(this),Js(this),this.onStop&&this.onStop(),this.active=!1)}}function za(e){return e.value}function Ys(e){e._trackId++,e._depsLength=0}function Js(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Sc(e.deps[t],e);e.deps.length=e._depsLength}}function Sc(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let jt=!0,Lo=0;const Mc=[];function Xt(){Mc.push(jt),jt=!1}function Yt(){const e=Mc.pop();jt=e===void 0?!0:e}function ds(){Lo++}function hs(){for(Lo--;!Lo&&To.length;)To.shift()()}function Cc(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Sc(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const To=[];function Oc(e,t,n){ds();for(const r of e.keys()){let o;r._dirtyLevel<t&&(o??(o=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(o??(o=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&To.push(r.scheduler)))}hs()}const xc=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Ur=new WeakMap,sn=Symbol(""),No=Symbol("");function Ke(e,t,n){if(jt&&on){let r=Ur.get(e);r||Ur.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=xc(()=>r.delete(n))),Cc(on,o)}}function St(e,t,n,r,o,s){const i=Ur.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&V(e)){const l=Number(r);i.forEach((u,a)=>{(a==="length"||!fn(a)&&a>=l)&&c.push(u)})}else switch(n!==void 0&&c.push(i.get(n)),t){case"add":V(e)?ls(n)&&c.push(i.get("length")):(c.push(i.get(sn)),yn(e)&&c.push(i.get(No)));break;case"delete":V(e)||(c.push(i.get(sn)),yn(e)&&c.push(i.get(No)));break;case"set":yn(e)&&c.push(i.get(sn));break}ds();for(const l of c)l&&Oc(l,4);hs()}function Xa(e,t){const n=Ur.get(e);return n&&n.get(t)}const Ya=ss("__proto__,__v_isRef,__isVue"),Ic=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fn)),Zs=Ja();function Ja(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ne(this);for(let s=0,i=this.length;s<i;s++)Ke(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(ne)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Xt(),ds();const r=ne(this)[t].apply(this,n);return hs(),Yt(),r}}),e}function Za(e){fn(e)||(e=String(e));const t=ne(this);return Ke(t,"has",e),t.hasOwnProperty(e)}class Dc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(o?s?du:Uc:s?Nc:Tc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=V(t);if(!o){if(i&&ee(Zs,n))return Reflect.get(Zs,n,r);if(n==="hasOwnProperty")return Za}const c=Reflect.get(t,n,r);return(fn(n)?Ic.has(n):Ya(n))||(o||Ke(t,"get",n),s)?c:ye(c)?i&&ls(n)?c:c.value:de(c)?o?Fc(c):hr(c):c}}class Lc extends Dc{constructor(t=!1){super(!1,t)}set(t,n,r,o){let s=t[n];if(!this._isShallow){const l=Zn(s);if(!Br(r)&&!Zn(r)&&(s=ne(s),r=ne(r)),!V(t)&&ye(s)&&!ye(r))return l?!1:(s.value=r,!0)}const i=V(t)&&ls(n)?Number(n)<t.length:ee(t,n),c=Reflect.set(t,n,r,o);return t===ne(o)&&(i?Qt(r,s)&&St(t,"set",n,r):St(t,"add",n,r)),c}deleteProperty(t,n){const r=ee(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&St(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!fn(n)||!Ic.has(n))&&Ke(t,"has",n),r}ownKeys(t){return Ke(t,"iterate",V(t)?"length":sn),Reflect.ownKeys(t)}}class eu extends Dc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const tu=new Lc,nu=new eu,ru=new Lc(!0);const ps=e=>e,Yr=e=>Reflect.getPrototypeOf(e);function wr(e,t,n=!1,r=!1){e=e.__v_raw;const o=ne(e),s=ne(t);n||(Qt(t,s)&&Ke(o,"get",t),Ke(o,"get",s));const{has:i}=Yr(o),c=r?ps:n?vs:er;if(i.call(o,t))return c(e.get(t));if(i.call(o,s))return c(e.get(s));e!==o&&e.get(t)}function yr(e,t=!1){const n=this.__v_raw,r=ne(n),o=ne(e);return t||(Qt(e,o)&&Ke(r,"has",e),Ke(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Pr(e,t=!1){return e=e.__v_raw,!t&&Ke(ne(e),"iterate",sn),Reflect.get(e,"size",e)}function ei(e){e=ne(e);const t=ne(this);return Yr(t).has.call(t,e)||(t.add(e),St(t,"add",e,e)),this}function ti(e,t){t=ne(t);const n=ne(this),{has:r,get:o}=Yr(n);let s=r.call(n,e);s||(e=ne(e),s=r.call(n,e));const i=o.call(n,e);return n.set(e,t),s?Qt(t,i)&&St(n,"set",e,t):St(n,"add",e,t),this}function ni(e){const t=ne(this),{has:n,get:r}=Yr(t);let o=n.call(t,e);o||(e=ne(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&St(t,"delete",e,void 0),s}function ri(){const e=ne(this),t=e.size!==0,n=e.clear();return t&&St(e,"clear",void 0,void 0),n}function Ar(e,t){return function(r,o){const s=this,i=s.__v_raw,c=ne(i),l=t?ps:e?vs:er;return!e&&Ke(c,"iterate",sn),i.forEach((u,a)=>r.call(o,l(u),l(a),s))}}function Rr(e,t,n){return function(...r){const o=this.__v_raw,s=ne(o),i=yn(s),c=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=o[e](...r),a=n?ps:t?vs:er;return!t&&Ke(s,"iterate",l?No:sn),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:c?[a(d[0]),a(d[1])]:a(d),done:p}},[Symbol.iterator](){return this}}}}function Lt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ou(){const e={get(s){return wr(this,s)},get size(){return Pr(this)},has:yr,add:ei,set:ti,delete:ni,clear:ri,forEach:Ar(!1,!1)},t={get(s){return wr(this,s,!1,!0)},get size(){return Pr(this)},has:yr,add:ei,set:ti,delete:ni,clear:ri,forEach:Ar(!1,!0)},n={get(s){return wr(this,s,!0)},get size(){return Pr(this,!0)},has(s){return yr.call(this,s,!0)},add:Lt("add"),set:Lt("set"),delete:Lt("delete"),clear:Lt("clear"),forEach:Ar(!0,!1)},r={get(s){return wr(this,s,!0,!0)},get size(){return Pr(this,!0)},has(s){return yr.call(this,s,!0)},add:Lt("add"),set:Lt("set"),delete:Lt("delete"),clear:Lt("clear"),forEach:Ar(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Rr(s,!1,!1),n[s]=Rr(s,!0,!1),t[s]=Rr(s,!1,!0),r[s]=Rr(s,!0,!0)}),[e,n,t,r]}const[su,iu,cu,lu]=ou();function ms(e,t){const n=t?e?lu:cu:e?iu:su;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(ee(n,o)&&o in r?n:r,o,s)}const au={get:ms(!1,!1)},uu={get:ms(!1,!0)},fu={get:ms(!0,!1)};const Tc=new WeakMap,Nc=new WeakMap,Uc=new WeakMap,du=new WeakMap;function hu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pu(e){return e.__v_skip||!Object.isExtensible(e)?0:hu(Fa(e))}function hr(e){return Zn(e)?e:_s(e,!1,tu,au,Tc)}function Bc(e){return _s(e,!1,ru,uu,Nc)}function Fc(e){return _s(e,!0,nu,fu,Uc)}function _s(e,t,n,r,o){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const i=pu(e);if(i===0)return e;const c=new Proxy(e,i===2?r:n);return o.set(e,c),c}function cn(e){return Zn(e)?cn(e.__v_raw):!!(e&&e.__v_isReactive)}function Zn(e){return!!(e&&e.__v_isReadonly)}function Br(e){return!!(e&&e.__v_isShallow)}function $c(e){return e?!!e.__v_raw:!1}function ne(e){const t=e&&e.__v_raw;return t?ne(t):e}function gs(e){return Object.isExtensible(e)&&bc(e,"__v_skip",!0),e}const er=e=>de(e)?hr(e):e,vs=e=>de(e)?Fc(e):e;class Hc{constructor(t,n,r,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new fs(()=>t(this._value),()=>Cr(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=ne(this);return(!t._cacheable||t.effect.dirty)&&Qt(t._value,t._value=t.effect.run())&&Cr(t,4),Wc(t),t.effect._dirtyLevel>=2&&Cr(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function mu(e,t,n=!1){let r,o;const s=z(e);return s?(r=e,o=Ze):(r=e.get,o=e.set),new Hc(r,o,s||!o,n)}function Wc(e){var t;jt&&on&&(e=ne(e),Cc(on,(t=e.dep)!=null?t:e.dep=xc(()=>e.dep=void 0,e instanceof Hc?e:void 0)))}function Cr(e,t=4,n){e=ne(e);const r=e.dep;r&&Oc(r,t)}function ye(e){return!!(e&&e.__v_isRef===!0)}function bs(e){return jc(e,!1)}function _u(e){return jc(e,!0)}function jc(e,t){return ye(e)?e:new gu(e,t)}class gu{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ne(t),this._value=n?t:er(t)}get value(){return Wc(this),this._value}set value(t){const n=this.__v_isShallow||Br(t)||Zn(t);t=n?t:ne(t),Qt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:er(t),Cr(this,4))}}function Pn(e){return ye(e)?e.value:e}const vu={get:(e,t,n)=>Pn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return ye(o)&&!ye(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Kc(e){return cn(e)?e:new Proxy(e,vu)}function bu(e){const t=V(e)?new Array(e.length):{};for(const n in e)t[n]=wu(e,n);return t}class Eu{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Xa(ne(this._object),this._key)}}function wu(e,t,n){const r=e[t];return ye(r)?r:new Eu(e,t,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Kt(e,t,n,r){try{return r?e(...r):e()}catch(o){Jr(o,t,n)}}function lt(e,t,n,r){if(z(e)){const o=Kt(e,t,n,r);return o&&_c(o)&&o.catch(s=>{Jr(s,t,n)}),o}if(V(e)){const o=[];for(let s=0;s<e.length;s++)o.push(lt(e[s],t,n,r));return o}}function Jr(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const i=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let a=0;a<u.length;a++)if(u[a](e,i,c)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Xt(),Kt(l,null,10,[e,i,c]),Yt();return}}yu(e,n,o,r)}function yu(e,t,n,r=!0){console.error(e)}let tr=!1,Uo=!1;const Ie=[];let mt=0;const An=[];let Bt=null,en=0;const qc=Promise.resolve();let Es=null;function ws(e){const t=Es||qc;return e?t.then(this?e.bind(this):e):t}function Pu(e){let t=mt+1,n=Ie.length;for(;t<n;){const r=t+n>>>1,o=Ie[r],s=nr(o);s<e||s===e&&o.pre?t=r+1:n=r}return t}function ys(e){(!Ie.length||!Ie.includes(e,tr&&e.allowRecurse?mt+1:mt))&&(e.id==null?Ie.push(e):Ie.splice(Pu(e.id),0,e),Gc())}function Gc(){!tr&&!Uo&&(Uo=!0,Es=qc.then(Qc))}function Au(e){const t=Ie.indexOf(e);t>mt&&Ie.splice(t,1)}function Ru(e){V(e)?An.push(...e):(!Bt||!Bt.includes(e,e.allowRecurse?en+1:en))&&An.push(e),Gc()}function oi(e,t,n=tr?mt+1:0){for(;n<Ie.length;n++){const r=Ie[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Ie.splice(n,1),n--,r()}}}function Vc(e){if(An.length){const t=[...new Set(An)].sort((n,r)=>nr(n)-nr(r));if(An.length=0,Bt){Bt.push(...t);return}for(Bt=t,en=0;en<Bt.length;en++)Bt[en]();Bt=null,en=0}}const nr=e=>e.id==null?1/0:e.id,Su=(e,t)=>{const n=nr(e)-nr(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Qc(e){Uo=!1,tr=!0,Ie.sort(Su);try{for(mt=0;mt<Ie.length;mt++){const t=Ie[mt];t&&t.active!==!1&&Kt(t,null,14)}}finally{mt=0,Ie.length=0,Vc(),tr=!1,Es=null,(Ie.length||An.length)&&Qc()}}function Mu(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ae;let o=n;const s=t.startsWith("update:"),i=s&&t.slice(7);if(i&&i in r){const a=`${i==="modelValue"?"model":i}Modifiers`,{number:d,trim:p}=r[a]||ae;p&&(o=n.map(b=>we(b)?b.trim():b)),d&&(o=n.map(Do))}let c,l=r[c=bo(t)]||r[c=bo(vt(t))];!l&&s&&(l=r[c=bo(Tn(t))]),l&&lt(l,e,6,o);const u=r[c+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,lt(u,e,6,o)}}function kc(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let i={},c=!1;if(!z(e)){const l=u=>{const a=kc(u,t,!0);a&&(c=!0,Ce(i,a))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!c?(de(e)&&r.set(e,null),null):(V(s)?s.forEach(l=>i[l]=null):Ce(i,s),de(e)&&r.set(e,i),i)}function Zr(e,t){return!e||!Qr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ee(e,t[0].toLowerCase()+t.slice(1))||ee(e,Tn(t))||ee(e,t))}let Ne=null,eo=null;function Fr(e){const t=Ne;return Ne=e,eo=e&&e.type.__scopeId||null,t}function Ps(e){eo=e}function As(){eo=null}function tn(e,t=Ne,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&_i(-1);const s=Fr(t);let i;try{i=e(...o)}finally{Fr(s),r._d&&_i(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function wo(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[s],slots:i,attrs:c,emit:l,render:u,renderCache:a,props:d,data:p,setupState:b,ctx:x,inheritAttrs:A}=e,D=Fr(e);let y,E;try{if(n.shapeFlag&4){const P=o||r,O=P;y=pt(u.call(O,P,a,d,b,p,x)),E=c}else{const P=t;y=pt(P.length>1?P(d,{attrs:c,slots:i,emit:l}):P(d,null)),E=t.props?c:Cu(c)}}catch(P){Gn.length=0,Jr(P,e,1),y=me(ln)}let m=y;if(E&&A!==!1){const P=Object.keys(E),{shapeFlag:O}=m;P.length&&O&7&&(s&&P.some(is)&&(E=Ou(E,s)),m=On(m,E,!1,!0))}return n.dirs&&(m=On(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),y=m,Fr(D),y}const Cu=e=>{let t;for(const n in e)(n==="class"||n==="style"||Qr(n))&&((t||(t={}))[n]=e[n]);return t},Ou=(e,t)=>{const n={};for(const r in e)(!is(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function xu(e,t,n){const{props:r,children:o,component:s}=e,{props:i,children:c,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?si(r,i,u):!!i;if(l&8){const a=t.dynamicProps;for(let d=0;d<a.length;d++){const p=a[d];if(i[p]!==r[p]&&!Zr(u,p))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===i?!1:r?i?si(r,i,u):!0:!!i;return!1}function si(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!Zr(n,s))return!0}return!1}function Iu({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const zc="components";function kt(e,t){return Lu(zc,e,!0,t)||e}const Du=Symbol.for("v-ndc");function Lu(e,t,n=!0,r=!1){const o=Ne||Oe;if(o){const s=o.type;if(e===zc){const c=Cf(s,!1);if(c&&(c===t||c===vt(t)||c===Xr(vt(t))))return s}const i=ii(o[e]||s[e],t)||ii(o.appContext[e],t);return!i&&r?s:i}}function ii(e,t){return e&&(e[t]||e[vt(t)]||e[Xr(vt(t))])}const Tu=e=>e.__isSuspense;function Nu(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):Ru(e)}const Uu=Symbol.for("v-scx"),Bu=()=>_t(Uu),Sr={};function Kn(e,t,n){return Xc(e,t,n)}function Xc(e,t,{immediate:n,deep:r,flush:o,once:s,onTrack:i,onTrigger:c}=ae){if(t&&s){const _=t;t=(...v)=>{_(...v),O()}}const l=Oe,u=_=>r===!0?_:rn(_,r===!1?1:void 0);let a,d=!1,p=!1;if(ye(e)?(a=()=>e.value,d=Br(e)):cn(e)?(a=()=>u(e),d=!0):V(e)?(p=!0,d=e.some(_=>cn(_)||Br(_)),a=()=>e.map(_=>{if(ye(_))return _.value;if(cn(_))return u(_);if(z(_))return Kt(_,l,2)})):z(e)?t?a=()=>Kt(e,l,2):a=()=>(b&&b(),lt(e,l,3,[x])):a=Ze,t&&r){const _=a;a=()=>rn(_())}let b,x=_=>{b=m.onStop=()=>{Kt(_,l,4),b=m.onStop=void 0}},A;if(so)if(x=Ze,t?n&&lt(t,l,3,[a(),p?[]:void 0,x]):a(),o==="sync"){const _=Bu();A=_.__watcherHandles||(_.__watcherHandles=[])}else return Ze;let D=p?new Array(e.length).fill(Sr):Sr;const y=()=>{if(!(!m.active||!m.dirty))if(t){const _=m.run();(r||d||(p?_.some((v,R)=>Qt(v,D[R])):Qt(_,D)))&&(b&&b(),lt(t,l,3,[_,D===Sr?void 0:p&&D[0]===Sr?[]:D,x]),D=_)}else m.run()};y.allowRecurse=!!t;let E;o==="sync"?E=y:o==="post"?E=()=>Fe(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),E=()=>ys(y));const m=new fs(a,Ze,E),P=Rc(),O=()=>{m.stop(),P&&cs(P.effects,m)};return t?n?y():D=m.run():o==="post"?Fe(m.run.bind(m),l&&l.suspense):m.run(),A&&A.push(O),O}function Fu(e,t,n){const r=this.proxy,o=we(e)?e.includes(".")?Yc(r,e):()=>r[e]:e.bind(r,r);let s;z(t)?s=t:(s=t.handler,n=t);const i=mr(this),c=Xc(o,s.bind(r),n);return i(),c}function Yc(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function rn(e,t=1/0,n){if(t<=0||!de(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ye(e))rn(e.value,t,n);else if(V(e))for(let r=0;r<e.length;r++)rn(e[r],t,n);else if(mc(e)||yn(e))e.forEach(r=>{rn(r,t,n)});else if(vc(e))for(const r in e)rn(e[r],t,n);return e}function ci(e,t){if(Ne===null)return e;const n=io(Ne)||Ne.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,i,c,l=ae]=t[o];s&&(z(s)&&(s={mounted:s,updated:s}),s.deep&&rn(i),r.push({dir:s,instance:n,value:i,oldValue:void 0,arg:c,modifiers:l}))}return e}function Jt(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let i=0;i<o.length;i++){const c=o[i];s&&(c.oldValue=s[i].value);let l=c.dir[r];l&&(Xt(),lt(l,n,8,[e.el,c,e,t]),Yt())}}/*! #__NO_SIDE_EFFECTS__ */function Jc(e,t){return z(e)?Ce({name:e.name},t,{setup:e}):e}const Or=e=>!!e.type.__asyncLoader,Zc=e=>e.type.__isKeepAlive;function $u(e,t){el(e,"a",t)}function Hu(e,t){el(e,"da",t)}function el(e,t,n=Oe){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(to(t,r,n),n){let o=n.parent;for(;o&&o.parent;)Zc(o.parent.vnode)&&Wu(r,t,n,o),o=o.parent}}function Wu(e,t,n,r){const o=to(t,e,r,!0);tl(()=>{cs(r[t],o)},n)}function to(e,t,n=Oe,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Xt();const c=mr(n),l=lt(t,n,e,i);return c(),Yt(),l});return r?o.unshift(s):o.push(s),s}}const Ct=e=>(t,n=Oe)=>(!so||e==="sp")&&to(e,(...r)=>t(...r),n),ju=Ct("bm"),Ku=Ct("m"),qu=Ct("bu"),Gu=Ct("u"),Vu=Ct("bum"),tl=Ct("um"),Qu=Ct("sp"),ku=Ct("rtg"),zu=Ct("rtc");function Xu(e,t=Oe){to("ec",e,t)}function no(e,t,n,r){let o;const s=n;if(V(e)||we(e)){o=new Array(e.length);for(let i=0,c=e.length;i<c;i++)o[i]=t(e[i],i,void 0,s)}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,s)}else if(de(e))if(e[Symbol.iterator])o=Array.from(e,(i,c)=>t(i,c,void 0,s));else{const i=Object.keys(e);o=new Array(i.length);for(let c=0,l=i.length;c<l;c++){const u=i[c];o[c]=t(e[u],u,c,s)}}else o=[];return o}const Bo=e=>e?_l(e)?io(e)||e.proxy:Bo(e.parent):null,qn=Ce(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Bo(e.parent),$root:e=>Bo(e.root),$emit:e=>e.emit,$options:e=>Rs(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,ys(e.update)}),$nextTick:e=>e.n||(e.n=ws.bind(e.proxy)),$watch:e=>Fu.bind(e)}),yo=(e,t)=>e!==ae&&!e.__isScriptSetup&&ee(e,t),Yu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:s,accessCache:i,type:c,appContext:l}=e;let u;if(t[0]!=="$"){const b=i[t];if(b!==void 0)switch(b){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(yo(r,t))return i[t]=1,r[t];if(o!==ae&&ee(o,t))return i[t]=2,o[t];if((u=e.propsOptions[0])&&ee(u,t))return i[t]=3,s[t];if(n!==ae&&ee(n,t))return i[t]=4,n[t];Fo&&(i[t]=0)}}const a=qn[t];let d,p;if(a)return t==="$attrs"&&Ke(e.attrs,"get",""),a(e);if((d=c.__cssModules)&&(d=d[t]))return d;if(n!==ae&&ee(n,t))return i[t]=4,n[t];if(p=l.config.globalProperties,ee(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return yo(o,t)?(o[t]=n,!0):r!==ae&&ee(r,t)?(r[t]=n,!0):ee(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},i){let c;return!!n[i]||e!==ae&&ee(e,i)||yo(t,i)||(c=s[0])&&ee(c,i)||ee(r,i)||ee(qn,i)||ee(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ee(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function li(e){return V(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Fo=!0;function Ju(e){const t=Rs(e),n=e.proxy,r=e.ctx;Fo=!1,t.beforeCreate&&ai(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:i,watch:c,provide:l,inject:u,created:a,beforeMount:d,mounted:p,beforeUpdate:b,updated:x,activated:A,deactivated:D,beforeDestroy:y,beforeUnmount:E,destroyed:m,unmounted:P,render:O,renderTracked:_,renderTriggered:v,errorCaptured:R,serverPrefetch:H,expose:le,inheritAttrs:Pe,components:Le,directives:Ue,filters:bt}=t;if(u&&Zu(u,r,null),i)for(const oe in i){const te=i[oe];z(te)&&(r[oe]=te.bind(n))}if(o){const oe=o.call(n,n);de(oe)&&(e.data=hr(oe))}if(Fo=!0,s)for(const oe in s){const te=s[oe],nt=z(te)?te.bind(n,n):z(te.get)?te.get.bind(n,n):Ze,ut=!z(te)&&z(te.set)?te.set.bind(n):Ze,Xe=Je({get:nt,set:ut});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>Xe.value,set:xe=>Xe.value=xe})}if(c)for(const oe in c)nl(c[oe],r,n,oe);if(l){const oe=z(l)?l.call(n):l;Reflect.ownKeys(oe).forEach(te=>{xr(te,oe[te])})}a&&ai(a,e,"c");function Z(oe,te){V(te)?te.forEach(nt=>oe(nt.bind(n))):te&&oe(te.bind(n))}if(Z(ju,d),Z(Ku,p),Z(qu,b),Z(Gu,x),Z($u,A),Z(Hu,D),Z(Xu,R),Z(zu,_),Z(ku,v),Z(Vu,E),Z(tl,P),Z(Qu,H),V(le))if(le.length){const oe=e.exposed||(e.exposed={});le.forEach(te=>{Object.defineProperty(oe,te,{get:()=>n[te],set:nt=>n[te]=nt})})}else e.exposed||(e.exposed={});O&&e.render===Ze&&(e.render=O),Pe!=null&&(e.inheritAttrs=Pe),Le&&(e.components=Le),Ue&&(e.directives=Ue)}function Zu(e,t,n=Ze){V(e)&&(e=$o(e));for(const r in e){const o=e[r];let s;de(o)?"default"in o?s=_t(o.from||r,o.default,!0):s=_t(o.from||r):s=_t(o),ye(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[r]=s}}function ai(e,t,n){lt(V(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function nl(e,t,n,r){const o=r.includes(".")?Yc(n,r):()=>n[r];if(we(e)){const s=t[e];z(s)&&Kn(o,s)}else if(z(e))Kn(o,e.bind(n));else if(de(e))if(V(e))e.forEach(s=>nl(s,t,n,r));else{const s=z(e.handler)?e.handler.bind(n):t[e.handler];z(s)&&Kn(o,s,e)}}function Rs(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,c=s.get(t);let l;return c?l=c:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(u=>$r(l,u,i,!0)),$r(l,t,i)),de(t)&&s.set(t,l),l}function $r(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&$r(e,s,n,!0),o&&o.forEach(i=>$r(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const c=ef[i]||n&&n[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const ef={data:ui,props:fi,emits:fi,methods:Wn,computed:Wn,beforeCreate:Te,created:Te,beforeMount:Te,mounted:Te,beforeUpdate:Te,updated:Te,beforeDestroy:Te,beforeUnmount:Te,destroyed:Te,unmounted:Te,activated:Te,deactivated:Te,errorCaptured:Te,serverPrefetch:Te,components:Wn,directives:Wn,watch:nf,provide:ui,inject:tf};function ui(e,t){return t?e?function(){return Ce(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function tf(e,t){return Wn($o(e),$o(t))}function $o(e){if(V(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Te(e,t){return e?[...new Set([].concat(e,t))]:t}function Wn(e,t){return e?Ce(Object.create(null),e,t):t}function fi(e,t){return e?V(e)&&V(t)?[...new Set([...e,...t])]:Ce(Object.create(null),li(e),li(t??{})):t}function nf(e,t){if(!e)return t;if(!t)return e;const n=Ce(Object.create(null),e);for(const r in t)n[r]=Te(e[r],t[r]);return n}function rl(){return{app:null,config:{isNativeTag:Ua,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rf=0;function of(e,t){return function(r,o=null){z(r)||(r=Ce({},r)),o!=null&&!de(o)&&(o=null);const s=rl(),i=new WeakSet;let c=!1;const l=s.app={_uid:rf++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:xf,get config(){return s.config},set config(u){},use(u,...a){return i.has(u)||(u&&z(u.install)?(i.add(u),u.install(l,...a)):z(u)&&(i.add(u),u(l,...a))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,a){return a?(s.components[u]=a,l):s.components[u]},directive(u,a){return a?(s.directives[u]=a,l):s.directives[u]},mount(u,a,d){if(!c){const p=me(r,o);return p.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),a&&t?t(p,u):e(p,u,d),c=!0,l._container=u,u.__vue_app__=l,io(p.component)||p.component.proxy}},unmount(){c&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,a){return s.provides[u]=a,l},runWithContext(u){const a=Rn;Rn=l;try{return u()}finally{Rn=a}}};return l}}let Rn=null;function xr(e,t){if(Oe){let n=Oe.provides;const r=Oe.parent&&Oe.parent.provides;r===n&&(n=Oe.provides=Object.create(r)),n[e]=t}}function _t(e,t,n=!1){const r=Oe||Ne;if(r||Rn){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Rn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&z(t)?t.call(r&&r.proxy):t}}function sf(){return!!(Oe||Ne||Rn)}const ol={},sl=()=>Object.create(ol),il=e=>Object.getPrototypeOf(e)===ol;function cf(e,t,n,r=!1){const o={},s=sl();e.propsDefaults=Object.create(null),cl(e,t,o,s);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=r?o:Bc(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function lf(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:i}}=e,c=ne(o),[l]=e.propsOptions;let u=!1;if((r||i>0)&&!(i&16)){if(i&8){const a=e.vnode.dynamicProps;for(let d=0;d<a.length;d++){let p=a[d];if(Zr(e.emitsOptions,p))continue;const b=t[p];if(l)if(ee(s,p))b!==s[p]&&(s[p]=b,u=!0);else{const x=vt(p);o[x]=Ho(l,c,x,b,e,!1)}else b!==s[p]&&(s[p]=b,u=!0)}}}else{cl(e,t,o,s)&&(u=!0);let a;for(const d in c)(!t||!ee(t,d)&&((a=Tn(d))===d||!ee(t,a)))&&(l?n&&(n[d]!==void 0||n[a]!==void 0)&&(o[d]=Ho(l,c,d,void 0,e,!0)):delete o[d]);if(s!==c)for(const d in s)(!t||!ee(t,d))&&(delete s[d],u=!0)}u&&St(e.attrs,"set","")}function cl(e,t,n,r){const[o,s]=e.propsOptions;let i=!1,c;if(t)for(let l in t){if(jn(l))continue;const u=t[l];let a;o&&ee(o,a=vt(l))?!s||!s.includes(a)?n[a]=u:(c||(c={}))[a]=u:Zr(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,i=!0)}if(s){const l=ne(n),u=c||ae;for(let a=0;a<s.length;a++){const d=s[a];n[d]=Ho(o,l,d,u[d],e,!ee(u,d))}}return i}function Ho(e,t,n,r,o,s){const i=e[n];if(i!=null){const c=ee(i,"default");if(c&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&z(l)){const{propsDefaults:u}=o;if(n in u)r=u[n];else{const a=mr(o);r=u[n]=l.call(null,t),a()}}else r=l}i[0]&&(s&&!c?r=!1:i[1]&&(r===""||r===Tn(n))&&(r=!0))}return r}function ll(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,i={},c=[];let l=!1;if(!z(e)){const a=d=>{l=!0;const[p,b]=ll(d,t,!0);Ce(i,p),b&&c.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}if(!s&&!l)return de(e)&&r.set(e,wn),wn;if(V(s))for(let a=0;a<s.length;a++){const d=vt(s[a]);di(d)&&(i[d]=ae)}else if(s)for(const a in s){const d=vt(a);if(di(d)){const p=s[a],b=i[d]=V(p)||z(p)?{type:p}:Ce({},p);if(b){const x=mi(Boolean,b.type),A=mi(String,b.type);b[0]=x>-1,b[1]=A<0||x<A,(x>-1||ee(b,"default"))&&c.push(d)}}}const u=[i,c];return de(e)&&r.set(e,u),u}function di(e){return e[0]!=="$"&&!jn(e)}function hi(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function pi(e,t){return hi(e)===hi(t)}function mi(e,t){return V(t)?t.findIndex(n=>pi(n,e)):z(t)&&pi(t,e)?0:-1}const al=e=>e[0]==="_"||e==="$stable",Ss=e=>V(e)?e.map(pt):[pt(e)],af=(e,t,n)=>{if(t._n)return t;const r=tn((...o)=>Ss(t(...o)),n);return r._c=!1,r},ul=(e,t,n)=>{const r=e._ctx;for(const o in e){if(al(o))continue;const s=e[o];if(z(s))t[o]=af(o,s,r);else if(s!=null){const i=Ss(s);t[o]=()=>i}}},fl=(e,t)=>{const n=Ss(t);e.slots.default=()=>n},uf=(e,t)=>{const n=e.slots=sl();if(e.vnode.shapeFlag&32){const r=t._;r?(Ce(n,t),bc(n,"_",r,!0)):ul(t,n)}else t&&fl(e,t)},ff=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,i=ae;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(Ce(o,t),!n&&c===1&&delete o._):(s=!t.$stable,ul(t,o)),i=t}else t&&(fl(e,t),i={default:1});if(s)for(const c in o)!al(c)&&i[c]==null&&delete o[c]};function Wo(e,t,n,r,o=!1){if(V(e)){e.forEach((p,b)=>Wo(p,t&&(V(t)?t[b]:t),n,r,o));return}if(Or(r)&&!o)return;const s=r.shapeFlag&4?io(r.component)||r.component.proxy:r.el,i=o?null:s,{i:c,r:l}=e,u=t&&t.r,a=c.refs===ae?c.refs={}:c.refs,d=c.setupState;if(u!=null&&u!==l&&(we(u)?(a[u]=null,ee(d,u)&&(d[u]=null)):ye(u)&&(u.value=null)),z(l))Kt(l,c,12,[i,a]);else{const p=we(l),b=ye(l);if(p||b){const x=()=>{if(e.f){const A=p?ee(d,l)?d[l]:a[l]:l.value;o?V(A)&&cs(A,s):V(A)?A.includes(s)||A.push(s):p?(a[l]=[s],ee(d,l)&&(d[l]=a[l])):(l.value=[s],e.k&&(a[e.k]=l.value))}else p?(a[l]=i,ee(d,l)&&(d[l]=i)):b&&(l.value=i,e.k&&(a[e.k]=i))};i?(x.id=-1,Fe(x,n)):x()}}}const Fe=Nu;function df(e){return hf(e)}function hf(e,t){const n=Ec();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:i,createText:c,createComment:l,setText:u,setElementText:a,parentNode:d,nextSibling:p,setScopeId:b=Ze,insertStaticContent:x}=e,A=(f,h,w,C=null,S=null,T=null,B=void 0,L=null,N=!!h.dynamicChildren)=>{if(f===h)return;f&&!Fn(f,h)&&(C=M(f),xe(f,S,T,!0),f=null),h.patchFlag===-2&&(N=!1,h.dynamicChildren=null);const{type:I,ref:$,shapeFlag:K}=h;switch(I){case ro:D(f,h,w,C);break;case ln:y(f,h,w,C);break;case Ir:f==null&&E(h,w,C,B);break;case We:Le(f,h,w,C,S,T,B,L,N);break;default:K&1?O(f,h,w,C,S,T,B,L,N):K&6?Ue(f,h,w,C,S,T,B,L,N):(K&64||K&128)&&I.process(f,h,w,C,S,T,B,L,N,W)}$!=null&&S&&Wo($,f&&f.ref,T,h||f,!h)},D=(f,h,w,C)=>{if(f==null)r(h.el=c(h.children),w,C);else{const S=h.el=f.el;h.children!==f.children&&u(S,h.children)}},y=(f,h,w,C)=>{f==null?r(h.el=l(h.children||""),w,C):h.el=f.el},E=(f,h,w,C)=>{[f.el,f.anchor]=x(f.children,h,w,C,f.el,f.anchor)},m=({el:f,anchor:h},w,C)=>{let S;for(;f&&f!==h;)S=p(f),r(f,w,C),f=S;r(h,w,C)},P=({el:f,anchor:h})=>{let w;for(;f&&f!==h;)w=p(f),o(f),f=w;o(h)},O=(f,h,w,C,S,T,B,L,N)=>{h.type==="svg"?B="svg":h.type==="math"&&(B="mathml"),f==null?_(h,w,C,S,T,B,L,N):H(f,h,S,T,B,L,N)},_=(f,h,w,C,S,T,B,L)=>{let N,I;const{props:$,shapeFlag:K,transition:j,dirs:k}=f;if(N=f.el=i(f.type,T,$&&$.is,$),K&8?a(N,f.children):K&16&&R(f.children,N,null,C,S,Po(f,T),B,L),k&&Jt(f,null,C,"created"),v(N,f,f.scopeId,B,C),$){for(const ce in $)ce!=="value"&&!jn(ce)&&s(N,ce,null,$[ce],T,f.children,C,S,be);"value"in $&&s(N,"value",null,$.value,T),(I=$.onVnodeBeforeMount)&&dt(I,C,f)}k&&Jt(f,null,C,"beforeMount");const Y=pf(S,j);Y&&j.beforeEnter(N),r(N,h,w),((I=$&&$.onVnodeMounted)||Y||k)&&Fe(()=>{I&&dt(I,C,f),Y&&j.enter(N),k&&Jt(f,null,C,"mounted")},S)},v=(f,h,w,C,S)=>{if(w&&b(f,w),C)for(let T=0;T<C.length;T++)b(f,C[T]);if(S){let T=S.subTree;if(h===T){const B=S.vnode;v(f,B,B.scopeId,B.slotScopeIds,S.parent)}}},R=(f,h,w,C,S,T,B,L,N=0)=>{for(let I=N;I<f.length;I++){const $=f[I]=L?Ft(f[I]):pt(f[I]);A(null,$,h,w,C,S,T,B,L)}},H=(f,h,w,C,S,T,B)=>{const L=h.el=f.el;let{patchFlag:N,dynamicChildren:I,dirs:$}=h;N|=f.patchFlag&16;const K=f.props||ae,j=h.props||ae;let k;if(w&&Zt(w,!1),(k=j.onVnodeBeforeUpdate)&&dt(k,w,h,f),$&&Jt(h,f,w,"beforeUpdate"),w&&Zt(w,!0),I?le(f.dynamicChildren,I,L,w,C,Po(h,S),T):B||te(f,h,L,null,w,C,Po(h,S),T,!1),N>0){if(N&16)Pe(L,h,K,j,w,C,S);else if(N&2&&K.class!==j.class&&s(L,"class",null,j.class,S),N&4&&s(L,"style",K.style,j.style,S),N&8){const Y=h.dynamicProps;for(let ce=0;ce<Y.length;ce++){const fe=Y[ce],Ae=K[fe],rt=j[fe];(rt!==Ae||fe==="value")&&s(L,fe,Ae,rt,S,f.children,w,C,be)}}N&1&&f.children!==h.children&&a(L,h.children)}else!B&&I==null&&Pe(L,h,K,j,w,C,S);((k=j.onVnodeUpdated)||$)&&Fe(()=>{k&&dt(k,w,h,f),$&&Jt(h,f,w,"updated")},C)},le=(f,h,w,C,S,T,B)=>{for(let L=0;L<h.length;L++){const N=f[L],I=h[L],$=N.el&&(N.type===We||!Fn(N,I)||N.shapeFlag&70)?d(N.el):w;A(N,I,$,null,C,S,T,B,!0)}},Pe=(f,h,w,C,S,T,B)=>{if(w!==C){if(w!==ae)for(const L in w)!jn(L)&&!(L in C)&&s(f,L,w[L],null,B,h.children,S,T,be);for(const L in C){if(jn(L))continue;const N=C[L],I=w[L];N!==I&&L!=="value"&&s(f,L,I,N,B,h.children,S,T,be)}"value"in C&&s(f,"value",w.value,C.value,B)}},Le=(f,h,w,C,S,T,B,L,N)=>{const I=h.el=f?f.el:c(""),$=h.anchor=f?f.anchor:c("");let{patchFlag:K,dynamicChildren:j,slotScopeIds:k}=h;k&&(L=L?L.concat(k):k),f==null?(r(I,w,C),r($,w,C),R(h.children||[],w,$,S,T,B,L,N)):K>0&&K&64&&j&&f.dynamicChildren?(le(f.dynamicChildren,j,w,S,T,B,L),(h.key!=null||S&&h===S.subTree)&&dl(f,h,!0)):te(f,h,w,$,S,T,B,L,N)},Ue=(f,h,w,C,S,T,B,L,N)=>{h.slotScopeIds=L,f==null?h.shapeFlag&512?S.ctx.activate(h,w,C,B,N):bt(h,w,C,S,T,B,N):Be(f,h,N)},bt=(f,h,w,C,S,T,B)=>{const L=f.component=Pf(f,C,S);if(Zc(f)&&(L.ctx.renderer=W),Af(L),L.asyncDep){if(S&&S.registerDep(L,Z),!f.el){const N=L.subTree=me(ln);y(null,N,h,w)}}else Z(L,f,h,w,S,T,B)},Be=(f,h,w)=>{const C=h.component=f.component;if(xu(f,h,w))if(C.asyncDep&&!C.asyncResolved){oe(C,h,w);return}else C.next=h,Au(C.update),C.effect.dirty=!0,C.update();else h.el=f.el,C.vnode=h},Z=(f,h,w,C,S,T,B)=>{const L=()=>{if(f.isMounted){let{next:$,bu:K,u:j,parent:k,vnode:Y}=f;{const pn=hl(f);if(pn){$&&($.el=Y.el,oe(f,$,B)),pn.asyncDep.then(()=>{f.isUnmounted||L()});return}}let ce=$,fe;Zt(f,!1),$?($.el=Y.el,oe(f,$,B)):$=Y,K&&Mr(K),(fe=$.props&&$.props.onVnodeBeforeUpdate)&&dt(fe,k,$,Y),Zt(f,!0);const Ae=wo(f),rt=f.subTree;f.subTree=Ae,A(rt,Ae,d(rt.el),M(rt),f,S,T),$.el=Ae.el,ce===null&&Iu(f,Ae.el),j&&Fe(j,S),(fe=$.props&&$.props.onVnodeUpdated)&&Fe(()=>dt(fe,k,$,Y),S)}else{let $;const{el:K,props:j}=h,{bm:k,m:Y,parent:ce}=f,fe=Or(h);if(Zt(f,!1),k&&Mr(k),!fe&&($=j&&j.onVnodeBeforeMount)&&dt($,ce,h),Zt(f,!0),K&&he){const Ae=()=>{f.subTree=wo(f),he(K,f.subTree,f,S,null)};fe?h.type.__asyncLoader().then(()=>!f.isUnmounted&&Ae()):Ae()}else{const Ae=f.subTree=wo(f);A(null,Ae,w,C,f,S,T),h.el=Ae.el}if(Y&&Fe(Y,S),!fe&&($=j&&j.onVnodeMounted)){const Ae=h;Fe(()=>dt($,ce,Ae),S)}(h.shapeFlag&256||ce&&Or(ce.vnode)&&ce.vnode.shapeFlag&256)&&f.a&&Fe(f.a,S),f.isMounted=!0,h=w=C=null}},N=f.effect=new fs(L,Ze,()=>ys(I),f.scope),I=f.update=()=>{N.dirty&&N.run()};I.id=f.uid,Zt(f,!0),I()},oe=(f,h,w)=>{h.component=f;const C=f.vnode.props;f.vnode=h,f.next=null,lf(f,h.props,C,w),ff(f,h.children,w),Xt(),oi(f),Yt()},te=(f,h,w,C,S,T,B,L,N=!1)=>{const I=f&&f.children,$=f?f.shapeFlag:0,K=h.children,{patchFlag:j,shapeFlag:k}=h;if(j>0){if(j&128){ut(I,K,w,C,S,T,B,L,N);return}else if(j&256){nt(I,K,w,C,S,T,B,L,N);return}}k&8?($&16&&be(I,S,T),K!==I&&a(w,K)):$&16?k&16?ut(I,K,w,C,S,T,B,L,N):be(I,S,T,!0):($&8&&a(w,""),k&16&&R(K,w,C,S,T,B,L,N))},nt=(f,h,w,C,S,T,B,L,N)=>{f=f||wn,h=h||wn;const I=f.length,$=h.length,K=Math.min(I,$);let j;for(j=0;j<K;j++){const k=h[j]=N?Ft(h[j]):pt(h[j]);A(f[j],k,w,null,S,T,B,L,N)}I>$?be(f,S,T,!0,!1,K):R(h,w,C,S,T,B,L,N,K)},ut=(f,h,w,C,S,T,B,L,N)=>{let I=0;const $=h.length;let K=f.length-1,j=$-1;for(;I<=K&&I<=j;){const k=f[I],Y=h[I]=N?Ft(h[I]):pt(h[I]);if(Fn(k,Y))A(k,Y,w,null,S,T,B,L,N);else break;I++}for(;I<=K&&I<=j;){const k=f[K],Y=h[j]=N?Ft(h[j]):pt(h[j]);if(Fn(k,Y))A(k,Y,w,null,S,T,B,L,N);else break;K--,j--}if(I>K){if(I<=j){const k=j+1,Y=k<$?h[k].el:C;for(;I<=j;)A(null,h[I]=N?Ft(h[I]):pt(h[I]),w,Y,S,T,B,L,N),I++}}else if(I>j)for(;I<=K;)xe(f[I],S,T,!0),I++;else{const k=I,Y=I,ce=new Map;for(I=Y;I<=j;I++){const qe=h[I]=N?Ft(h[I]):pt(h[I]);qe.key!=null&&ce.set(qe.key,I)}let fe,Ae=0;const rt=j-Y+1;let pn=!1,Qs=0;const Bn=new Array(rt);for(I=0;I<rt;I++)Bn[I]=0;for(I=k;I<=K;I++){const qe=f[I];if(Ae>=rt){xe(qe,S,T,!0);continue}let ft;if(qe.key!=null)ft=ce.get(qe.key);else for(fe=Y;fe<=j;fe++)if(Bn[fe-Y]===0&&Fn(qe,h[fe])){ft=fe;break}ft===void 0?xe(qe,S,T,!0):(Bn[ft-Y]=I+1,ft>=Qs?Qs=ft:pn=!0,A(qe,h[ft],w,null,S,T,B,L,N),Ae++)}const ks=pn?mf(Bn):wn;for(fe=ks.length-1,I=rt-1;I>=0;I--){const qe=Y+I,ft=h[qe],zs=qe+1<$?h[qe+1].el:C;Bn[I]===0?A(null,ft,w,zs,S,T,B,L,N):pn&&(fe<0||I!==ks[fe]?Xe(ft,w,zs,2):fe--)}}},Xe=(f,h,w,C,S=null)=>{const{el:T,type:B,transition:L,children:N,shapeFlag:I}=f;if(I&6){Xe(f.component.subTree,h,w,C);return}if(I&128){f.suspense.move(h,w,C);return}if(I&64){B.move(f,h,w,W);return}if(B===We){r(T,h,w);for(let K=0;K<N.length;K++)Xe(N[K],h,w,C);r(f.anchor,h,w);return}if(B===Ir){m(f,h,w);return}if(C!==2&&I&1&&L)if(C===0)L.beforeEnter(T),r(T,h,w),Fe(()=>L.enter(T),S);else{const{leave:K,delayLeave:j,afterLeave:k}=L,Y=()=>r(T,h,w),ce=()=>{K(T,()=>{Y(),k&&k()})};j?j(T,Y,ce):ce()}else r(T,h,w)},xe=(f,h,w,C=!1,S=!1)=>{const{type:T,props:B,ref:L,children:N,dynamicChildren:I,shapeFlag:$,patchFlag:K,dirs:j}=f;if(L!=null&&Wo(L,null,w,f,!0),$&256){h.ctx.deactivate(f);return}const k=$&1&&j,Y=!Or(f);let ce;if(Y&&(ce=B&&B.onVnodeBeforeUnmount)&&dt(ce,h,f),$&6)hn(f.component,w,C);else{if($&128){f.suspense.unmount(w,C);return}k&&Jt(f,null,h,"beforeUnmount"),$&64?f.type.remove(f,h,w,S,W,C):I&&(T!==We||K>0&&K&64)?be(I,h,w,!1,!0):(T===We&&K&384||!S&&$&16)&&be(N,h,w),C&&It(f)}(Y&&(ce=B&&B.onVnodeUnmounted)||k)&&Fe(()=>{ce&&dt(ce,h,f),k&&Jt(f,null,h,"unmounted")},w)},It=f=>{const{type:h,el:w,anchor:C,transition:S}=f;if(h===We){Dt(w,C);return}if(h===Ir){P(f);return}const T=()=>{o(w),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(f.shapeFlag&1&&S&&!S.persisted){const{leave:B,delayLeave:L}=S,N=()=>B(w,T);L?L(f.el,T,N):N()}else T()},Dt=(f,h)=>{let w;for(;f!==h;)w=p(f),o(f),f=w;o(h)},hn=(f,h,w)=>{const{bum:C,scope:S,update:T,subTree:B,um:L}=f;C&&Mr(C),S.stop(),T&&(T.active=!1,xe(B,f,h,w)),L&&Fe(L,h),Fe(()=>{f.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},be=(f,h,w,C=!1,S=!1,T=0)=>{for(let B=T;B<f.length;B++)xe(f[B],h,w,C,S)},M=f=>f.shapeFlag&6?M(f.component.subTree):f.shapeFlag&128?f.suspense.next():p(f.anchor||f.el);let F=!1;const U=(f,h,w)=>{f==null?h._vnode&&xe(h._vnode,null,null,!0):A(h._vnode||null,f,h,null,null,null,w),F||(F=!0,oi(),Vc(),F=!1),h._vnode=f},W={p:A,um:xe,m:Xe,r:It,mt:bt,mc:R,pc:te,pbc:le,n:M,o:e};let se,he;return{render:U,hydrate:se,createApp:of(U,se)}}function Po({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Zt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function pf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function dl(e,t,n=!1){const r=e.children,o=t.children;if(V(r)&&V(o))for(let s=0;s<r.length;s++){const i=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=Ft(o[s]),c.el=i.el),n||dl(i,c)),c.type===ro&&(c.el=i.el)}}function mf(e){const t=e.slice(),n=[0];let r,o,s,i,c;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(o=n[n.length-1],e[o]<u){t[r]=o,n.push(r);continue}for(s=0,i=n.length-1;s<i;)c=s+i>>1,e[n[c]]<u?s=c+1:i=c;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function hl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:hl(t)}const _f=e=>e.__isTeleport,We=Symbol.for("v-fgt"),ro=Symbol.for("v-txt"),ln=Symbol.for("v-cmt"),Ir=Symbol.for("v-stc"),Gn=[];let it=null;function ge(e=!1){Gn.push(it=e?null:[])}function gf(){Gn.pop(),it=Gn[Gn.length-1]||null}let rr=1;function _i(e){rr+=e}function pl(e){return e.dynamicChildren=rr>0?it||wn:null,gf(),rr>0&&it&&it.push(e),e}function De(e,t,n,r,o,s){return pl(q(e,t,n,r,o,s,!0))}function pr(e,t,n,r,o){return pl(me(e,t,n,r,o,!0))}function jo(e){return e?e.__v_isVNode===!0:!1}function Fn(e,t){return e.type===t.type&&e.key===t.key}const ml=({key:e})=>e??null,Dr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?we(e)||ye(e)||z(e)?{i:Ne,r:e,k:t,f:!!n}:e:null);function q(e,t=null,n=null,r=0,o=null,s=e===We?0:1,i=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ml(t),ref:t&&Dr(t),scopeId:eo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ne};return c?(Cs(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=we(n)?8:16),rr>0&&!i&&it&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&it.push(l),l}const me=vf;function vf(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===Du)&&(e=ln),jo(e)){const c=On(e,t,!0);return n&&Cs(c,n),rr>0&&!s&&it&&(c.shapeFlag&6?it[it.indexOf(e)]=c:it.push(c)),c.patchFlag|=-2,c}if(Of(e)&&(e=e.__vccOpts),t){t=bf(t);let{class:c,style:l}=t;c&&!we(c)&&(t.class=us(c)),de(l)&&($c(l)&&!V(l)&&(l=Ce({},l)),t.style=as(l))}const i=we(e)?1:Tu(e)?128:_f(e)?64:de(e)?4:z(e)?2:0;return q(e,t,n,r,o,i,s,!0)}function bf(e){return e?$c(e)||il(e)?Ce({},e):e:null}function On(e,t,n=!1,r=!1){const{props:o,ref:s,patchFlag:i,children:c,transition:l}=e,u=t?Ef(o||{},t):o,a={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&ml(u),ref:t&&t.ref?n&&s?V(s)?s.concat(Dr(t)):[s,Dr(t)]:Dr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==We?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&On(e.ssContent),ssFallback:e.ssFallback&&On(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&(a.transition=l.clone(a)),a}function _n(e=" ",t=0){return me(ro,null,e,t)}function oo(e,t){const n=me(Ir,null,e);return n.staticCount=t,n}function Ms(e="",t=!1){return t?(ge(),pr(ln,null,e)):me(ln,null,e)}function pt(e){return e==null||typeof e=="boolean"?me(ln):V(e)?me(We,null,e.slice()):typeof e=="object"?Ft(e):me(ro,null,String(e))}function Ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:On(e)}function Cs(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(V(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Cs(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!il(t)?t._ctx=Ne:o===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:Ne},n=32):(t=String(t),r&64?(n=16,t=[_n(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ef(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=us([t.class,r.class]));else if(o==="style")t.style=as([t.style,r.style]);else if(Qr(o)){const s=t[o],i=r[o];i&&s!==i&&!(V(s)&&s.includes(i))&&(t[o]=s?[].concat(s,i):i)}else o!==""&&(t[o]=r[o])}return t}function dt(e,t,n,r=null){lt(e,t,7,[n,r])}const wf=rl();let yf=0;function Pf(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||wf,s={uid:yf++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Pc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ll(r,o),emitsOptions:kc(r,o),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:r.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Mu.bind(null,s),e.ce&&e.ce(s),s}let Oe=null,Hr,Ko;{const e=Ec(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),s=>{o.length>1?o.forEach(i=>i(s)):o[0](s)}};Hr=t("__VUE_INSTANCE_SETTERS__",n=>Oe=n),Ko=t("__VUE_SSR_SETTERS__",n=>so=n)}const mr=e=>{const t=Oe;return Hr(e),e.scope.on(),()=>{e.scope.off(),Hr(t)}},gi=()=>{Oe&&Oe.scope.off(),Hr(null)};function _l(e){return e.vnode.shapeFlag&4}let so=!1;function Af(e,t=!1){t&&Ko(t);const{props:n,children:r}=e.vnode,o=_l(e);cf(e,n,o,t),uf(e,r);const s=o?Rf(e,t):void 0;return t&&Ko(!1),s}function Rf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Yu);const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?Mf(e):null,s=mr(e);Xt();const i=Kt(r,e,0,[e.props,o]);if(Yt(),s(),_c(i)){if(i.then(gi,gi),t)return i.then(c=>{vi(e,c,t)}).catch(c=>{Jr(c,e,0)});e.asyncDep=i}else vi(e,i,t)}else gl(e,t)}function vi(e,t,n){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=Kc(t)),gl(e,n)}let bi;function gl(e,t,n){const r=e.type;if(!e.render){if(!t&&bi&&!r.render){const o=r.template||Rs(e).template;if(o){const{isCustomElement:s,compilerOptions:i}=e.appContext.config,{delimiters:c,compilerOptions:l}=r,u=Ce(Ce({isCustomElement:s,delimiters:c},i),l);r.render=bi(o,u)}}e.render=r.render||Ze}{const o=mr(e);Xt();try{Ju(e)}finally{Yt(),o()}}}const Sf={get(e,t){return Ke(e,"get",""),e[t]}};function Mf(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Sf),slots:e.slots,emit:e.emit,expose:t}}function io(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Kc(gs(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qn)return qn[n](e)},has(t,n){return n in t||n in qn}}))}function Cf(e,t=!0){return z(e)?e.displayName||e.name:e.name||t&&e.__name}function Of(e){return z(e)&&"__vccOpts"in e}const Je=(e,t)=>mu(e,t,so);function vl(e,t,n){const r=arguments.length;return r===2?de(t)&&!V(t)?jo(t)?me(e,null,[t]):me(e,t):me(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&jo(n)&&(n=[n]),me(e,t,n))}const xf="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const If="http://www.w3.org/2000/svg",Df="http://www.w3.org/1998/Math/MathML",$t=typeof document<"u"?document:null,Ei=$t&&$t.createElement("template"),Lf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?$t.createElementNS(If,e):t==="mathml"?$t.createElementNS(Df,e):$t.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>$t.createTextNode(e),createComment:e=>$t.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>$t.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const i=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{Ei.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const c=Ei.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}t.insertBefore(c,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Tf=Symbol("_vtc");function Nf(e,t,n){const r=e[Tf];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const wi=Symbol("_vod"),Uf=Symbol("_vsh"),Bf=Symbol(""),Ff=/(^|;)\s*display\s*:/;function $f(e,t,n){const r=e.style,o=we(n);let s=!1;if(n&&!o){if(t)if(we(t))for(const i of t.split(";")){const c=i.slice(0,i.indexOf(":")).trim();n[c]==null&&Lr(r,c,"")}else for(const i in t)n[i]==null&&Lr(r,i,"");for(const i in n)i==="display"&&(s=!0),Lr(r,i,n[i])}else if(o){if(t!==n){const i=r[Bf];i&&(n+=";"+i),r.cssText=n,s=Ff.test(n)}}else t&&e.removeAttribute("style");wi in e&&(e[wi]=s?r.display:"",e[Uf]&&(r.display="none"))}const yi=/\s*!important$/;function Lr(e,t,n){if(V(n))n.forEach(r=>Lr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Hf(e,t);yi.test(n)?e.setProperty(Tn(r),n.replace(yi,""),"important"):e[r]=n}}const Pi=["Webkit","Moz","ms"],Ao={};function Hf(e,t){const n=Ao[t];if(n)return n;let r=vt(t);if(r!=="filter"&&r in e)return Ao[t]=r;r=Xr(r);for(let o=0;o<Pi.length;o++){const s=Pi[o]+r;if(s in e)return Ao[t]=s}return t}const Ai="http://www.w3.org/1999/xlink";function Wf(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ai,t.slice(6,t.length)):e.setAttributeNS(Ai,t,n);else{const s=Va(t);n==null||s&&!wc(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function jf(e,t,n,r,o,s,i){if(t==="innerHTML"||t==="textContent"){r&&i(r,o,s),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const u=c==="OPTION"?e.getAttribute("value")||"":e.value,a=n??"";(u!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=wc(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function gn(e,t,n,r){e.addEventListener(t,n,r)}function Kf(e,t,n,r){e.removeEventListener(t,n,r)}const Ri=Symbol("_vei");function qf(e,t,n,r,o=null){const s=e[Ri]||(e[Ri]={}),i=s[t];if(r&&i)i.value=r;else{const[c,l]=Gf(t);if(r){const u=s[t]=kf(r,o);gn(e,c,u,l)}else i&&(Kf(e,c,i,l),s[t]=void 0)}}const Si=/(?:Once|Passive|Capture)$/;function Gf(e){let t;if(Si.test(e)){t={};let r;for(;r=e.match(Si);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Tn(e.slice(2)),t]}let Ro=0;const Vf=Promise.resolve(),Qf=()=>Ro||(Vf.then(()=>Ro=0),Ro=Date.now());function kf(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;lt(zf(r,n.value),t,5,[r])};return n.value=e,n.attached=Qf(),n}function zf(e,t){if(V(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Mi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Xf=(e,t,n,r,o,s,i,c,l)=>{const u=o==="svg";t==="class"?Nf(e,r,u):t==="style"?$f(e,n,r):Qr(t)?is(t)||qf(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Yf(e,t,r,u))?jf(e,t,r,s,i,c,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Wf(e,t,r,u))};function Yf(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Mi(t)&&z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Mi(t)&&we(n)?!1:t in e}const Ci=e=>{const t=e.props["onUpdate:modelValue"]||!1;return V(t)?n=>Mr(t,n):t};function Jf(e){e.target.composing=!0}function Oi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const So=Symbol("_assign"),xi={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[So]=Ci(o);const s=r||o.props&&o.props.type==="number";gn(e,t?"change":"input",i=>{if(i.target.composing)return;let c=e.value;n&&(c=c.trim()),s&&(c=Do(c)),e[So](c)}),n&&gn(e,"change",()=>{e.value=e.value.trim()}),t||(gn(e,"compositionstart",Jf),gn(e,"compositionend",Oi),gn(e,"change",Oi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},s){if(e[So]=Ci(s),e.composing)return;const i=(o||e.type==="number")&&!/^0\d/.test(e.value)?Do(e.value):e.value,c=t??"";i!==c&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===c)||(e.value=c))}},Zf=["ctrl","shift","alt","meta"],ed={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Zf.some(n=>e[`${n}Key`]&&!t.includes(n))},Ii=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(o,...s)=>{for(let i=0;i<t.length;i++){const c=ed[t[i]];if(c&&c(o,t))return}return e(o,...s)})},td=Ce({patchProp:Xf},Lf);let Di;function nd(){return Di||(Di=df(td))}const rd=(...e)=>{const t=nd().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=sd(r);if(!o)return;const s=t._component;!z(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,od(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function od(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function sd(e){return we(e)?document.querySelector(e):e}var id=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let bl;const co=e=>bl=e,El=Symbol();function qo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Vn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Vn||(Vn={}));function cd(){const e=Ac(!0),t=e.run(()=>bs({}));let n=[],r=[];const o=gs({install(s){co(o),o._a=s,s.provide(El,o),s.config.globalProperties.$pinia=o,r.forEach(i=>n.push(i)),r=[]},use(s){return!this._a&&!id?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const wl=()=>{};function Li(e,t,n,r=wl){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&Rc()&&ka(o),o}function mn(e,...t){e.slice().forEach(n=>{n(...t)})}const ld=e=>e();function Go(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];qo(o)&&qo(r)&&e.hasOwnProperty(n)&&!ye(r)&&!cn(r)?e[n]=Go(o,r):e[n]=r}return e}const ad=Symbol();function ud(e){return!qo(e)||!e.hasOwnProperty(ad)}const{assign:Nt}=Object;function fd(e){return!!(ye(e)&&e.effect)}function dd(e,t,n,r){const{state:o,actions:s,getters:i}=t,c=n.state.value[e];let l;function u(){c||(n.state.value[e]=o?o():{});const a=bu(n.state.value[e]);return Nt(a,s,Object.keys(i||{}).reduce((d,p)=>(d[p]=gs(Je(()=>{co(n);const b=n._s.get(e);return i[p].call(b,b)})),d),{}))}return l=yl(e,u,t,n,r,!0),l}function yl(e,t,n={},r,o,s){let i;const c=Nt({actions:{}},n),l={deep:!0};let u,a,d=[],p=[],b;const x=r.state.value[e];!s&&!x&&(r.state.value[e]={}),bs({});let A;function D(R){let H;u=a=!1,typeof R=="function"?(R(r.state.value[e]),H={type:Vn.patchFunction,storeId:e,events:b}):(Go(r.state.value[e],R),H={type:Vn.patchObject,payload:R,storeId:e,events:b});const le=A=Symbol();ws().then(()=>{A===le&&(u=!0)}),a=!0,mn(d,H,r.state.value[e])}const y=s?function(){const{state:H}=n,le=H?H():{};this.$patch(Pe=>{Nt(Pe,le)})}:wl;function E(){i.stop(),d=[],p=[],r._s.delete(e)}function m(R,H){return function(){co(r);const le=Array.from(arguments),Pe=[],Le=[];function Ue(Z){Pe.push(Z)}function bt(Z){Le.push(Z)}mn(p,{args:le,name:R,store:O,after:Ue,onError:bt});let Be;try{Be=H.apply(this&&this.$id===e?this:O,le)}catch(Z){throw mn(Le,Z),Z}return Be instanceof Promise?Be.then(Z=>(mn(Pe,Z),Z)).catch(Z=>(mn(Le,Z),Promise.reject(Z))):(mn(Pe,Be),Be)}}const P={_p:r,$id:e,$onAction:Li.bind(null,p),$patch:D,$reset:y,$subscribe(R,H={}){const le=Li(d,R,H.detached,()=>Pe()),Pe=i.run(()=>Kn(()=>r.state.value[e],Le=>{(H.flush==="sync"?a:u)&&R({storeId:e,type:Vn.direct,events:b},Le)},Nt({},l,H)));return le},$dispose:E},O=hr(P);r._s.set(e,O);const v=(r._a&&r._a.runWithContext||ld)(()=>r._e.run(()=>(i=Ac()).run(t)));for(const R in v){const H=v[R];if(ye(H)&&!fd(H)||cn(H))s||(x&&ud(H)&&(ye(H)?H.value=x[R]:Go(H,x[R])),r.state.value[e][R]=H);else if(typeof H=="function"){const le=m(R,H);v[R]=le,c.actions[R]=H}}return Nt(O,v),Nt(ne(O),v),Object.defineProperty(O,"$state",{get:()=>r.state.value[e],set:R=>{D(H=>{Nt(H,R)})}}),r._p.forEach(R=>{Nt(O,i.run(()=>R({store:O,app:r._a,pinia:r,options:c})))}),x&&s&&n.hydrate&&n.hydrate(O.$state,x),u=!0,a=!0,O}function Pl(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function i(c,l){const u=sf();return c=c||(u?_t(El,null):null),c&&co(c),c=bl,c._s.has(r)||(s?yl(r,t,o,c):dd(r,o,c)),c._s.get(r)}return i.$id=r,i}const xn=Pl("products",{state:()=>({series:[],products:[]}),actions:{setSeries(e){this.series=e},setProducts(e){this.products=e},moveToCart(e){for(let t=0;t<this.products.length;t++)e===this.products[t].no&&(this.products[t].quantity--,console.log(this.products[t].quantity))}}}),Ot=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},hd={data(){return{showDropdown:!1}},computed:{seriesList(){return xn().series}}},pd={key:0,class:"dropdown-content"};function md(e,t,n,r,o,s){const i=kt("router-link");return ge(),De("header",null,[q("nav",null,[me(i,{to:"/",class:"nav-item"},{default:tn(()=>[_n("Home")]),_:1}),q("div",{class:"dropdown",onMouseover:t[0]||(t[0]=c=>o.showDropdown=!0),onMouseleave:t[1]||(t[1]=c=>o.showDropdown=!1)},[me(i,{to:"/products",class:"nav-item"},{default:tn(()=>[_n("Product")]),_:1}),o.showDropdown?(ge(),De("div",pd,[(ge(!0),De(We,null,no(s.seriesList,c=>(ge(),pr(i,{key:c.key,to:`/series/${c.key}`},{default:tn(()=>[_n(yt(c.name),1)]),_:2},1032,["to"]))),128))])):Ms("",!0)],32),me(i,{to:"/cart",class:"nav-item"},{default:tn(()=>[_n("Cart")]),_:1}),me(i,{to:"/other",class:"nav-item"},{default:tn(()=>[_n("Others")]),_:1})])])}const _d=Ot(hd,[["render",md]]),gd={name:"App",components:{Header:_d}},vd={class:"content"};function bd(e,t,n,r,o,s){const i=kt("Header"),c=kt("router-view");return ge(),De(We,null,[me(i),q("div",vd,[me(c)])],64)}const Ed=Ot(gd,[["render",bd]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const vn=typeof document<"u";function wd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ie=Object.assign;function Mo(e,t){const n={};for(const r in t){const o=t[r];n[r]=at(o)?o.map(e):e(o)}return n}const Qn=()=>{},at=Array.isArray,Al=/#/g,yd=/&/g,Pd=/\//g,Ad=/=/g,Rd=/\?/g,Rl=/\+/g,Sd=/%5B/g,Md=/%5D/g,Sl=/%5E/g,Cd=/%60/g,Ml=/%7B/g,Od=/%7C/g,Cl=/%7D/g,xd=/%20/g;function Os(e){return encodeURI(""+e).replace(Od,"|").replace(Sd,"[").replace(Md,"]")}function Id(e){return Os(e).replace(Ml,"{").replace(Cl,"}").replace(Sl,"^")}function Vo(e){return Os(e).replace(Rl,"%2B").replace(xd,"+").replace(Al,"%23").replace(yd,"%26").replace(Cd,"`").replace(Ml,"{").replace(Cl,"}").replace(Sl,"^")}function Dd(e){return Vo(e).replace(Ad,"%3D")}function Ld(e){return Os(e).replace(Al,"%23").replace(Rd,"%3F")}function Td(e){return e==null?"":Ld(e).replace(Pd,"%2F")}function or(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Nd=/\/$/,Ud=e=>e.replace(Nd,"");function Co(e,t,n="/"){let r,o={},s="",i="";const c=t.indexOf("#");let l=t.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,c>-1?c:t.length),o=e(s)),c>-1&&(r=r||t.slice(0,c),i=t.slice(c,t.length)),r=Hd(r??t,n),{fullPath:r+(s&&"?")+s+i,path:r,query:o,hash:or(i)}}function Bd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ti(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Fd(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&In(t.matched[r],n.matched[o])&&Ol(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function In(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ol(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!$d(e[n],t[n]))return!1;return!0}function $d(e,t){return at(e)?Ni(e,t):at(t)?Ni(t,e):e===t}function Ni(e,t){return at(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Hd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,i,c;for(i=0;i<r.length;i++)if(c=r[i],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i).join("/")}var sr;(function(e){e.pop="pop",e.push="push"})(sr||(sr={}));var kn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(kn||(kn={}));function Wd(e){if(!e)if(vn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ud(e)}const jd=/^[^#]+#/;function Kd(e,t){return e.replace(jd,"#")+t}function qd(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const lo=()=>({left:window.scrollX,top:window.scrollY});function Gd(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=qd(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ui(e,t){return(history.state?history.state.position-t:-1)+e}const Qo=new Map;function Vd(e,t){Qo.set(e,t)}function Qd(e){const t=Qo.get(e);return Qo.delete(e),t}let kd=()=>location.protocol+"//"+location.host;function xl(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let c=o.includes(e.slice(s))?e.slice(s).length:1,l=o.slice(c);return l[0]!=="/"&&(l="/"+l),Ti(l,"")}return Ti(n,e)+r+o}function zd(e,t,n,r){let o=[],s=[],i=null;const c=({state:p})=>{const b=xl(e,location),x=n.value,A=t.value;let D=0;if(p){if(n.value=b,t.value=p,i&&i===x){i=null;return}D=A?p.position-A.position:0}else r(b);o.forEach(y=>{y(n.value,x,{delta:D,type:sr.pop,direction:D?D>0?kn.forward:kn.back:kn.unknown})})};function l(){i=n.value}function u(p){o.push(p);const b=()=>{const x=o.indexOf(p);x>-1&&o.splice(x,1)};return s.push(b),b}function a(){const{history:p}=window;p.state&&p.replaceState(ie({},p.state,{scroll:lo()}),"")}function d(){for(const p of s)p();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",a)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",a,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function Bi(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?lo():null}}function Xd(e){const{history:t,location:n}=window,r={value:xl(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,a){const d=e.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:kd()+e+l;try{t[a?"replaceState":"pushState"](u,"",p),o.value=u}catch(b){console.error(b),n[a?"replace":"assign"](p)}}function i(l,u){const a=ie({},t.state,Bi(o.value.back,l,o.value.forward,!0),u,{position:o.value.position});s(l,a,!0),r.value=l}function c(l,u){const a=ie({},o.value,t.state,{forward:l,scroll:lo()});s(a.current,a,!0);const d=ie({},Bi(r.value,l,null),{position:a.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:o,push:c,replace:i}}function Yd(e){e=Wd(e);const t=Xd(e),n=zd(e,t.state,t.location,t.replace);function r(s,i=!0){i||n.pauseListeners(),history.go(s)}const o=ie({location:"",base:e,go:r,createHref:Kd.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Jd(e){return typeof e=="string"||e&&typeof e=="object"}function Il(e){return typeof e=="string"||typeof e=="symbol"}const Tt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Dl=Symbol("");var Fi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Fi||(Fi={}));function Dn(e,t){return ie(new Error,{type:e,[Dl]:!0},t)}function Et(e,t){return e instanceof Error&&Dl in e&&(t==null||!!(e.type&t))}const $i="[^/]+?",Zd={sensitive:!1,strict:!1,start:!0,end:!0},eh=/[.+*?^${}()[\]/\\]/g;function th(e,t){const n=ie({},Zd,t),r=[];let o=n.start?"^":"";const s=[];for(const u of e){const a=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let d=0;d<u.length;d++){const p=u[d];let b=40+(n.sensitive?.25:0);if(p.type===0)d||(o+="/"),o+=p.value.replace(eh,"\\$&"),b+=40;else if(p.type===1){const{value:x,repeatable:A,optional:D,regexp:y}=p;s.push({name:x,repeatable:A,optional:D});const E=y||$i;if(E!==$i){b+=10;try{new RegExp(`(${E})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${x}" (${E}): `+P.message)}}let m=A?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(m=D&&u.length<2?`(?:/${m})`:"/"+m),D&&(m+="?"),o+=m,b+=20,D&&(b+=-8),A&&(b+=-20),E===".*"&&(b+=-50)}a.push(b)}r.push(a)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function c(u){const a=u.match(i),d={};if(!a)return null;for(let p=1;p<a.length;p++){const b=a[p]||"",x=s[p-1];d[x.name]=b&&x.repeatable?b.split("/"):b}return d}function l(u){let a="",d=!1;for(const p of e){(!d||!a.endsWith("/"))&&(a+="/"),d=!1;for(const b of p)if(b.type===0)a+=b.value;else if(b.type===1){const{value:x,repeatable:A,optional:D}=b,y=x in u?u[x]:"";if(at(y)&&!A)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const E=at(y)?y.join("/"):y;if(!E)if(D)p.length<2&&(a.endsWith("/")?a=a.slice(0,-1):d=!0);else throw new Error(`Missing required param "${x}"`);a+=E}}return a||"/"}return{re:i,score:r,keys:s,parse:c,stringify:l}}function nh(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function rh(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=nh(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(Hi(r))return 1;if(Hi(o))return-1}return o.length-r.length}function Hi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const oh={type:0,value:""},sh=/[a-zA-Z0-9_]/;function ih(e){if(!e)return[[]];if(e==="/")return[[oh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${u}": ${b}`)}let n=0,r=n;const o=[];let s;function i(){s&&o.push(s),s=[]}let c=0,l,u="",a="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:a,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;c<e.length;){if(l=e[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),i()):l===":"?(d(),n=1):p();break;case 4:p(),n=r;break;case 1:l==="("?n=2:sh.test(l)?p():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?a[a.length-1]=="\\"?a=a.slice(0,-1)+l:n=3:a+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,a="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),i(),o}function ch(e,t,n){const r=th(ih(e.path),n),o=ie(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function lh(e,t){const n=[],r=new Map;t=Ki({strict:!1,end:!0,sensitive:!1},t);function o(a){return r.get(a)}function s(a,d,p){const b=!p,x=ah(a);x.aliasOf=p&&p.record;const A=Ki(t,a),D=[x];if("alias"in a){const m=typeof a.alias=="string"?[a.alias]:a.alias;for(const P of m)D.push(ie({},x,{components:p?p.record.components:x.components,path:P,aliasOf:p?p.record:x}))}let y,E;for(const m of D){const{path:P}=m;if(d&&P[0]!=="/"){const O=d.record.path,_=O[O.length-1]==="/"?"":"/";m.path=d.record.path+(P&&_+P)}if(y=ch(m,d,A),p?p.alias.push(y):(E=E||y,E!==y&&E.alias.push(y),b&&a.name&&!ji(y)&&i(a.name)),x.children){const O=x.children;for(let _=0;_<O.length;_++)s(O[_],y,p&&p.children[_])}p=p||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return E?()=>{i(E)}:Qn}function i(a){if(Il(a)){const d=r.get(a);d&&(r.delete(a),n.splice(n.indexOf(d),1),d.children.forEach(i),d.alias.forEach(i))}else{const d=n.indexOf(a);d>-1&&(n.splice(d,1),a.record.name&&r.delete(a.record.name),a.children.forEach(i),a.alias.forEach(i))}}function c(){return n}function l(a){let d=0;for(;d<n.length&&rh(a,n[d])>=0&&(a.record.path!==n[d].record.path||!Ll(a,n[d]));)d++;n.splice(d,0,a),a.record.name&&!ji(a)&&r.set(a.record.name,a)}function u(a,d){let p,b={},x,A;if("name"in a&&a.name){if(p=r.get(a.name),!p)throw Dn(1,{location:a});A=p.record.name,b=ie(Wi(d.params,p.keys.filter(E=>!E.optional).concat(p.parent?p.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),a.params&&Wi(a.params,p.keys.map(E=>E.name))),x=p.stringify(b)}else if(a.path!=null)x=a.path,p=n.find(E=>E.re.test(x)),p&&(b=p.parse(x),A=p.record.name);else{if(p=d.name?r.get(d.name):n.find(E=>E.re.test(d.path)),!p)throw Dn(1,{location:a,currentLocation:d});A=p.record.name,b=ie({},d.params,a.params),x=p.stringify(b)}const D=[];let y=p;for(;y;)D.unshift(y.record),y=y.parent;return{name:A,path:x,params:b,matched:D,meta:fh(D)}}return e.forEach(a=>s(a)),{addRoute:s,resolve:u,removeRoute:i,getRoutes:c,getRecordMatcher:o}}function Wi(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ah(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:uh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function uh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function ji(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function fh(e){return e.reduce((t,n)=>ie(t,n.meta),{})}function Ki(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Ll(e,t){return t.children.some(n=>n===e||Ll(e,n))}function dh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(Rl," "),i=s.indexOf("="),c=or(i<0?s:s.slice(0,i)),l=i<0?null:or(s.slice(i+1));if(c in t){let u=t[c];at(u)||(u=t[c]=[u]),u.push(l)}else t[c]=l}return t}function qi(e){let t="";for(let n in e){const r=e[n];if(n=Dd(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(at(r)?r.map(s=>s&&Vo(s)):[r&&Vo(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function hh(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=at(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const ph=Symbol(""),Gi=Symbol(""),xs=Symbol(""),Tl=Symbol(""),ko=Symbol("");function $n(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ht(e,t,n,r,o,s=i=>i()){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((c,l)=>{const u=p=>{p===!1?l(Dn(4,{from:n,to:t})):p instanceof Error?l(p):Jd(p)?l(Dn(2,{from:t,to:p})):(i&&r.enterCallbacks[o]===i&&typeof p=="function"&&i.push(p),c())},a=s(()=>e.call(r&&r.instances[o],t,n,u));let d=Promise.resolve(a);e.length<3&&(d=d.then(u)),d.catch(p=>l(p))})}function Oo(e,t,n,r,o=s=>s()){const s=[];for(const i of e)for(const c in i.components){let l=i.components[c];if(!(t!=="beforeRouteEnter"&&!i.instances[c]))if(mh(l)){const a=(l.__vccOpts||l)[t];a&&s.push(Ht(a,n,r,i,c,o))}else{let u=l();s.push(()=>u.then(a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${i.path}"`));const d=wd(a)?a.default:a;i.components[c]=d;const b=(d.__vccOpts||d)[t];return b&&Ht(b,n,r,i,c,o)()}))}}return s}function mh(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Vi(e){const t=_t(xs),n=_t(Tl),r=Je(()=>{const l=Pn(e.to);return t.resolve(l)}),o=Je(()=>{const{matched:l}=r.value,{length:u}=l,a=l[u-1],d=n.matched;if(!a||!d.length)return-1;const p=d.findIndex(In.bind(null,a));if(p>-1)return p;const b=Qi(l[u-2]);return u>1&&Qi(a)===b&&d[d.length-1].path!==b?d.findIndex(In.bind(null,l[u-2])):p}),s=Je(()=>o.value>-1&&bh(n.params,r.value.params)),i=Je(()=>o.value>-1&&o.value===n.matched.length-1&&Ol(n.params,r.value.params));function c(l={}){return vh(l)?t[Pn(e.replace)?"replace":"push"](Pn(e.to)).catch(Qn):Promise.resolve()}return{route:r,href:Je(()=>r.value.href),isActive:s,isExactActive:i,navigate:c}}const _h=Jc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Vi,setup(e,{slots:t}){const n=hr(Vi(e)),{options:r}=_t(xs),o=Je(()=>({[ki(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ki(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:vl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),gh=_h;function vh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function bh(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!at(o)||o.length!==r.length||r.some((s,i)=>s!==o[i]))return!1}return!0}function Qi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ki=(e,t,n)=>e??t??n,Eh=Jc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=_t(ko),o=Je(()=>e.route||r.value),s=_t(Gi,0),i=Je(()=>{let u=Pn(s);const{matched:a}=o.value;let d;for(;(d=a[u])&&!d.components;)u++;return u}),c=Je(()=>o.value.matched[i.value]);xr(Gi,Je(()=>i.value+1)),xr(ph,c),xr(ko,o);const l=bs();return Kn(()=>[l.value,c.value,e.name],([u,a,d],[p,b,x])=>{a&&(a.instances[d]=u,b&&b!==a&&u&&u===p&&(a.leaveGuards.size||(a.leaveGuards=b.leaveGuards),a.updateGuards.size||(a.updateGuards=b.updateGuards))),u&&a&&(!b||!In(a,b)||!p)&&(a.enterCallbacks[d]||[]).forEach(A=>A(u))},{flush:"post"}),()=>{const u=o.value,a=e.name,d=c.value,p=d&&d.components[a];if(!p)return zi(n.default,{Component:p,route:u});const b=d.props[a],x=b?b===!0?u.params:typeof b=="function"?b(u):b:null,D=vl(p,ie({},x,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[a]=null)},ref:l}));return zi(n.default,{Component:D,route:u})||D}}});function zi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const wh=Eh;function yh(e){const t=lh(e.routes,e),n=e.parseQuery||dh,r=e.stringifyQuery||qi,o=e.history,s=$n(),i=$n(),c=$n(),l=_u(Tt);let u=Tt;vn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const a=Mo.bind(null,M=>""+M),d=Mo.bind(null,Td),p=Mo.bind(null,or);function b(M,F){let U,W;return Il(M)?(U=t.getRecordMatcher(M),W=F):W=M,t.addRoute(W,U)}function x(M){const F=t.getRecordMatcher(M);F&&t.removeRoute(F)}function A(){return t.getRoutes().map(M=>M.record)}function D(M){return!!t.getRecordMatcher(M)}function y(M,F){if(F=ie({},F||l.value),typeof M=="string"){const h=Co(n,M,F.path),w=t.resolve({path:h.path},F),C=o.createHref(h.fullPath);return ie(h,w,{params:p(w.params),hash:or(h.hash),redirectedFrom:void 0,href:C})}let U;if(M.path!=null)U=ie({},M,{path:Co(n,M.path,F.path).path});else{const h=ie({},M.params);for(const w in h)h[w]==null&&delete h[w];U=ie({},M,{params:d(h)}),F.params=d(F.params)}const W=t.resolve(U,F),se=M.hash||"";W.params=a(p(W.params));const he=Bd(r,ie({},M,{hash:Id(se),path:W.path})),f=o.createHref(he);return ie({fullPath:he,hash:se,query:r===qi?hh(M.query):M.query||{}},W,{redirectedFrom:void 0,href:f})}function E(M){return typeof M=="string"?Co(n,M,l.value.path):ie({},M)}function m(M,F){if(u!==M)return Dn(8,{from:F,to:M})}function P(M){return v(M)}function O(M){return P(ie(E(M),{replace:!0}))}function _(M){const F=M.matched[M.matched.length-1];if(F&&F.redirect){const{redirect:U}=F;let W=typeof U=="function"?U(M):U;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=E(W):{path:W},W.params={}),ie({query:M.query,hash:M.hash,params:W.path!=null?{}:M.params},W)}}function v(M,F){const U=u=y(M),W=l.value,se=M.state,he=M.force,f=M.replace===!0,h=_(U);if(h)return v(ie(E(h),{state:typeof h=="object"?ie({},se,h.state):se,force:he,replace:f}),F||U);const w=U;w.redirectedFrom=F;let C;return!he&&Fd(r,W,U)&&(C=Dn(16,{to:w,from:W}),Xe(W,W,!0,!1)),(C?Promise.resolve(C):le(w,W)).catch(S=>Et(S)?Et(S,2)?S:ut(S):te(S,w,W)).then(S=>{if(S){if(Et(S,2))return v(ie({replace:f},E(S.to),{state:typeof S.to=="object"?ie({},se,S.to.state):se,force:he}),F||w)}else S=Le(w,W,!0,f,se);return Pe(w,W,S),S})}function R(M,F){const U=m(M,F);return U?Promise.reject(U):Promise.resolve()}function H(M){const F=Dt.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(M):M()}function le(M,F){let U;const[W,se,he]=Ph(M,F);U=Oo(W.reverse(),"beforeRouteLeave",M,F);for(const h of W)h.leaveGuards.forEach(w=>{U.push(Ht(w,M,F))});const f=R.bind(null,M,F);return U.push(f),be(U).then(()=>{U=[];for(const h of s.list())U.push(Ht(h,M,F));return U.push(f),be(U)}).then(()=>{U=Oo(se,"beforeRouteUpdate",M,F);for(const h of se)h.updateGuards.forEach(w=>{U.push(Ht(w,M,F))});return U.push(f),be(U)}).then(()=>{U=[];for(const h of he)if(h.beforeEnter)if(at(h.beforeEnter))for(const w of h.beforeEnter)U.push(Ht(w,M,F));else U.push(Ht(h.beforeEnter,M,F));return U.push(f),be(U)}).then(()=>(M.matched.forEach(h=>h.enterCallbacks={}),U=Oo(he,"beforeRouteEnter",M,F,H),U.push(f),be(U))).then(()=>{U=[];for(const h of i.list())U.push(Ht(h,M,F));return U.push(f),be(U)}).catch(h=>Et(h,8)?h:Promise.reject(h))}function Pe(M,F,U){c.list().forEach(W=>H(()=>W(M,F,U)))}function Le(M,F,U,W,se){const he=m(M,F);if(he)return he;const f=F===Tt,h=vn?history.state:{};U&&(W||f?o.replace(M.fullPath,ie({scroll:f&&h&&h.scroll},se)):o.push(M.fullPath,se)),l.value=M,Xe(M,F,U,f),ut()}let Ue;function bt(){Ue||(Ue=o.listen((M,F,U)=>{if(!hn.listening)return;const W=y(M),se=_(W);if(se){v(ie(se,{replace:!0}),W).catch(Qn);return}u=W;const he=l.value;vn&&Vd(Ui(he.fullPath,U.delta),lo()),le(W,he).catch(f=>Et(f,12)?f:Et(f,2)?(v(f.to,W).then(h=>{Et(h,20)&&!U.delta&&U.type===sr.pop&&o.go(-1,!1)}).catch(Qn),Promise.reject()):(U.delta&&o.go(-U.delta,!1),te(f,W,he))).then(f=>{f=f||Le(W,he,!1),f&&(U.delta&&!Et(f,8)?o.go(-U.delta,!1):U.type===sr.pop&&Et(f,20)&&o.go(-1,!1)),Pe(W,he,f)}).catch(Qn)}))}let Be=$n(),Z=$n(),oe;function te(M,F,U){ut(M);const W=Z.list();return W.length?W.forEach(se=>se(M,F,U)):console.error(M),Promise.reject(M)}function nt(){return oe&&l.value!==Tt?Promise.resolve():new Promise((M,F)=>{Be.add([M,F])})}function ut(M){return oe||(oe=!M,bt(),Be.list().forEach(([F,U])=>M?U(M):F()),Be.reset()),M}function Xe(M,F,U,W){const{scrollBehavior:se}=e;if(!vn||!se)return Promise.resolve();const he=!U&&Qd(Ui(M.fullPath,0))||(W||!U)&&history.state&&history.state.scroll||null;return ws().then(()=>se(M,F,he)).then(f=>f&&Gd(f)).catch(f=>te(f,M,F))}const xe=M=>o.go(M);let It;const Dt=new Set,hn={currentRoute:l,listening:!0,addRoute:b,removeRoute:x,hasRoute:D,getRoutes:A,resolve:y,options:e,push:P,replace:O,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:s.add,beforeResolve:i.add,afterEach:c.add,onError:Z.add,isReady:nt,install(M){const F=this;M.component("RouterLink",gh),M.component("RouterView",wh),M.config.globalProperties.$router=F,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>Pn(l)}),vn&&!It&&l.value===Tt&&(It=!0,P(o.location).catch(se=>{}));const U={};for(const se in Tt)Object.defineProperty(U,se,{get:()=>l.value[se],enumerable:!0});M.provide(xs,F),M.provide(Tl,Bc(U)),M.provide(ko,l);const W=M.unmount;Dt.add(M),M.unmount=function(){Dt.delete(M),Dt.size<1&&(u=Tt,Ue&&Ue(),Ue=null,l.value=Tt,It=!1,oe=!1),W()}}};function be(M){return M.reduce((F,U)=>F.then(()=>H(U)),Promise.resolve())}return hn}function Ph(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let i=0;i<s;i++){const c=t.matched[i];c&&(e.matched.find(u=>In(u,c))?r.push(c):n.push(c));const l=e.matched[i];l&&(t.matched.find(u=>In(u,l))||o.push(l))}return[n,r,o]}const Ah={data(){return{username:"",password:""}},methods:{handleLogin(){console.log("Username:",this.username),console.log("Password:",this.password),this.closeModal()},closeModal(){this.$emit("close")}}},ao=e=>(Ps("data-v-9868ee3d"),e=e(),As(),e),Rh={class:"modal-content"},Sh=ao(()=>q("h2",null,"登入",-1)),Mh=ao(()=>q("label",{for:"username"},"帳號:",-1)),Ch=ao(()=>q("label",{for:"password"},"密碼:",-1)),Oh={class:"buttons"},xh=ao(()=>q("button",{type:"submit"},"確認",-1));function Ih(e,t,n,r,o,s){return ge(),De("div",{class:"modal-overlay",onClick:t[4]||(t[4]=Ii((...i)=>s.closeModal&&s.closeModal(...i),["self"]))},[q("div",Rh,[Sh,q("form",{onSubmit:t[3]||(t[3]=Ii((...i)=>s.handleLogin&&s.handleLogin(...i),["prevent"]))},[q("div",null,[Mh,ci(q("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=i=>o.username=i),required:""},null,512),[[xi,o.username]])]),q("div",null,[Ch,ci(q("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=i=>o.password=i),required:""},null,512),[[xi,o.password]])]),q("div",Oh,[q("button",{type:"button",onClick:t[2]||(t[2]=(...i)=>s.closeModal&&s.closeModal(...i))},"取消"),xh])],32)])])}const Nl=Ot(Ah,[["render",Ih],["__scopeId","data-v-9868ee3d"]]),Dh={name:"HomePage",components:{LoginModal:Nl},data(){return{showLoginModal:!1}},methods:{showGlobal(e){console.log(e?window.taiwan:hello)}}},Lh=q("h1",null,"Home Page",-1),Th=oo('<hr><section class="verify-item"><h2>Verify Item:</h2><div><input type="checkbox" name="" id="aa"><label for="aa">1. Full Screen Mask</label></div><div><input type="checkbox" name="" id="bb"><label for="bb">2. Popup Dialog</label></div><div><input type="checkbox" name="" id="cc"><label for="cc">3. JS Isolation</label></div></section>',2);function Nh(e,t,n,r,o,s){const i=kt("LoginModal");return ge(),De("div",null,[Lh,q("main",null,[q("button",{onClick:t[0]||(t[0]=c=>o.showLoginModal=!0),class:"login-btn"},"登入"),q("button",{onClick:t[1]||(t[1]=c=>s.showGlobal(!1)),class:"login-btn"},"顯示全域變數"),q("button",{onClick:t[2]||(t[2]=c=>s.showGlobal(!0)),class:"login-btn"},"顯示window全域變數")]),Th,o.showLoginModal?(ge(),pr(i,{key:0,onClose:t[3]||(t[3]=c=>o.showLoginModal=!1)})):Ms("",!0)])}const Uh=Ot(Dh,[["render",Nh]]),Bh={name:"ProductsPage",data(){return{}},methods:{},computed:{seriesList(){return xn().series}}},Fh=e=>(Ps("data-v-5978a562"),e=e(),As(),e),$h=Fh(()=>q("h1",null,"Products",-1)),Hh={class:"lego-series"},Wh=["src"],jh={class:"title"},Kh=oo('<hr data-v-5978a562><section class="verify-item" data-v-5978a562><h2 data-v-5978a562>Verify Item:</h2><div data-v-5978a562><input type="checkbox" name="" id="aa" data-v-5978a562><label for="aa" data-v-5978a562>1. RWD</label></div><div data-v-5978a562><input type="checkbox" name="" id="bb" data-v-5978a562><label for="bb" data-v-5978a562>2. Route keeping</label></div></section>',2);function qh(e,t,n,r,o,s){const i=kt("router-link");return ge(),De("div",null,[$h,q("main",null,[q("div",Hh,[(ge(!0),De(We,null,no(s.seriesList,c=>(ge(),pr(i,{key:c.key,to:`/series/${c.key}`},{default:tn(()=>[q("img",{src:c.img,alt:""},null,8,Wh),q("div",jh,yt(c.name),1)]),_:2},1032,["to"]))),128))])]),Kh])}const Gh=Ot(Bh,[["render",qh],["__scopeId","data-v-5978a562"]]),Tr=Pl("cart",{state:()=>({cartItems:[]}),getters:{totalPrice:e=>e.cartItems.reduce((t,n)=>t+n.price*n.quantity,0)},actions:{addToCart(e){console.log(e),console.log("MMM",this.cartItems);const t=this.cartItems.find(n=>n.no===e.no);t?(console.log("111"),t.quantity+=1):(console.log("2222"),this.cartItems.push({...e,quantity:1}))},clearCart(){this.cartItems=[]}}}),Vh={name:"ProductCard",props:{product:Object},setup(e,t){const n=Tr(),r=xn();return{addToCart:()=>{e.product.quantity>0&&(n.addToCart(e.product),r.moveToCart(e.product.no))}}}},Qh={class:"product-card"},kh=["src","alt"],zh={class:"product-title"},Xh={class:"product-price"};function Yh(e,t,n,r,o,s){return ge(),De("div",Qh,[q("img",{src:n.product.img,alt:n.product.name,class:"product-image"},null,8,kh),q("h2",zh,yt(n.product.name),1),q("p",Xh,"$"+yt(n.product.price),1),q("button",{onClick:t[0]||(t[0]=(...i)=>r.addToCart&&r.addToCart(...i)),class:"add-to-cart"},"Add to Cart")])}const Jh=Ot(Vh,[["render",Yh],["__scopeId","data-v-d4823ebd"]]),Zh={name:"ProductSeriesPage",components:{ProductCard:Jh},computed:{seriesName(){const t=xn().series.find(n=>n.key===this.$route.params.series);return t?t.name:""},seriesProducts(){const t=xn().series.find(n=>n.key===this.$route.params.series);return t?t.list:[]}}},ep={class:"series-list"},tp=oo('<hr><section class="verify-item"><h2>Verify Item:</h2><div><input type="checkbox" name="" id="aa"><label for="aa">1. Store</label></div><div><input type="checkbox" name="" id="bb"><label for="bb">2. Sizing</label></div><div><input type="checkbox" name="" id="bb"><label for="bb">3. Prev/Next Page</label></div></section>',2);function np(e,t,n,r,o,s){const i=kt("ProductCard");return ge(),De("div",null,[q("h1",null,"Series: "+yt(s.seriesName),1),q("main",ep,[(ge(!0),De(We,null,no(s.seriesProducts,c=>(ge(),De("div",{key:c.no},[me(i,{product:c},null,8,["product"])]))),128))]),tp])}const rp=Ot(Zh,[["render",np]]),op={name:"CartPage",computed:{cartItems(){return Tr().cartItems},totalPrice(){return Tr().totalPrice}},methods:{clearCart(){Tr().clearCart()},checkout(){window.microApp.dispatch({msg:"This is a blessing from the sub application"})}}},sp=e=>(Ps("data-v-9b5c7b37"),e=e(),As(),e),ip=sp(()=>q("h1",null,"Cart Page",-1)),cp=oo('<hr data-v-9b5c7b37><section class="verify-item" data-v-9b5c7b37><h2 data-v-9b5c7b37>Verify Item:</h2><div data-v-9b5c7b37><input type="checkbox" name="" id="aa" data-v-9b5c7b37><label for="aa" data-v-9b5c7b37>1. Keep Alive</label></div><div data-v-9b5c7b37><input type="checkbox" name="" id="bb" data-v-9b5c7b37><label for="bb" data-v-9b5c7b37>2. Communication</label></div></section>',2);function lp(e,t,n,r,o,s){return ge(),De("div",null,[ip,q("main",null,[(ge(!0),De(We,null,no(s.cartItems,i=>(ge(),De("div",{key:i.id,class:"cart-item"},[q("p",null,"Name: "+yt(i.name),1),q("p",null,"Quantity: "+yt(i.quantity),1),q("p",null,"Price: "+yt(i.price),1)]))),128)),q("p",null,"Total: "+yt(s.totalPrice),1),q("button",{onClick:t[0]||(t[0]=(...i)=>s.clearCart&&s.clearCart(...i))},"Clear Cart"),q("button",{onClick:t[1]||(t[1]=(...i)=>s.checkout&&s.checkout(...i)),class:"custom-btn"},"Send Msg to FMS")]),cp])}const ap=Ot(op,[["render",lp],["__scopeId","data-v-9b5c7b37"]]),up={name:"HomePage",components:{LoginModal:Nl},data(){return{showLoginModal:!1}}},fp=q("h1",null,"Other Page",-1),dp=q("hr",null,null,-1),hp=q("section",{class:"verify-item"},[q("h2",null,"Verify Item:"),q("div",null,[q("input",{type:"checkbox",name:"",id:"aa"}),q("label",{for:"aa"},"1. Multiple Nested")])],-1);function pp(e,t,n,r,o,s){const i=kt("micro-app-lego"),c=kt("LoginModal");return ge(),De("div",null,[fp,q("main",null,[me(i,{name:"my-app123",url:"https://k8cchaha.github.io/collection/"})]),dp,hp,o.showLoginModal?(ge(),pr(c,{key:0,onClose:t[0]||(t[0]=l=>o.showLoginModal=!1)})):Ms("",!0)])}const mp=Ot(up,[["render",pp]]),_p=[{path:"/",component:Uh},{path:"/products",component:Gh},{path:"/series/:series",component:rp},{path:"/cart",component:ap},{path:"/other",component:mp}],gp="/website-mf-testing/",vp=yh({history:Yd(gp),routes:_p}),bp=cd(),Ep="1.0.0-rc.5",Is=typeof window<"u",Ul=typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:Function("return this")(),wp=()=>!1,gt=Array.isArray,et=Object.assign,Me=Object.defineProperty,Pt=Object.defineProperties,yp=Object.prototype.toString,nn=Object.prototype.hasOwnProperty,xt=e=>yp.call(e);function an(e){return e===void 0}function zo(e){return e===null}function ue(e){return typeof e=="string"}function Bl(e){return typeof e=="boolean"}function Xo(e){return typeof e=="number"}function X(e){return typeof e=="function"}function ve(e){return xt(e)==="[object Object]"}function Fl(e){return!zo(e)&&typeof e=="object"}function Yo(e){return xt(e)==="[object Promise]"}function Pp(e){return X(e)&&e.name.indexOf("bound ")===0&&!e.hasOwnProperty("prototype")}function Ds(e){var t;if(X(e)){const n=e.toString();return((t=e.prototype)===null||t===void 0?void 0:t.constructor)===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\s+[A-Z]/.test(n)||/^class\s+/.test(n)}return!1}function Ap(e){return typeof ShadowRoot<"u"&&e instanceof ShadowRoot}function _r(e){var t;return e instanceof URL||!!(!((t=e)===null||t===void 0)&&t.href)}function qt(e){var t;return e instanceof Element||ue((t=e)===null||t===void 0?void 0:t.tagName)}function Ln(e){var t;return e instanceof Node||Xo((t=e)===null||t===void 0?void 0:t.nodeType)}function $l(e){return xt(e)==="[object HTMLLinkElement]"}function Ls(e){return xt(e)==="[object HTMLStyleElement]"}function Sn(e){return xt(e)==="[object HTMLScriptElement]"}function Rp(e){return xt(e)==="[object HTMLDivElement]"}function Sp(e){return xt(e)==="[object HTMLImageElement]"}function Mp(e){return xt(e)==="[object HTMLBaseElement]"}function Jo(e){return qt(e)&&e.tagName.toUpperCase()==="MICRO-APP-BODY"}function Cp(e){return xt(e)==="[object ProxyDocument]"}function Hl(e,t){try{return pe(e).pathname.split(".").pop()===t}catch{return!1}}function Ye(e,t,n){if(e==null)throw new TypeError("includes target is null or undefined");const r=Object(e),o=parseInt(r.length,10)||0;if(o===0)return!1;n=parseInt(n,10)||0;let s=Math.max(n>=0?n:o+n,0);for(;s<o;){if(t===r[s]||t!==t&&r[s]!==r[s])return!0;s++}return!1}function J(e,t=null,...n){const r=t&&ue(t)?` app ${t}:`:"";ue(e)?console.error(`[micro-app]${r} ${e}`,...n):console.error(`[micro-app]${r}`,e,...n)}function zt(e,t=null,...n){const r=t&&ue(t)?` app ${t}:`:"";ue(e)?console.warn(`[micro-app]${r} ${e}`,...n):console.warn(`[micro-app]${r}`,e,...n)}function ct(e,...t){Promise.resolve().then(e.bind(null,...t))}const pe=function(){class e extends URL{}return(t,n)=>n?new e(""+t,n):new e(""+t)}();function Ts(e){return e.startsWith("//")?`${Ul.location.protocol}${e}`:e}function Zo(e,t=null){if(!ue(e)||!e)return"";try{const{origin:n,pathname:r,search:o}=pe(Ts(e),(window.rawWindow||window).location.href),s=`${n}${r}${o}`;return/^https?:\/\//.test(s)?s:""}catch(n){return J(n,t),""}}function Se(e){return!ue(e)||!e?"":e.replace(/(^\d+)|([^\w\d-_])/gi,"")}function uo(e){const{origin:t,pathname:n}=pe(e);if(/\.(\w+)$/.test(n)){const o=`${t}${n}`.split("/");return o.pop(),o.join("/")+"/"}return`${t}${n}/`.replace(/\/\/$/,"/")}function Qe(e,t){return!e||/^((((ht|f)tps?)|file):)?\/\//.test(e)||/^(data|blob):/.test(e)?e:pe(e,uo(Ts(t))).toString()}function Op(e){const t=e.split("/");return t.pop(),Ts(t.join("/")+"/")}function fo(e,t,n,r){let o=0;function s(){++o===e.length&&r&&r()}e.forEach((i,c)=>{Yo(i)?i.then(l=>{t({data:l,index:c}),s()}).catch(l=>{n({error:l,index:c}),s()}):(t({data:i,index:c}),s())})}function xp(){return"noModule"in document.createElement("script")}function Ip(){return"inline-"+Math.random().toString(36).substr(2,15)}function Dp(e){return e.filter(function(t){return t in this?!1:this[t]=!0},Object.create(null))}const ho=Ul.requestIdleCallback||function(e){const t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-t))}})},1)};function Wl(e){return new Promise(t=>{ho(()=>{e(t)})})}let Ns=null;function es(e){Ns=e}function Ve(){return Ns}let Nr=!1;function Ee(e){es(null),e&&!Nr&&(Nr=!0,ct(()=>{Nr=!1}))}function un(e){Ns!==e&&!Nr&&(es(e),ct(()=>{es(null)}))}function ke(e,t){const n=(window.rawDocument||document).createElement(e,t);return n.__MICRO_APP_NAME__&&delete n.__MICRO_APP_NAME__,n.__PURE_ELEMENT__=!0,n}function Wt(e){return!e||/(^\d)|([^\w\d-_\u4e00-\u9fa5])/gi.test(e)}function Mn(e){return/^body$/i.test(e)||/^head$/i.test(e)||/^html$/i.test(e)||/^title$/i.test(e)||/^:root$/i.test(e)}function Mt(e){return Ap(e)?e.host:e}function xo(e){return e?e.replace(/^\s+|\s+$/g,""):""}function Xi(){return navigator.userAgent.indexOf("Firefox")>-1}function Yi(e){const t={},n=e.split("&");for(const r of n){const o=r.indexOf("="),s=o<0?r:r.slice(0,o),i=o<0?null:r.slice(o+1);if(s in t){let c=t[s];gt(c)||(c=t[s]=[c]),c.push(i)}else t[s]=i}return t}function Wr(e){let t="";for(const n in e){const r=e[n];zo(r)?t+=(t.length?"&":"")+n:(gt(r)?r:[r]).forEach(s=>{an(s)||(t+=(t.length?"&":"")+n,zo(s)||(t+="="+s))})}return t}function Ji(){const e=new Set;function t(n){return e.add(n),()=>e.has(n)?e.delete(n):!1}return{add:t,list:()=>e}}function Lp(){const e=new Map;function t(n,r){return e.set(n,r),()=>e.has(n)?e.delete(n):!1}return{add:t,get:n=>e.get(n),delete:n=>e.has(n)?e.delete(n):!1}}function ts(e){const t=e.attributes,n=new Map;for(let r=0;r<t.length;r++)n.set(t[r].name,t[r].value);return n}function ir(e,t){e?e.push(()=>Wl(n=>{t(),n()})):t()}function cr(e){return(e==null?void 0:e.reduce((t,n)=>t.then(n),Promise.resolve()))||null}function lr(e){return e.startsWith("inline-")}function Zi(e,t,n,...r){try{X(e)&&e(...r)}catch(o){J(`An error occurred in app ${t} window.${n} 
`,null,o)}}function Tp(e){for(;e!=null&&e.firstChild;)e.removeChild(e.firstChild)}function Np(){var e;return((e=window.rawWindow)===null||e===void 0?void 0:e.HTMLElement)||window.HTMLElement}const Up=["mounted","unmount"];function ns(e,t){return Up.includes(e)?`${e}-${t}`:e}function Bp(e,t){Object.defineProperties(e,{currentTarget:{get(){return t}},target:{get(){return t}}})}function Ut(e,t,n,r){var o;if(!e)return J(`element does not exist in lifecycle ${n}`,t);e=Mt(e),Ee();const s=et({name:t,container:e},r&&{error:r}),i=new CustomEvent(n,{detail:s});Bp(i,e),X((o=G.options.lifeCycles)===null||o===void 0?void 0:o[n])&&G.options.lifeCycles[n](i,t),e.dispatchEvent(i)}function ht(e,t,n={}){var r;const o=new CustomEvent(ns(t,e.name),{detail:n});(r=e.sandBox)===null||r===void 0||r.microAppWindow.dispatchEvent(o)}function dn(e,t=null,n={}){return Ee(),X(G.options.fetch)?G.options.fetch(e,n,t):window.fetch(e,n).then(r=>r.text())}class Us{static getInstance(){return this.instance||(this.instance=new Us),this.instance}run(t,n){const r=t.name,o=t.ssrUrl||t.url;(Hl(o,"js")?Promise.resolve(`<micro-app-head><script src='${o}'><\/script></micro-app-head><micro-app-body></micro-app-body>`):dn(o,r,{cache:"no-cache"})).then(c=>{if(!c){const l="html is empty, please check in detail";return t.onerror(new Error(l)),J(l,r)}c=this.formatHTML(o,c,r),n(c,t)}).catch(c=>{J(`Failed to fetch data from ${t.url}, micro-app stop rendering`,r,c),t.onLoadError(c)})}formatHTML(t,n,r){return this.processHtml(t,n,r,G.options.plugins).replace(/<head[^>]*>[\s\S]*?<\/head>/i,o=>o.replace(/<head/i,"<micro-app-head").replace(/<\/head>/i,"</micro-app-head>")).replace(/<body[^>]*>[\s\S]*?<\/body>/i,o=>o.replace(/<body/i,"<micro-app-body").replace(/<\/body>/i,"</micro-app-body>"))}processHtml(t,n,r,o){var s;if(!o)return n;const i=[];return o.global&&i.push(...o.global),!((s=o.modules)===null||s===void 0)&&s[r]&&i.push(...o.modules[r]),i.length>0?i.reduce((c,l)=>ve(l)&&X(l.processHtml)?l.processHtml(c,t):c,n):n}}const Fp=/(^|\s+)(html|:root)(?=[\s>~[.#:]+|$)/,ec=/(^|\s+)((html[\s>~]+body)|body)(?=[\s>~[.#:]+|$)/;function ot(e,t){e=t?`${t} ${e}`:e;const n=new Error(e);throw n.reason=e,t&&(n.filename=t),n}class $p{constructor(){this.cssText="",this.prefix="",this.baseURI="",this.linkPath="",this.result="",this.scopecssDisable=!1,this.scopecssDisableSelectors=[],this.scopecssDisableNextLine=!1,this.mediaRule=this.createMatcherForRuleWithChildRule(/^@media *([^{]+)/,"@media"),this.supportsRule=this.createMatcherForRuleWithChildRule(/^@supports *([^{]+)/,"@supports"),this.documentRule=this.createMatcherForRuleWithChildRule(/^@([-\w]+)?document *([^{]+)/,"@document"),this.hostRule=this.createMatcherForRuleWithChildRule(/^@host\s*/,"@host"),this.importRule=this.createMatcherForNoneBraceAtRule("import"),this.charsetRule=this.createMatcherForNoneBraceAtRule("charset"),this.namespaceRule=this.createMatcherForNoneBraceAtRule("namespace"),this.containerRule=this.createMatcherForRuleWithChildRule(/^@container *([^{]+)/,"@container")}exec(t,n,r,o){return this.cssText=t,this.prefix=n,this.baseURI=r,this.linkPath=o||"",this.matchRules(),Xi()?decodeURIComponent(this.result):this.result}reset(){this.cssText=this.prefix=this.baseURI=this.linkPath=this.result="",this.scopecssDisable=this.scopecssDisableNextLine=!1,this.scopecssDisableSelectors=[]}matchRules(){for(this.matchLeadingSpaces(),this.matchComments();this.cssText.length&&this.cssText.charAt(0)!=="}"&&(this.matchAtRule()||this.matchStyleRule());)this.matchComments()}matchStyleRule(){const t=this.formatSelector(!0);return this.scopecssDisableNextLine=!1,t?(this.recordResult(t),this.matchComments(),this.styleDeclarations(),this.matchLeadingSpaces(),!0):ot("selector missing",this.linkPath)}formatSelector(t){const n=this.commonMatch(/^[^{]+/,t);return n?n[0].replace(/(^|,[\n\s]*)([^,]+)/g,(r,o,s)=>(s=xo(s),this.scopecssDisableNextLine||this.scopecssDisable&&(!this.scopecssDisableSelectors.length||this.scopecssDisableSelectors.includes(s))||Fp.test(s)||(ec.test(s)?s=s.replace(ec,this.prefix+" micro-app-body"):s=this.prefix+" "+s),o+s)):!1}styleDeclarations(){return this.matchOpenBrace()?(this.matchAllDeclarations(),this.matchCloseBrace()?!0:ot("Declaration missing '}'",this.linkPath)):ot("Declaration missing '{'",this.linkPath)}matchAllDeclarations(t=1){let n=this.commonMatch(/^(?:url\(["']?(?:[^)"'}]+)["']?\)|[^{}/])*/,!0)[0];if(n&&(!this.scopecssDisableNextLine&&(!this.scopecssDisable||this.scopecssDisableSelectors.length)&&(n=n.replace(/url\(["']?([^)"']+)["']?\)/gm,(r,o)=>/^((data|blob):|#|%23)/.test(o)||/^(https?:)?\/\//.test(o)?r:(/^((\.\.?\/)|[^/])/.test(o)&&this.linkPath&&(this.baseURI=Op(this.linkPath)),`url("${Qe(o,this.baseURI)}")`))),this.recordResult(n)),this.scopecssDisableNextLine=!1,!!this.cssText)return this.cssText.charAt(0)==="}"?t?(t>1&&this.commonMatch(/}+/),this.matchAllDeclarations(t-1)):void 0:(this.cssText.charAt(0)==="/"&&(this.cssText.charAt(1)==="*"?this.matchComments():this.commonMatch(/\/+/)),this.cssText.charAt(0)==="{"&&(this.commonMatch(/{+\s*/),t++),this.matchAllDeclarations(t))}matchAtRule(){return this.cssText[0]!=="@"?!1:(this.scopecssDisableNextLine=!1,this.keyframesRule()||this.mediaRule()||this.customMediaRule()||this.supportsRule()||this.importRule()||this.charsetRule()||this.namespaceRule()||this.containerRule()||this.documentRule()||this.pageRule()||this.hostRule()||this.fontFaceRule())}keyframesRule(){if(!this.commonMatch(/^@([-\w]+)?keyframes\s*/))return!1;if(!this.commonMatch(/^[^{]+/))return ot("@keyframes missing name",this.linkPath);if(this.matchComments(),!this.matchOpenBrace())return ot("@keyframes missing '{'",this.linkPath);for(this.matchComments();this.keyframeRule();)this.matchComments();return this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):ot("@keyframes missing '}'",this.linkPath)}keyframeRule(){let t;const n=[];for(;t=this.commonMatch(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)n.push(t[1]),this.commonMatch(/^,\s*/);return n.length?(this.styleDeclarations(),this.matchLeadingSpaces(),!0):!1}customMediaRule(){return this.commonMatch(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/)?(this.matchLeadingSpaces(),!0):!1}pageRule(){return this.commonMatch(/^@page */)?(this.formatSelector(!1),this.scopecssDisableNextLine=!1,this.commonHandlerForAtRuleWithSelfRule("page")):!1}fontFaceRule(){return this.commonMatch(/^@font-face\s*/)?this.commonHandlerForAtRuleWithSelfRule("font-face"):!1}createMatcherForRuleWithChildRule(t,n){return()=>this.commonMatch(t)?this.matchOpenBrace()?(this.matchComments(),this.matchRules(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):ot(`${n} missing '}'`,this.linkPath)):ot(`${n} missing '{'`,this.linkPath):!1}createMatcherForNoneBraceAtRule(t){const n=new RegExp("^@"+t+"\\s*([^;]+);");return()=>this.commonMatch(n)?(this.matchLeadingSpaces(),!0):!1}commonHandlerForAtRuleWithSelfRule(t){return this.matchOpenBrace()?(this.matchAllDeclarations(),this.matchCloseBrace()?(this.matchLeadingSpaces(),!0):ot(`@${t} missing '}'`,this.linkPath)):ot(`@${t} missing '{'`,this.linkPath)}matchComments(){for(;this.matchComment(););}matchComment(){if(this.cssText.charAt(0)!=="/"||this.cssText.charAt(1)!=="*")return!1;this.scopecssDisableNextLine=!1;let t=2;for(;this.cssText.charAt(t)!==""&&(this.cssText.charAt(t)!=="*"||this.cssText.charAt(t+1)!=="/");)++t;if(t+=2,this.cssText.charAt(t-1)==="")return ot("End of comment missing",this.linkPath);let n=this.cssText.slice(2,t-2);return this.recordResult(`/*${n}*/`),n=xo(n.replace(/^\s*!/,"")),n==="scopecss-disable-next-line"?this.scopecssDisableNextLine=!0:/^scopecss-disable/.test(n)?n==="scopecss-disable"?this.scopecssDisable=!0:(this.scopecssDisable=!0,n.replace("scopecss-disable","").split(",").forEach(o=>{this.scopecssDisableSelectors.push(xo(o))})):n==="scopecss-enable"&&(this.scopecssDisable=!1,this.scopecssDisableSelectors=[]),this.cssText=this.cssText.slice(t),this.matchLeadingSpaces(),!0}commonMatch(t,n=!1){const r=t.exec(this.cssText);if(!r)return;const o=r[0];return this.cssText=this.cssText.slice(o.length),n||this.recordResult(o),r}matchOpenBrace(){return this.commonMatch(/^{\s*/)}matchCloseBrace(){return this.commonMatch(/^}/)}matchLeadingSpaces(){this.commonMatch(/^\s*/)}recordResult(t){Xi()?this.result+=encodeURIComponent(t):this.result+=t}}function tc(e,t,n,r,o){if(!e.__MICRO_APP_HAS_SCOPED__){e.__MICRO_APP_HAS_SCOPED__=!0;let s=null;try{s=zn.exec(e.textContent,n,r,o),zn.reset()}catch(i){zn.reset(),J(`An error occurred while parsing CSS:
`,t,i)}s&&(e.textContent=s)}}let zn;function Bs(e,t,n){if(t.scopecss){const r=Fs(t.name);if(zn||(zn=new $p),e.textContent)tc(e,t.name,r,t.url,n);else{const o=new MutationObserver(function(){o.disconnect(),e.textContent&&!e.hasAttribute("data-styled")&&tc(e,t.name,r,t.url,n)});o.observe(e,{childList:!0})}}return e}function Fs(e,t=!1){const n=t?"\\":"";return`${G.tagName}${n}[name=${e}${n}]`}function jl(e,t){Object.defineProperties(e,{currentTarget:{get(){return t}},srcElement:{get(){return t}},target:{get(){return t}}})}function Kl(e){const t=new CustomEvent("load");jl(t,e),X(e.onload)?e.onload(t):e.dispatchEvent(t)}function ql(e){const t=new CustomEvent("error");jl(t,e),X(e.onerror)?e.onerror(t):e.dispatchEvent(t)}function Hp(){const e=new Map,t=new Map;function n(r){return{setInfo(o,s){r.set(o,s)},getInfo(o){var s;return(s=r.get(o))!==null&&s!==void 0?s:null},hasInfo(o){return r.has(o)},deleteInfo(o){return r.delete(o)}}}return{link:n(e),script:Object.assign(Object.assign({},n(t)),{deleteInlineInfo(r){r.forEach(o=>{lr(o)&&t.delete(o)})}})}}var ze=Hp();function Wp(e,t,n){const r=n.appSpace;for(const o in r)if(o!==e){const s=r[o];if(s.parsedCode)return s.parsedCode.replace(new RegExp(Fs(o,!0),"g"),t)}}function jp(e,t){t.forEach((n,r)=>{r!=="rel"&&(r==="href"&&(r="data-origin-href"),g.rawSetAttribute.call(e,r,n))})}function Gl(e,t,n,r=!1){const o=e.getAttribute("rel");let s=e.getAttribute("href"),i=null;if(o==="stylesheet"&&s){s=Qe(s,n.url);let c=ze.link.getInfo(s);const l={attrs:ts(e)};if(c?c.appSpace[n.name]=c.appSpace[n.name]||l:c={code:"",appSpace:{[n.name]:l}},ze.link.setInfo(s,c),!r)n.source.links.add(s),i=document.createComment(`link element with href=${s} move to micro-app-head as style element`),c.appSpace[n.name].placeholder=i;else return{address:s,linkInfo:c}}else o&&["prefetch","preload","prerender","modulepreload"].includes(o)?r?i=document.createComment(`link element with rel=${o}${s?" & href="+s:""} removed by micro-app`):t==null||t.removeChild(e):s&&g.rawSetAttribute.call(e,"href",Qe(s,n.url));if(r)return{replaceComment:i};if(i)return t==null?void 0:t.replaceChild(i,e)}function Kp(e,t,n,r){const o=Array.from(t.source.links),s=o.map(c=>{const l=ze.link.getInfo(c);return l.code?l.code:dn(c,t.name)}),i=r?[]:null;fo(s,c=>{ir(i,()=>qp(o[c.index],c.data,n,t))},c=>{J(c,t.name)},()=>{r?r.then(()=>{i.push(()=>Promise.resolve(t.onLoad({html:e}))),cr(i)}):t.onLoad({html:e})})}function qp(e,t,n,r){const o=ze.link.getInfo(e);o.code=t;const s=o.appSpace[r.name],i=s.placeholder;if(i){const c=ke("style");Vl(r,e,c,o,s.attrs),i.parentNode?i.parentNode.replaceChild(c,i):n.appendChild(c),s.placeholder=null}}function Vl(e,t,n,r,o){if(e.scopecss){const s=r.appSpace[e.name];if(s.prefix=s.prefix||Fs(e.name),s.parsedCode)n.textContent=s.parsedCode;else{const i=Wp(e.name,s.prefix,r);i?n.textContent=i:(n.textContent=r.code,Bs(n,e,t)),s.parsedCode=n.textContent}}else n.textContent=r.code;jp(n,o)}function Gp(e,t,n,r){const o=ke("style"),s=()=>{Vl(t,e,o,n,n.appSpace[t.name].attrs),Kl(r)};return n.code?ct(s):dn(e,t.name).then(i=>{n.code=i,s()}).catch(i=>{J(i,t.name),ql(r)}),o}var Xn;(function(e){e.NAME="name",e.URL="url"})(Xn||(Xn={}));var Re;(function(e){e.CREATED="created",e.LOADING="loading",e.LOAD_FAILED="load_failed",e.BEFORE_MOUNT="before_mount",e.MOUNTING="mounting",e.MOUNTED="mounted",e.UNMOUNT="unmount"})(Re||(Re={}));var re;(function(e){e.CREATED="created",e.BEFOREMOUNT="beforemount",e.MOUNTED="mounted",e.UNMOUNT="unmount",e.ERROR="error",e.BEFORESHOW="beforeshow",e.AFTERSHOW="aftershow",e.AFTERHIDDEN="afterhidden"})(re||(re={}));var bn;(function(e){e.ONMOUNT="onmount",e.ONUNMOUNT="onunmount"})(bn||(bn={}));var Yn;(function(e){e.KEEP_ALIVE_SHOW="keep_alive_show",e.KEEP_ALIVE_HIDDEN="keep_alive_hidden"})(Yn||(Yn={}));var nc;(function(e){e.DESTROY="destroy",e.DESTORY="destory",e.INLINE="inline",e.DISABLESCOPECSS="disableScopecss",e.DISABLESANDBOX="disableSandbox",e.DISABLE_SCOPECSS="disable-scopecss",e.DISABLE_SANDBOX="disable-sandbox",e.DISABLE_MEMORY_ROUTER="disable-memory-router",e.DISABLE_PATCH_REQUEST="disable-patch-request",e.KEEP_ROUTER_STATE="keep-router-state",e.HIDDEN_ROUTER="hidden-router",e.KEEP_ALIVE="keep-alive",e.CLEAR_DATA="clear-data",e.SSR="ssr",e.FIBER="fiber"})(nc||(nc={}));const rc="window,self,globalThis,document,Document,Array,Object,String,Boolean,Math,Number,Symbol,Date,Function,Proxy,WeakMap,WeakSet,Set,Map,Reflect,Element,Node,RegExp,Error,TypeError,JSON,isNaN,parseFloat,parseInt,performance,console,decodeURI,encodeURI,decodeURIComponent,encodeURIComponent,navigator,undefined,location,history",oc=[1,2,3],Ql="state",ar="search",jr="native",kl="native-scope",zl="pure",Vp=[ar,Ql,jr,kl,zl],Xl=["popstate","hashchange","load","beforeunload","unload","unmount","appstate-change","statechange","mounted"],Qp=Xl,kp=Xl.concat(["unhandledrejection"]),Yl=["onpopstate","onhashchange","onload","onbeforeunload","onunload","onerror"],zp=Yl,Xp=Yl.concat(["onunhandledrejection"]),Yp=["DOMContentLoaded","readystatechange"],Jp=["onreadystatechange"],Jl=["window","self","globalThis"],Zp=["rawWindow","rawDocument"],em=["host","hostname","port","protocol","origin"],tm=["text/javascript","text/ecmascript","application/javascript","application/ecmascript","module","systemjs-module","systemjs-importmap"];function Gt(e,t){return t.appSpace[e.name].module&&(!e.useSandbox||e.iframe)}function nm(e,t){return t.appSpace[e.name].attrs.has("id")}function po(e,t){return e.inline||t.appSpace[e.name].inline||Gt(e,t)||nm(e,t)}function Zl(e){return e.iframe?e.sandBox.microAppWindow:g.rawWindow}function rm(e,t){const n=Zl(e);return new n.Function(t)}function om(e,t,n){const r=t.appSpace;for(const o in r)if(o!==e.name){const s=r[o];if(s.parsedCode===n&&s.parsedFunction)return s.parsedFunction}}function ea(e,t,n){return om(e,t,n)||rm(e,n)}function ta(){const e=Ip();return ze.script.hasInfo(e)?ta():e}function sm(e,t){t.forEach((n,r)=>{r==="type"&&n==="module"||r==="defer"||r==="async"||(r==="src"&&(r="data-origin-src"),g.rawSetAttribute.call(e,r,n))})}function na(e,t){return e.useSandbox&&!Gt(e,t)}function ra(e,t){return na(e,t)?e.iframe?"iframe":"with":"disable"}function oa(e,t,n,r=!1){var o;let s=null,i=e.getAttribute("src");if(i&&(i=Qe(i,n.url)),e.hasAttribute("exclude")||$s(i,n.name))s=document.createComment("script element with exclude attribute removed by micro-app");else{if(e.type&&!tm.includes(e.type)||e.hasAttribute("ignore")||Hs(i,n.name))return!((o=g.rawDocument)===null||o===void 0)&&o.currentScript&&delete g.rawDocument.currentScript,null;if(g.supportModuleScript&&e.noModule||!g.supportModuleScript&&e.type==="module")s=document.createComment(`${e.noModule?"noModule":"module"} script ignored by micro-app`);else if(i){let c=ze.script.getInfo(i);const l={async:e.hasAttribute("async"),defer:e.defer||e.type==="module",module:e.type==="module",inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:ts(e)};if(c?c.appSpace[n.name]=c.appSpace[n.name]||l:c={code:"",isExternal:!0,appSpace:{[n.name]:l}},ze.script.setInfo(i,c),!r)n.source.scripts.add(i),s=document.createComment(`script with src='${i}' extract by micro-app`);else return{address:i,scriptInfo:c}}else if(e.textContent){const c=ta(),l={code:e.textContent,isExternal:!1,appSpace:{[n.name]:{async:!1,defer:e.type==="module",module:e.type==="module",inline:e.hasAttribute("inline"),pure:e.hasAttribute("pure"),attrs:ts(e)}}};if(!r)n.source.scripts.add(c),ze.script.setInfo(c,l),s=document.createComment("inline script extract by micro-app");else return{address:c,scriptInfo:l}}else r||(s=document.createComment("script element removed by micro-app"))}return r?{replaceComment:s}:t==null?void 0:t.replaceChild(s,e)}function sa(e){var t,n,r;const o=((t=G.options.plugins)===null||t===void 0?void 0:t.global)||[],s=((r=(n=G.options.plugins)===null||n===void 0?void 0:n.modules)===null||r===void 0?void 0:r[e])||[];return[...o,...s]}function $s(e,t){return e?(sa(t)||[]).some(r=>r.excludeChecker?r.excludeChecker(e):!1):!1}function Hs(e,t){return e?(sa(t)||[]).some(r=>r.ignoreChecker?r.ignoreChecker(e):!1):!1}function im(e,t){const n=Array.from(t.source.scripts),r=[],o=[];for(const i of n){const c=ze.script.getInfo(i),l=c.appSpace[t.name];(!l.defer&&!l.async||t.isPrefetch&&!t.isPrerender)&&(r.push(c.code?c.code:dn(i,t.name)),o.push([i,c]))}const s=t.isPrefetch||t.fiber?[]:null;r.length?fo(r,i=>{ir(s,()=>cm(o[i.index][0],o[i.index][1],i.data,t))},i=>{J(i,t.name)},()=>{s?(s.push(()=>Promise.resolve(t.onLoad({html:e}))),cr(s)):t.onLoad({html:e})}):t.onLoad({html:e})}function cm(e,t,n,r){if(t.code=n,r.isPrefetch&&r.prefetchLevel===2){const o=t.appSpace[r.name];if(!o.parsedCode&&(o.parsedCode=ia(e,r,n,t),o.sandboxType=ra(r,t),!po(r,t)))try{o.parsedFunction=ea(r,t,o.parsedCode)}catch(s){J("Something went wrong while handling preloaded resources",r.name,`
`,s)}}}function lm(e,t){const n=e.fiber?[]:null,r=Array.from(e.source.scripts),o=[],s=[];for(const i of r){const c=ze.script.getInfo(i),l=c.appSpace[e.name];l.defer||l.async?(c.isExternal&&!c.code&&!Gt(e,c)?o.push(dn(i,e.name)):o.push(c.code),s.push([i,c]),Gt(e,c)&&(t.moduleCount=t.moduleCount?++t.moduleCount:1)):ir(n,()=>{Kr(i,e,c),t(!1)})}o.length?fo(o,i=>{const c=s[i.index][1];c.code=c.code||i.data},i=>{t.errorCount=t.errorCount?++t.errorCount:1,J(i,e.name)},()=>{s.forEach(([i,c])=>{ue(c.code)&&ir(n,()=>{Kr(i,e,c,t),!Gt(e,c)&&t(!1)})}),n?(n.push(()=>Promise.resolve(t(an(t.moduleCount)||t.errorCount===o.length))),cr(n)):t(an(t.moduleCount)||t.errorCount===o.length)}):n?(n.push(()=>Promise.resolve(t(!0))),cr(n)):t(!0)}function Kr(e,t,n,r,o){try{hm(t);const s=n.appSpace[t.name],i=ra(t,n);if((!s.parsedCode||s.sandboxType!==i)&&(s.parsedCode=ia(e,t,n.code,n),s.sandboxType=i,s.parsedFunction=null),po(t,n)){const c=o||ke("script");if(fm(e,s.parsedCode,Gt(t,n),c,s.attrs,r),!o){const l=t.iframe?t.sandBox.microBody:t.querySelector("micro-app-body");l==null||l.appendChild(c)}}else dm(t,n)}catch(s){throw console.error(`[micro-app from ${o?"runDynamicScript":"runScript"}] app ${t.name}: `,s,e),s}}function am(e,t,n,r){const o=po(t,n)?ke("script"):document.createComment("dynamic script extract by micro-app"),s=()=>Kl(r),i=()=>{const c=Object.getOwnPropertyDescriptor(g.rawDocument,"currentScript");(!c||c.configurable)&&Object.defineProperty(g.rawDocument,"currentScript",{value:r,configurable:!0}),Kr(e,t,n,s,o),!Gt(t,n)&&s()};return n.code||Gt(t,n)?ct(i):dn(e,t.name).then(c=>{n.code=c,i()}).catch(c=>{J(c,t.name),ql(r)}),o}function um(e,t,n){const r=po(t,n)?ke("script"):document.createComment("dynamic script extract by micro-app");return Kr(e,t,n,void 0,r),r}function fm(e,t,n,r,o,s){if(n){if(g.rawSetAttribute.call(r,"type","module"),lr(e)?r.textContent=t:r.src=e,s){const i=()=>{s.moduleCount&&s.moduleCount--,s(s.moduleCount===0)};lr(e)?ct(i):r.onload=i}}else r.textContent=t;sm(r,o)}function dm(e,t){const n=t.appSpace[e.name];n.parsedFunction||(n.parsedFunction=ea(e,t,n.parsedCode)),n.parsedFunction.call(Zl(e))}function ia(e,t,n,r){return ve(G.options.plugins)&&(n=mm(e,n,t.name,G.options.plugins)),na(t,r)?t.iframe?`(function(window,self,global,location){;${n}
${lr(e)?"":`//# sourceURL=${e}
`}}).call(window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyLocation);`:`;(function(proxyWindow){with(proxyWindow.__MICRO_APP_WINDOW__){(function(${rc}){;${n}
${lr(e)?"":`//# sourceURL=${e}
`}}).call(proxyWindow,${rc})}})(window.__MICRO_APP_PROXY_WINDOW__);`:n}function hm(e){pm(e)}function pm(e){e.sandBox&&(g.rawWindow.__MICRO_APP_PROXY_WINDOW__=e.sandBox.proxyWindow)}function mm(e,t,n,r){var o;const s=sc(r.global,t,e);return sc((o=r.modules)===null||o===void 0?void 0:o[n],s,e)}function sc(e,t,n){return gt(e)?e.reduce((r,o)=>ve(o)&&X(o.loader)?o.loader(r,n):r,t):t}function ca(e,t,n,r){const o=Array.from(e.children);o.length&&o.forEach(s=>{ca(s,t,n,r)});for(const s of o)$l(s)?s.hasAttribute("exclude")||$s(s.getAttribute("href"),t.name)?e.replaceChild(document.createComment("link element with exclude attribute ignored by micro-app"),s):s.hasAttribute("ignore")||Hs(s.getAttribute("href"),t.name)?s.hasAttribute("href")&&g.rawSetAttribute.call(s,"href",Qe(s.getAttribute("href"),t.url)):Gl(s,e,t):Ls(s)?s.hasAttribute("exclude")?e.replaceChild(document.createComment("style element with exclude attribute ignored by micro-app"),s):t.scopecss&&!s.hasAttribute("ignore")&&ir(r,()=>Bs(s,t)):Sn(s)?oa(s,e,t):Sp(s)&&s.hasAttribute("src")&&g.rawSetAttribute.call(s,"src",Qe(s.getAttribute("src"),t.url))}function _m(e,t){const n=t.parseHtmlString(e),r=g.rawElementQuerySelector.call(n,"micro-app-head"),o=g.rawElementQuerySelector.call(n,"micro-app-body");if(!r||!o){const c=`element ${r?"body":"head"} is missing`;return t.onerror(new Error(c)),J(c,t.name)}const s=t.isPrefetch||t.fiber?[]:null;ca(n,t,r,s);const i=cr(s);t.source.links.size?Kp(n,t,r,i):i?i.then(()=>t.onLoad({html:n})):t.onLoad({html:n}),t.source.scripts.size?im(n,t):t.onLoad({html:n})}class gm{constructor(){this.eventList=new Map,this.queue=[],this.recordStep={},this.process=()=>{var t,n;let r;const o=this.recordStep,s=this.queue;for(this.recordStep={},this.queue=[];r=s.shift();){const i=this.eventList.get(r),c=i.tempData,l=i.force;i.tempData=null,i.force=!1;let u;if(l||!this.isEqual(i.data,c)){i.data=c||i.data;for(const a of i.callbacks){const d=a(i.data);d&&(u??(u=[])).push(d)}(n=(t=o[r]).dispatchDataEvent)===null||n===void 0||n.call(t),o[r].nextStepList.forEach(a=>a(u))}}}}isLegalName(t){return t?!0:(J("event-center: Invalid name"),!1)}enqueue(t,n,r){this.recordStep[t]?(this.recordStep[t].nextStepList.push(n),r&&(this.recordStep[t].dispatchDataEvent=r)):this.recordStep[t]={nextStepList:[n],dispatchDataEvent:r},!this.queue.includes(t)&&this.queue.push(t)===1&&ct(this.process)}isEqual(t,n){if(!n||Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]!==n[r])return!1;return!0}on(t,n,r=!1){if(this.isLegalName(t)){if(!X(n))return J("event-center: Invalid callback function");let o=this.eventList.get(t);o?r&&Object.keys(o.data).length&&(!this.queue.includes(t)||this.isEqual(o.data,o.tempData))&&n(o.data):(o={data:{},callbacks:new Set},this.eventList.set(t,o)),o.callbacks.add(n)}}off(t,n){if(this.isLegalName(t)){const r=this.eventList.get(t);r&&(X(n)?r.callbacks.delete(n):r.callbacks.clear())}}clearData(t){if(this.isLegalName(t)){const n=this.eventList.get(t);n&&(n.data={})}}dispatch(t,n,r,o,s){if(this.isLegalName(t)){if(!ve(n))return J("event-center: data must be object");let i=this.eventList.get(t);i?(i.tempData=et({},i.tempData||i.data,n),!i.force&&(i.force=!!o)):(i={data:n,callbacks:new Set},this.eventList.set(t,i),i.force=!0),this.enqueue(t,r,s)}}getData(t){var n;const r=this.eventList.get(t);return(n=r==null?void 0:r.data)!==null&&n!==void 0?n:null}}const _e=new gm;function $e(e,t){return!ue(e)||!e?"":t?`__from_base_app_${e}__`:`__from_micro_app_${e}__`}class la{addGlobalDataListener(t,n){const r=this.appName;r&&(t.__APP_NAME__=r,t.__AUTO_TRIGGER__=n),_e.on("global",t,n)}removeGlobalDataListener(t){X(t)&&_e.off("global",t)}setGlobalData(t,n,r){Ee(),_e.dispatch("global",t,o=>X(n)&&n(o),r)}forceSetGlobalData(t,n){this.setGlobalData(t,n,!0)}getGlobalData(){return _e.getData("global")}clearGlobalData(){_e.clearData("global")}clearGlobalDataListener(){const t=this.appName,n=_e.eventList.get("global");if(n)for(const r of n.callbacks)(t&&t===r.__APP_NAME__||!(t||r.__APP_NAME__))&&n.callbacks.delete(r)}}class vm extends la{addDataListener(t,n,r){_e.on($e(Se(t),!1),n,r)}removeDataListener(t,n){X(n)&&_e.off($e(Se(t),!1),n)}getData(t,n=!1){return _e.getData($e(Se(t),n))}setData(t,n,r,o){_e.dispatch($e(Se(t),!0),n,s=>X(r)&&r(s),o)}forceSetData(t,n,r){this.setData(t,n,r,!0)}clearData(t,n=!0){_e.clearData($e(Se(t),n))}clearDataListener(t){_e.off($e(Se(t),!1))}}class aa extends la{constructor(t){super(),this.appName=Se(t),!this.appName&&J(`Invalid appName ${t}`)}addDataListener(t,n){t.__AUTO_TRIGGER__=n,_e.on($e(this.appName,!0),t,n)}removeDataListener(t){X(t)&&_e.off($e(this.appName,!0),t)}getData(t=!0){return _e.getData($e(this.appName,t))}dispatch(t,n,r){Ee(),_e.dispatch($e(this.appName,!1),t,o=>X(n)&&n(o),r,()=>{const o=Q.get(this.appName);if(o!=null&&o.container&&ve(t)){const s=new CustomEvent("datachange",{detail:{data:_e.getData($e(this.appName,!1))}});Mt(o.container).dispatchEvent(s)}})}forceDispatch(t,n){this.dispatch(t,n,!0)}clearData(t=!1){_e.clearData($e(this.appName,t))}clearDataListener(){_e.off($e(this.appName,!0))}}function ua(e){var t,n;if(e){e.umdDataListeners={global:new Set((t=e.umdDataListeners)===null||t===void 0?void 0:t.global),normal:new Set((n=e.umdDataListeners)===null||n===void 0?void 0:n.normal)};const r=_e.eventList.get("global");if(r)for(const s of r.callbacks)e.appName===s.__APP_NAME__&&e.umdDataListeners.global.add(s);const o=_e.eventList.get($e(e.appName,!0));if(o)for(const s of o.callbacks)e.umdDataListeners.normal.add(s)}}function fa(e){if(e!=null&&e.umdDataListeners){for(const t of e.umdDataListeners.global)e.addGlobalDataListener(t,t.__AUTO_TRIGGER__);for(const t of e.umdDataListeners.normal)e.addDataListener(t,t.__AUTO_TRIGGER__);Ws(e)}}function Ws(e){e==null||delete e.umdDataListeners}class qr{constructor(){this.appInstanceMap=Q}static getInstance(){return this.instance||(this.instance=new qr),this.instance}get(t){return this.appInstanceMap.get(t)}set(t,n){this.appInstanceMap.set(t,n)}getAll(){return Array.from(this.appInstanceMap.values())}clear(){this.appInstanceMap.clear()}}function da(){ha(),qr.getInstance().getAll().forEach(e=>{e.container&&Mt(e.container).disconnectedCallback()}),!window.__MICRO_APP_UMD_MODE__&&qr.getInstance().clear()}function ha(){window.__MICRO_APP_ENVIRONMENT__&&window.removeEventListener("unmount",da,!1)}function bm(){window.__MICRO_APP_ENVIRONMENT__&&(ha(),window.addEventListener("unmount",da,!1))}function Em(e){return Bl(e.__MICRO_APP_IS_BOUND_FUNCTION__)?e.__MICRO_APP_IS_BOUND_FUNCTION__:e.__MICRO_APP_IS_BOUND_FUNCTION__=Pp(e)}function wm(e){return Bl(e.__MICRO_APP_IS_CONSTRUCTOR__)?e.__MICRO_APP_IS_CONSTRUCTOR__:e.__MICRO_APP_IS_CONSTRUCTOR__=Ds(e)}function tt(e,t,n="WINDOW"){if(X(e)&&!wm(e)&&!Em(e)){const r=`__MICRO_APP_BOUND_${n}_FUNCTION__`;if(e[r])return e[r];const o=e.bind(t);for(const s in e)o[s]=e[s];return e.hasOwnProperty("prototype")&&Me(o,"prototype",{value:e.prototype,configurable:!0,enumerable:!1,writable:!0}),e[r]=o}return e}function ym(e,t,n){const{proxyDocument:r,documentEffect:o}=Pm(e,n),s=Am(e,r);return Pt(t,{document:{configurable:!1,enumerable:!0,get(){return r}},Document:{configurable:!1,enumerable:!1,get(){return s}}}),o}function Pm(e,t){const n=new Map,r=new Map;let o=null,s=null;const{rawDocument:i,rawCreateElement:c,rawCreateElementNS:l,rawAddEventListener:u,rawRemoveEventListener:a}=g;function d(_,v){const R=c.call(i,_,v);return R.__MICRO_APP_NAME__=e,R}function p(_,v,R){const H=l.call(i,_,v,R);return H.__MICRO_APP_NAME__=e,H}function b(_,v,R){const H=n.get(_);H?H.add(v):n.set(_,new Set([v])),v&&(v.__MICRO_APP_MARK_OPTIONS__=R),u.call(i,_,v,R)}function x(_,v,R){const H=n.get(_);H!=null&&H.size&&H.has(v)&&H.delete(v),a.call(i,_,v,R)}const A=()=>{r.clear(),s=null},D=()=>{s=o||s,n.forEach((_,v)=>{if(_.size){const R=r.get(v)||[];r.set(v,new Set([...R,..._]))}})},y=()=>{s&&!o&&(O.onclick=s),r.forEach((_,v)=>{for(const R of _)O.addEventListener(v,R,R==null?void 0:R.__MICRO_APP_MARK_OPTIONS__)}),A()},E=()=>{X(o)&&a.call(i,"click",o),o=null,n.size&&(n.forEach((_,v)=>{for(const R of _)a.call(i,v,R)}),n.clear())},P=(()=>{var _;const v=new Map([["onclick",le=>{X(o)&&a.call(i,"click",o,!1),X(le)&&u.call(i,"click",le,!1),o=le}]]),R=((_=G.options)===null||_===void 0?void 0:_.customProxyDocumentProps)||new Map;return new Map([...v,...R])})(),O=new Proxy(i,{get:(_,v)=>{var R;return un(e),v==="createElement"?d:v==="createElementNS"?p:v===Symbol.toStringTag?"ProxyDocument":v==="defaultView"?t.proxyWindow:v==="onclick"?o:v==="addEventListener"?b:v==="removeEventListener"?x:v==="microAppElement"?(R=Q.get(e))===null||R===void 0?void 0:R.container:v==="__MICRO_APP_NAME__"?e:tt(Reflect.get(_,v),i,"DOCUMENT")},set:(_,v,R)=>(P.has(v)?P.get(v)(R):v!=="microAppElement"&&Reflect.set(_,v,R),!0)});return{proxyDocument:O,documentEffect:{reset:A,record:D,rebuild:y,release:E}}}function Am(e,t){const{rawDocument:n,rawRootDocument:r}=g;class o{static[Symbol.hasInstance](i){let c=i;for(;c;)if(c=Object.getPrototypeOf(c),c===o.prototype)return!0;return i===t||i instanceof r}}return Object.setPrototypeOf(o,r),Object.setPrototypeOf(o.prototype,new Proxy(r.prototype,{get(s,i){return un(e),tt(Reflect.get(s,i),n,"DOCUMENT")},set(s,i,c){return Reflect.set(s,i,c),!0}})),o}function Rm(e,t,n){return Sm(t),Mm(e,t,n),Cm(t,e)}function Sm(e){const t=g.rawWindow;Object.getOwnPropertyNames(t).filter(n=>/^on/.test(n)&&!zp.includes(n)).forEach(n=>{const{enumerable:r,writable:o,set:s}=Object.getOwnPropertyDescriptor(t,n)||{enumerable:!0,writable:!0};Me(e,n,{enumerable:r,configurable:!0,get:()=>t[n],set:o??!!s?i=>{t[n]=i}:void 0})})}function Mm(e,t,n){const r=g.rawWindow,o=new Map,s=new Proxy(t,{get:(i,c)=>(un(e),Reflect.has(i,c)||ue(c)&&/^__MICRO_APP_/.test(c)||Ye(n.scopeProperties,c)?(Ye(Zp,c)&&Ee(),Reflect.get(i,c)):tt(Reflect.get(r,c),r)),set:(i,c,l)=>{if(Ye(n.rawWindowScopeKeyList,c))Reflect.set(r,c,l);else if(!nn.call(i,c)&&nn.call(r,c)&&!Ye(n.scopeProperties,c)){const u=Object.getOwnPropertyDescriptor(r,c),{configurable:a,enumerable:d,writable:p,set:b}=u;Me(i,c,{value:l,configurable:a,enumerable:d,writable:p??!!b}),n.injectedKeys.add(c)}else(!Reflect.has(i,c)||Ye(n.scopeProperties,c))&&n.injectedKeys.add(c),Reflect.set(i,c,l);return(Ye(n.escapeProperties,c)||Ye(n.staticEscapeProperties,c)&&!Reflect.has(r,c))&&!Ye(n.scopeProperties,c)&&(!Reflect.has(r,c)&&n.escapeKeys.add(c),Reflect.set(r,c,l)),!0},has:(i,c)=>Ye(n.scopeProperties,c)?n.injectedKeys.has(c)?Reflect.has(i,c):!!i[c]:Reflect.has(i,c)||Reflect.has(r,c),getOwnPropertyDescriptor:(i,c)=>{if(nn.call(i,c))return o.set(c,"target"),Object.getOwnPropertyDescriptor(i,c);if(nn.call(r,c)){o.set(c,"rawWindow");const l=Object.getOwnPropertyDescriptor(r,c);return l&&!l.configurable&&(l.configurable=!0),l}},defineProperty:(i,c,l)=>o.get(c)==="rawWindow"?Reflect.defineProperty(r,c,l):Reflect.defineProperty(i,c,l),ownKeys:i=>Dp(Reflect.ownKeys(r).concat(Reflect.ownKeys(i))),deleteProperty:(i,c)=>nn.call(i,c)?(n.injectedKeys.has(c)&&n.injectedKeys.delete(c),n.escapeKeys.has(c)&&Reflect.deleteProperty(r,c),Reflect.deleteProperty(i,c)):!0});n.proxyWindow=s}function Cm(e,t){const n=new Map,r=new Map,o=new Map,s=new Map,{rawWindow:i,rawAddEventListener:c,rawRemoveEventListener:l,rawDispatchEvent:u,rawSetInterval:a,rawSetTimeout:d,rawClearInterval:p,rawClearTimeout:b}=g;function x(m){var P;return Qp.includes(m)&&(!((P=Q.get(t))===null||P===void 0)&&P.container)?Mt(Q.get(t).container):i}e.addEventListener=function(m,P,O){m=ns(m,t);const _=n.get(m);_?_.add(P):n.set(m,new Set([P])),P&&(P.__MICRO_APP_MARK_OPTIONS__=O),c.call(x(m),m,P,O)},e.removeEventListener=function(m,P,O){m=ns(m,t);const _=n.get(m);_!=null&&_.size&&_.has(P)&&_.delete(P),l.call(x(m),m,P,O)},e.dispatchEvent=function(m){return u.call(x(m==null?void 0:m.type),m)},e.setInterval=function(m,P,...O){const _=a.call(i,m,P,...O);return o.set(_,{handler:m,timeout:P,args:O}),_},e.setTimeout=function(m,P,...O){const _=d.call(i,m,P,...O);return s.set(_,{handler:m,timeout:P,args:O}),_},e.clearInterval=function(m){o.delete(m),p.call(i,m)},e.clearTimeout=function(m){s.delete(m),b.call(i,m)};const A=()=>{r.clear()};return{reset:A,record:()=>{n.forEach((m,P)=>{if(m.size){const O=r.get(P)||[];r.set(P,new Set([...O,...m]))}})},rebuild:()=>{r.forEach((m,P)=>{for(const O of m)e.addEventListener(P,O,O==null?void 0:O.__MICRO_APP_MARK_OPTIONS__)}),A()},release:m=>{n.size&&(n.forEach((P,O)=>{for(const _ of P)l.call(x(O),O,_)}),n.clear()),m&&(o.forEach((P,O)=>{p.call(i,O)}),s.forEach((P,O)=>{b.call(i,O)}),o.clear(),s.clear())}}}function At(e,t,n){const r=g.rawWindow.history.state,o={__MICRO_APP_STATE__:et({},r==null?void 0:r.__MICRO_APP_STATE__,{[e]:{fullPath:n.pathname+n.search+n.hash,state:t,mode:Nn(e)}})};return et({},r,o)}function Om(e,t){return ve(t==null?void 0:t.__MICRO_APP_STATE__)&&(an(t.__MICRO_APP_STATE__[e])||delete t.__MICRO_APP_STATE__[e],Object.keys(t.__MICRO_APP_STATE__).length||delete t.__MICRO_APP_STATE__),et({},t)}function gr(e){var t,n;const r=g.rawWindow.history.state;return((n=(t=r==null?void 0:r.__MICRO_APP_STATE__)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.state)||(Rt(e)?r:null)}const xm=/&/g,Im=/=/g,pa=/%M1/g,ma=/%M2/g;function _a(e){return encodeURIComponent(js(e).replace(xm,"%M1").replace(Im,"%M2"))}function ga(e){return js(e).replace(pa,"&").replace(ma,"=")}function js(e){try{const t=decodeURIComponent(e);return e===t||pa.test(t)||ma.test(t)?t:js(t)}catch{return e}}function vr(e){var t,n,r,o;const s=g.rawWindow.location,i=g.rawWindow.history.state;if(je(e)){const c=Ks(s.search,s.hash),l=((t=c.hashQuery)===null||t===void 0?void 0:t[e])||((n=c.searchQuery)===null||n===void 0?void 0:n[e]);return ue(l)?ga(l):null}return((o=(r=i==null?void 0:i.__MICRO_APP_STATE__)===null||r===void 0?void 0:r[e])===null||o===void 0?void 0:o.fullPath)||(Rt(e)?s.pathname+s.search+s.hash:null)}function Vt(e,t){const n=g.rawWindow.location;let r=t.pathname+t.search+t.hash,o=!1;if(je(e)){let{pathname:s,search:i,hash:c}=n;const l=Ks(i,c),u=_a(r);return c&&!i?(o=!0,l.hashQuery?l.hashQuery[e]=u:l.hashQuery={[e]:u},c=(c.includes("?")?c.slice(0,c.indexOf("?")+1):c+"?")+Wr(l.hashQuery)):(l.searchQuery?l.searchQuery[e]=u:l.searchQuery={[e]:u},i="?"+Wr(l.searchQuery)),{fullPath:s+i+c,isAttach2Hash:o}}return(qs(e)||st(e))&&(r=n.pathname+n.search+n.hash),{fullPath:r,isAttach2Hash:o}}function Dm(e){var t,n,r,o;let{pathname:s,search:i,hash:c}=g.rawWindow.location,l=!1;if(je(e)){const u=Ks(i,c);if(!((t=u.hashQuery)===null||t===void 0)&&t[e]){l=!0,(n=u.hashQuery)===null||n===void 0||delete n[e];const a=Wr(u.hashQuery);c=c.slice(0,c.indexOf("?")+ +!!a)+a}else if(!((r=u.searchQuery)===null||r===void 0)&&r[e]){(o=u.searchQuery)===null||o===void 0||delete o[e];const a=Wr(u.searchQuery);i=a?"?"+a:""}}return{fullPath:s+i+c,isAttach2Hash:l}}function Ks(e,t){const n={};return e!==""&&e!=="?"&&(n.searchQuery=Yi(e.slice(1))),t.includes("?")&&(n.hashQuery=Yi(t.slice(t.indexOf("?")+1))),n}function Lm(e,t){const n=vr(e);if(!n)return"";const r=pe(n,t);return r.origin+r.pathname+r.search}function ur(e){const t=Q.get(e);return!!(t&&!t.isPrefetch)}function Nn(e){var t;return(t=Q.get(e))===null||t===void 0?void 0:t.routerMode}function je(e){return Nn(e)===ar}function qs(e){return Nn(e)===Ql}function rs(e){return Nn(e)===jr}function Tm(e){return Nn(e)===kl}function st(e){return Nn(e)===zl}function Rt(e){return rs(e)||Tm(e)}function va(e,t){const n=t&&jr||e||G.options["disable-memory-router"]&&jr||G.options["router-mode"]||ar;return Vp.includes(n)?n:ar}function ba(e){const t=g.rawWindow,n=r=>{Cn({excludeHiddenApp:!0,excludePreRender:!0}).includes(e)&&!r.onlyForBrowser&&Gr(e,vr(e))};return t.addEventListener("popstate",n),()=>{t.removeEventListener("popstate",n)}}function Gr(e,t){const n=Q.get(e),r=n.sandBox.proxyWindow,o=n.sandBox.microAppWindow;let s=!1;const i=r.location.href;if(t){const c=r.location.hash;Un(e,t,o.location),s=r.location.hash!==c}Nm(e,r,o),s&&Um(e,r,o,i),Ee()}function Nm(e,t,n){const r=new PopStateEvent("popstate",{state:gr(e)});n.dispatchEvent(r),Er(e)||X(t.onpopstate)&&t.onpopstate(r)}function Um(e,t,n,r){const o=new HashChangeEvent("hashchange",{newURL:t.location.href,oldURL:r});n.dispatchEvent(o),Er(e)||X(t.onhashchange)&&t.onhashchange(o)}function Bm(e){const t=new PopStateEvent("popstate",{state:null});e&&(t.onlyForBrowser=!0),g.rawWindow.dispatchEvent(t)}function Fm(e){const t=new HashChangeEvent("hashchange",{newURL:g.rawWindow.location.href,oldURL:e});g.rawWindow.dispatchEvent(t)}function os(e,t,n){Ee(),ur(e)&&(Bm(t),n&&Fm(n))}function Ea(e,t){const n=g.rawWindow.history;function r(i){return function(...c){var l,u,a;if(ue(c[2])||_r(c[2])){const d=pe(c[2],t.href),p=d.pathname+d.search+d.hash;st(e)||mo(e,i,Vt(e,d),!0,At(e,c[0],d),c[1]),p!==t.fullPath&&Un(e,p,t),(a=(l=Q.get(e))===null||l===void 0?void 0:(u=l.sandBox).updateIframeBase)===null||a===void 0||a.call(u)}else Jn(e,i,c[2],c[0],c[1])}}const o=r("pushState"),s=r("replaceState");return Er(e)?{pushState:o,replaceState:s}:new Proxy(n,{get(i,c){return c==="state"?gr(e):c==="pushState"?o:c==="replaceState"?s:tt(Reflect.get(i,c),i,"HISTORY")},set(i,c,l){return Reflect.set(i,c,l),!0}})}function Jn(e,t,n,r=null,o=""){ur(e)&&(t==="pushState"?g.rawPushState:g.rawReplaceState).call(g.rawWindow.history,r,o,n)}function mo(e,t,n,r,o,s){if(ur(e)){const i=g.rawWindow.location,c=i.pathname+i.search+i.hash,l=n.isAttach2Hash&&c!==n.fullPath?i.href:null;Jn(e,t,n.fullPath,o,s),c!==n.fullPath&&je(e)&&os(e,r,l)}}function _o(e,t,n){mo(e,"replaceState",t,!0,n)}function ic(e){const t=g.rawWindow;return function(...n){var r;if(!((r=t.history.state)===null||r===void 0)&&r.__MICRO_APP_STATE__&&(!ve(n[0])||!n[0].__MICRO_APP_STATE__)&&(ue(n[2])||_r(n[2]))){const o=t.location.href;pe(n[2],o).href===o&&(n[0]=et({},n[0],{__MICRO_APP_STATE__:t.history.state.__MICRO_APP_STATE__}))}e.apply(t.history,n),Cn({excludeHiddenApp:!0,excludePreRender:!0}).forEach(o=>{if((je(o)||qs(o))&&!vr(o)){const s=Q.get(o);_o(o,Vt(o,s.sandBox.proxyWindow.location),At(o,gr(o),s.sandBox.proxyWindow.location))}}),Ee()}}function wa(){const e=g.rawWindow;e.history.pushState=ic(g.rawPushState),e.history.replaceState=ic(g.rawReplaceState)}function ya(){const e=g.rawWindow;e.history.pushState=g.rawPushState,e.history.replaceState=g.rawReplaceState}function $m(){function e(A,D,y,E){mo(A,D,Vt(A,y),!1,At(A,E??null,y)),Ee()}function t(A,D,y,E){const m=D.sandBox.proxyWindow.location,P=pe(y.path,m.href),O=m.pathname+m.search+m.hash,_=P.pathname+P.search+P.hash;if(O!==_||vr(A)!==_){if(!st(A)){const v=E&&y.replace!==!1||y.replace===!0?"replaceState":"pushState";e(A,v,P,y.state)}je(A)||Gr(A,_)}}function n(A){return function(D){return new Promise((y,E)=>{const m=Se(D.name);if(m&&ue(D.path))if(Cn({excludeHiddenApp:!0,excludePreRender:!0}).includes(m)){const P=Q.get(m);y(P.sandBox.sandboxReady.then(()=>t(m,P,D,A)))}else E(J("导航失败，请确保子应用渲染后再调用此方法"));else E(J(`navigation failed, name & path are required when use router.${A?"replace":"push"}`))})}}function r(A){return function(...D){return g.rawWindow.history[A](...D)}}const o=Ji(),s=Ji();function i(A,D,y,E){Ee();for(const m of E)X(m)?m(D,y,A):ve(m)&&X(m[A])&&m[A](D,y)}function c(A,D,y){x.current.set(A,D),i(A,D,y,o.list()),ho(()=>{i(A,D,y,s.list())})}function l(A){x.current.delete(A)}function u(A){if(je(A)||qs(A)){const D=Q.get(A);_o(A,Vt(A,D.sandBox.proxyWindow.location),At(A,gr(A),D.sandBox.proxyWindow.location))}}function a(A){A=Se(A),A&&Cn().includes(A)&&u(A)}function d({includeHiddenApp:A=!1,includePreRender:D=!1}){Cn({excludeHiddenApp:!A,excludePreRender:!D}).forEach(y=>u(y))}function p(){const A=Lp();function D(E){const m=Se(E.name);return!m||!E.path?wp:A.add(m,E.path)}function y(E){return E=Se(E),E?A.delete(E):!1}return{setDefaultPage:D,removeDefaultPage:y,getDefaultPage:A.get}}function b(){let A=null;function D(y){Fl(y)&&(A=new Proxy(y,{get(E,m){return Ee(),tt(Reflect.get(E,m),E,"BASEROUTER")},set(E,m,P){return Reflect.set(E,m,P),!0}}))}return{setBaseAppRouter:D,getBaseAppRouter:()=>A}}const x=Object.assign(Object.assign({current:new Map,encode:_a,decode:ga,push:n(!1),replace:n(!0),go:r("go"),back:r("back"),forward:r("forward"),beforeEach:o.add,afterEach:s.add,attachToURL:a,attachAllToURL:d},p()),b());return{router:x,executeNavigationGuard:c,clearRouterWhenUnmount:l}}const{router:br,executeNavigationGuard:Pa,clearRouterWhenUnmount:Hm}=$m(),Wm=["href","pathname","search","hash","host","hostname","port","protocol","search"],jm=[...Wm,"origin","fullPath"];function Aa(e,t,n,r,o,s){const c=g.rawWindow.location,l=!!n,u=pe(t);function a(){return l?n.location:u}function d(E,m){const P=pe(E,y.href);if(P.origin===y.origin){const O=Vt(e,P);if(!Rt(e)){if(m=st(e)?"replaceState":m,P.pathname===y.pathname&&P.search===y.search){let _=null;(P.hash!==y.hash||st(e))&&(O.isAttach2Hash&&(_=c.href),(!st(e)||!P.hash)&&Jn(e,m,O.fullPath,je(e)?null:At(e,null,P))),P.hash?je(e)?os(e,!1,_):Gr(e,P.pathname+P.search+P.hash):D();return}Jn(e,m,O.fullPath,je(e)?null:At(e,null,P)),D();return}return O.fullPath}return E}function p(E,m){const P=pe(E,t);P[m]===y[m]&&y.hash?os(e,!1):(Jn(e,P[m]===y[m]||st(e)?"replaceState":"pushState",Vt(e,P).fullPath,je(e)?null:At(e,null,P)),D())}const b=E=>function(m){if(ur(e)){const P=d(m,E==="assign"?"pushState":"replaceState");P&&c[E](pe(P,c.origin).href)}},x=b("assign"),A=b("replace"),D=E=>c.reload(E);Me(a(),"fullPath",{enumerable:!0,configurable:!0,get:()=>y.pathname+y.search+y.hash});const y=new Proxy({},{get:(E,m)=>{const P=a();if(m==="assign")return x;if(m==="replace")return A;if(m==="reload")return D;if(m==="self")return P;if(m==="fullPath")return P.fullPath;if(em.includes(m)){if(rs(e))return c[m];if(l)return r[m]}if(m==="href"){if(rs(e))return P[m].replace(P.origin,c.origin);if(l)return P[m].replace(o,s)}return tt(Reflect.get(P,m),P,"LOCATION")},set:(E,m,P)=>{if(ur(e)){const O=a();if(m==="href"){const _=d(P,"pushState");_&&(c.href=pe(_,c.origin).href)}else if(m==="pathname")if(Rt(e))c.pathname=P;else{const _=("/"+P).replace(/^\/+/,"/")+y.search+y.hash;p(_,"pathname")}else if(m==="search")if(Rt(e))c.search=P;else{const _=y.pathname+("?"+P).replace(/^\?+/,"?")+y.hash;p(_,"search")}else if(m==="hash")if(Rt(e))c.hash=P;else{const _=y.pathname+y.search+("#"+P).replace(/^#+/,"#"),v=pe(_,t);v.hash!==y.hash&&(st(e)||mo(e,"pushState",Vt(e,v),!1,At(e,null,v)),je(e)||Gr(e,v.pathname+v.search+v.hash))}else Reflect.set(O,m,P)}return!0}});return y}function Vr(e,t){const n=et({name:e},t);for(const r of jm)n[r]=t[r];return n}function Km(e,t){Pa(e,Vr(e,t),Vr(e,t))}function Un(e,t,n,r){var o;const s=Vr(e,n),i=pe(t,n.href);if(Er(e)){const l=Q.get(e).sandBox.microAppWindow;(o=l.rawReplaceState)===null||o===void 0||o.call(l.history,gr(e),"",i.href)}else{let l=i.href;n.self.origin!==i.origin&&(l=l.replace(i.origin,n.self.origin)),n.self.href=l}const c=Vr(e,n);(r==="auto"||s.fullPath!==c.fullPath&&r!=="prevent")&&Pa(e,c,s)}function qm(e,t){const n=Aa(e,t);return{microLocation:n,microHistory:Ea(e,n)}}function Ra(e,t,n){const r=vr(e);r?(Un(e,r,t,"auto"),st(e)&&go(e)):Gs(e,t,n)}function Gs(e,t,n){n&&Un(e,n,t,"prevent"),st(e)||_o(e,Vt(e,t),At(e,null,t)),Km(e,t)}function Sa(e,t,n,r){if(!r&&!Rt(e)){const{pathname:o,search:s,hash:i}=pe(t);Un(e,o+s+i,n,"prevent")}st(e)||go(e),Hm(e)}function go(e){_o(e,Dm(e),Om(e,g.rawWindow.history.state))}class Gm{constructor(){this.rawWindowScopeKeyList=["location"],this.staticEscapeProperties=["System","__cjsWrapper"],this.staticScopeProperties=["webpackJsonp","webpackHotUpdate","Vue","onpopstate","onhashchange"],this.scopeProperties=Array.from(this.staticScopeProperties),this.escapeProperties=[],this.injectedKeys=new Set,this.escapeKeys=new Set,this.injectReactHMRProperty()}injectReactHMRProperty(){}}class Vm{}function Qm(){g.rawWindow._babelPolyfill&&(g.rawWindow._babelPolyfill=!1)}function Vs(e,t){const n=Array.from(e.children);n.length&&n.forEach(r=>{Vs(r,t)});for(const r of n)He(r,t)}function He(e,t){var n,r;const o=(r=(n=Q.get(t))===null||n===void 0?void 0:n.sandBox)===null||r===void 0?void 0:r.proxyWindow;return Ln(e)&&!e.__MICRO_APP_NAME__&&!e.__PURE_ELEMENT__&&o&&Pt(e,{baseURI:{configurable:!0,get:()=>o.location.href},__MICRO_APP_NAME__:{configurable:!0,writable:!0,value:t}}),e}function cc(e,t){const n=an(t)?g.rawWindow.fetch:t;return X(n)?function(o,s,...i){return(ue(o)||_r(o))&&(o=pe(o,e).toString()),Ee(),n.call(g.rawWindow,o,s,...i)}:n}function lc(e,t){const n=an(t)?g.rawWindow.XMLHttpRequest:t;return Ds(n)?class extends n{open(o,s,...i){(ue(s)&&!/^f(ile|tp):\/\//.test(s)||_r(s))&&(s=pe(s,e).toString()),Ee(),super.open(o,s,...i)}}:n}function km(){let e;function t(r,o,s){const i=an(s)?g.rawWindow.EventSource:s;return Ds(i)?class extends i{constructor(l,u,...a){if((ue(l)||_r(l))&&(l=pe(l,o).toString()),Ee(),super(l,u,...a),e){const d=e.get(r);d?d.add(this):e.set(r,new Set([this]))}else e=new Map([[r,new Set([this])]])}close(){var l;super.close(),(l=e.get(r))===null||l===void 0||l.delete(this)}}:i}function n(r){const o=e==null?void 0:e.get(r);o!=null&&o.size&&(o.forEach(s=>{s.close()}),o.clear())}return{createMicroEventSource:t,clearMicroEventSource:n}}const{createMicroEventSource:ac,clearMicroEventSource:zm}=km();class fr extends Gm{constructor(t,n){super(),this.active=!1,this.microAppWindow=new Vm,this.patchWith(r=>{this.getSpecialProperties(t),this.patchRouter(t,n,this.microAppWindow),this.windowEffect=Rm(t,this.microAppWindow,this),this.documentEffect=ym(t,this.microAppWindow,this),this.setMappingPropertiesWithRawDescriptor(this.microAppWindow),this.initStaticGlobalKeys(t,n,this.microAppWindow),r()})}start({umdMode:t,baseroute:n,defaultPage:r,disablePatchRequest:o}){this.active||(this.active=!0,this.initRouteState(r),this.removeHistoryListener=ba(this.microAppWindow.__MICRO_APP_NAME__),Rt(this.microAppWindow.__MICRO_APP_NAME__)&&(this.microAppWindow.__MICRO_APP_BASE_ROUTE__=this.microAppWindow.__MICRO_APP_BASE_URL__=n),t||this.initGlobalKeysWhenStart(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__,this.microAppWindow,o),++g.activeSandbox===1&&(Da(),wa()),++fr.activeCount===1&&bm(),Qm())}stop({umdMode:t,keepRouteState:n,destroy:r,clearData:o}){var s;this.active&&(this.recordAndReleaseEffect({umdMode:t,clearData:o,destroy:r},!t||r),this.clearRouteState(n),(s=this.removeHistoryListener)===null||s===void 0||s.call(this),(!t||r)&&(zm(this.microAppWindow.__MICRO_APP_NAME__),this.injectedKeys.forEach(i=>{Reflect.deleteProperty(this.microAppWindow,i)}),this.injectedKeys.clear(),this.escapeKeys.forEach(i=>{Reflect.deleteProperty(g.rawWindow,i)}),this.escapeKeys.clear()),--g.activeSandbox===0&&(La(),ya()),--fr.activeCount,this.active=!1)}initStaticGlobalKeys(t,n,r){r.__MICRO_APP_ENVIRONMENT__=!0,r.__MICRO_APP_NAME__=t,r.__MICRO_APP_URL__=n,r.__MICRO_APP_PUBLIC_PATH__=uo(n),r.__MICRO_APP_BASE_ROUTE__="",r.__MICRO_APP_WINDOW__=r,r.__MICRO_APP_PRE_RENDER__=!1,r.__MICRO_APP_UMD_MODE__=!1,r.__MICRO_APP_PROXY_WINDOW__=this.proxyWindow,r.__MICRO_APP_SANDBOX__=this,r.__MICRO_APP_SANDBOX_TYPE__="with",r.rawWindow=g.rawWindow,r.rawDocument=g.rawDocument,r.microApp=et(new aa(t),{removeDomScope:Ee,pureCreateElement:ke,router:br})}recordAndReleaseEffect(t,n=!1){n?this.resetEffectSnapshot():this.recordEffectSnapshot(),this.releaseGlobalEffect(t)}resetEffectSnapshot(){this.windowEffect.reset(),this.documentEffect.reset(),Ws(this.microAppWindow.microApp)}recordEffectSnapshot(){this.windowEffect.record(),this.documentEffect.record(),ua(this.microAppWindow.microApp)}rebuildEffectSnapshot(){this.windowEffect.rebuild(),this.documentEffect.rebuild(),fa(this.microAppWindow.microApp)}releaseGlobalEffect({umdMode:t=!1,clearData:n=!1,isPrerender:r=!1,keepAlive:o=!1,destroy:s=!1}){var i,c,l;this.windowEffect.release(!t&&!o&&!r||s),this.documentEffect.release(),(i=this.microAppWindow.microApp)===null||i===void 0||i.clearDataListener(),(c=this.microAppWindow.microApp)===null||c===void 0||c.clearGlobalDataListener(),n&&(G.clearData(this.microAppWindow.__MICRO_APP_NAME__),(l=this.microAppWindow.microApp)===null||l===void 0||l.clearData())}getSpecialProperties(t){var n;ve(G.options.plugins)&&(this.commonActionForSpecialProperties(G.options.plugins.global),this.commonActionForSpecialProperties((n=G.options.plugins.modules)===null||n===void 0?void 0:n[t]))}commonActionForSpecialProperties(t){if(gt(t))for(const n of t)ve(n)&&(gt(n.scopeProperties)&&(this.scopeProperties=this.scopeProperties.concat(n.scopeProperties)),gt(n.escapeProperties)&&(this.escapeProperties=this.escapeProperties.concat(n.escapeProperties)))}setPreRenderState(t){this.microAppWindow.__MICRO_APP_PRE_RENDER__=t}markUmdMode(t){this.microAppWindow.__MICRO_APP_UMD_MODE__=t}patchWith(t){this.sandboxReady=new Promise(n=>t(n))}setMappingPropertiesWithRawDescriptor(t){let n,r;const o=g.rawWindow;o===o.parent?n=r=this.proxyWindow:(n=o.top,r=o.parent),Pt(t,{top:this.createDescriptorForMicroAppWindow("top",n),parent:this.createDescriptorForMicroAppWindow("parent",r)}),Jl.forEach(s=>{Me(t,s,this.createDescriptorForMicroAppWindow(s,this.proxyWindow))})}createDescriptorForMicroAppWindow(t,n){const{configurable:r=!0,enumerable:o=!0,writable:s,set:i}=Object.getOwnPropertyDescriptor(g.rawWindow,t)||{writable:!0};return{value:n,configurable:r,enumerable:o,writable:s??!!i}}initGlobalKeysWhenStart(t,n,r,o){r.hasOwnProperty=s=>nn.call(r,s)||nn.call(g.rawWindow,s),this.setHijackProperty(t,r),o||this.patchRequestApi(t,n,r),this.setScopeProperties(r)}setHijackProperty(t,n){let r,o;Pt(n,{eval:{configurable:!0,enumerable:!1,get(){return un(t),r||g.rawWindow.eval},set:s=>{r=s}},Image:{configurable:!0,enumerable:!1,get(){return un(t),o||g.ImageProxy},set:s=>{o=s}}})}patchRequestApi(t,n,r){let o=cc(n),s=lc(n),i=ac(t,n);Pt(r,{fetch:{configurable:!0,enumerable:!0,get(){return o},set(c){o=cc(n,c)}},XMLHttpRequest:{configurable:!0,enumerable:!0,get(){return s},set(c){s=lc(n,c)}},EventSource:{configurable:!0,enumerable:!0,get(){return i},set(c){i=ac(t,n,c)}}})}setScopeProperties(t){this.scopeProperties.forEach(n=>{Reflect.set(t,n,t[n])})}patchRouter(t,n,r){const{microLocation:o,microHistory:s}=qm(t,n);Pt(r,{location:{configurable:!1,enumerable:!0,get(){return o},set:i=>{g.rawWindow.location=i}},history:{configurable:!0,enumerable:!0,get(){return s}}})}initRouteState(t){Ra(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.location,t)}clearRouteState(t){Sa(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__,this.microAppWindow.location,t)}setRouteInfoForKeepAliveApp(){Gs(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.location)}removeRouteInfoForKeepAliveApp(){go(this.microAppWindow.__MICRO_APP_NAME__)}patchStaticElement(t){Vs(t,this.microAppWindow.__MICRO_APP_NAME__)}actionBeforeExecScripts(t){this.patchStaticElement(t)}setStaticAppState(t){this.microAppWindow.__MICRO_APP_STATE__=t}}fr.activeCount=0;function Xm(e,t,n,r){const o=g.rawWindow.history,s=pe(t),i=s.protocol+"//"+s.host,c=s.pathname+s.search+s.hash,l=n.history;return n.rawReplaceState=l.replaceState,et(l,Ea(e,n.location)),Pt(l,{scrollRestoration:{configurable:!0,enumerable:!0,get(){return o.scrollRestoration},set(u){o.scrollRestoration=u}}}),Un(e,c,n.location,"prevent"),Aa(e,t,n,s,r,i)}const Ym=["getComputedStyle","visualViewport","matchMedia","ResizeObserver","IntersectionObserver"],Jm=[/animationFrame$/i,/mutationObserver$/i,/height$|width$/i,/offset$/i,/selection$/i,/^range/i,/^screen/i,/^scroll/i,/X$|Y$/],Zm=["body","head","html","title"],e_=["childElementCount","children","firstElementChild","firstChild","lastElementChild","activeElement","fullscreenElement","pictureInPictureElement","pointerLockElement","styleSheets"],t_=["append","contains","replaceChildren","createRange","getSelection","elementFromPoint","elementsFromPoint","getAnimations"],n_=["characterSet","compatMode","contentType","designMode","dir","doctype","embeds","fullscreenEnabled","hidden","implementation","lastModified","pictureInPictureEnabled","plugins","readyState","referrer","visibilityState","fonts"],r_=["execCommand","createRange","exitFullscreen","exitPictureInPicture","getElementsByTagNameNS","hasFocus","prepend"];function o_(e,t,n){return s_(e,t),i_(t,n),c_(t)}function s_(e,t){const n=g.rawWindow;Ym.forEach(r=>{t[r]=tt(n[r],n)}),Object.getOwnPropertyNames(t).filter(r=>(Jm.some(o=>{if(o.test(r)&&r in t.parent){if(X(n[r]))t[r]=tt(n[r],n);else{const{configurable:s,enumerable:i}=Object.getOwnPropertyDescriptor(t,r)||{configurable:!0,enumerable:!0};s&&Me(t,r,{configurable:s,enumerable:i,get:()=>n[r],set:c=>{n[r]=c}})}return!0}return!1}),/^on/.test(r)&&!Xp.includes(r))).forEach(r=>{const{enumerable:o,writable:s,set:i}=Object.getOwnPropertyDescriptor(t,r)||{enumerable:!0,writable:!0};try{Me(t,r,{enumerable:o,configurable:!0,get:()=>n[r],set:s??!!i?c=>{n[r]=X(c)?c.bind(t):c}:void 0})}catch(c){zt(c,e)}})}function i_(e,t){const n=g.rawWindow,r=new Set,o=new Proxy(e,{get:(s,i)=>i==="location"?t.proxyLocation:Ye(Jl,i)?o:r.has(i)?Reflect.get(s,i):Ye(t.escapeProperties,i)&&!Reflect.has(s,i)?tt(Reflect.get(n,i),n):tt(Reflect.get(s,i),s),set:(s,i,c)=>i==="location"?Reflect.set(n,i,c):(Reflect.has(s,i)||r.add(i),Reflect.set(s,i,c),Ye(t.escapeProperties,i)&&(!Reflect.has(n,i)&&t.escapeKeys.add(i),Reflect.set(n,i,c)),!0),has:(s,i)=>i in s,deleteProperty:(s,i)=>Reflect.has(s,i)?(t.escapeKeys.has(i)&&Reflect.deleteProperty(n,i),Reflect.deleteProperty(s,i)):!0});t.proxyWindow=o}function c_(e){const{rawWindow:t,rawAddEventListener:n,rawRemoveEventListener:r}=g,o=new Map,s=new Map;function i(d){return kp.includes(d)?e:t}e.addEventListener=function(d,p,b){const x=o.get(d);x?x.add(p):o.set(d,new Set([p])),p&&(p.__MICRO_APP_MARK_OPTIONS__=b),n.call(i(d),d,p,b)},e.removeEventListener=function(d,p,b){const x=o.get(d);x!=null&&x.size&&x.has(p)&&x.delete(p),r.call(i(d),d,p,b)};const c=()=>{s.clear()};return{reset:c,record:()=>{o.forEach((d,p)=>{if(d.size){const b=s.get(p)||[];s.set(p,new Set([...b,...d]))}})},rebuild:()=>{s.forEach((d,p)=>{for(const b of d)e.addEventListener(p,b,b==null?void 0:b.__MICRO_APP_MARK_OPTIONS__)}),c()},release:()=>{o.size&&(o.forEach((d,p)=>{for(const b of d)r.call(i(p),p,b)}),o.clear())}}}function l_(e,t,n){return a_(e,t),u_(e,t,n),f_(e,t)}function a_(e,t){const n=g.rawDocument,r=t.Document,o=t.document,s=r.prototype.createElement,i=r.prototype.createElementNS,c=r.prototype.createTextNode,l=r.prototype.createDocumentFragment,u=r.prototype.createComment,a=r.prototype.querySelector,d=r.prototype.querySelectorAll,p=r.prototype.getElementById,b=r.prototype.getElementsByClassName,x=r.prototype.getElementsByTagName,A=r.prototype.getElementsByName,D=r.prototype.elementFromPoint,y=r.prototype.caretRangeFromPoint;r.prototype.caretRangeFromPoint=function(_,v){const R=D.call(n,_,v),H=y.call(n,_,v);return He(R,e),H},r.prototype.createElement=function(_,v){const R=s.call(this,_,v);return He(R,e)},r.prototype.createElementNS=function(_,v,R){const H=i.call(this,_,v,R);return He(H,e)},r.prototype.createTextNode=function(_){const v=c.call(this,_);return He(v,e)},r.prototype.createDocumentFragment=function(){const _=l.call(this);return He(_,e)},r.prototype.createComment=function(_){const v=u.call(this,_);return He(v,e)};function E(O){return o!==O?O:n}function m(O){var _,v;if(!O||Mn(O)||o!==this){const R=E(this);return a.call(R,O)}return(v=(_=Q.get(e))===null||_===void 0?void 0:_.querySelector(O))!==null&&v!==void 0?v:null}function P(O){var _,v;if(!O||Mn(O)||o!==this){const R=E(this);return d.call(R,O)}return(v=(_=Q.get(e))===null||_===void 0?void 0:_.querySelectorAll(O))!==null&&v!==void 0?v:[]}r.prototype.querySelector=m,r.prototype.querySelectorAll=P,r.prototype.getElementById=function(_){const v=E(this);if(Wt(_))return p.call(v,_);try{return m.call(this,`#${_}`)}catch{return p.call(v,_)}},r.prototype.getElementsByClassName=function(_){const v=E(this);if(Wt(_))return b.call(v,_);try{return P.call(this,`.${_}`)}catch{return b.call(v,_)}},r.prototype.getElementsByTagName=function(_){const v=E(this);if(Mn(_)||Wt(_))return x.call(v,_);if(/^script|base$/i.test(_))return x.call(o,_);try{return P.call(this,_)}catch{return x.call(v,_)}},r.prototype.getElementsByName=function(_){const v=E(this);if(Wt(_))return A.call(v,_);try{return P.call(this,`[name=${_}]`)}catch{return A.call(v,_)}}}function u_(e,t,n){const r=g.rawDocument,o=t.Document,s=t.document,i=(l,u)=>{const{enumerable:a}=Object.getOwnPropertyDescriptor(o.prototype,l)||{enumerable:!0};return{configurable:!0,enumerable:a,get:u}},c=()=>{const l={};return[["documentURI",()=>n.proxyLocation.href],["URL",()=>n.proxyLocation.href],["documentElement",()=>r.documentElement],["scrollingElement",()=>r.scrollingElement],["forms",()=>o.prototype.querySelectorAll.call(s,"form")],["images",()=>o.prototype.querySelectorAll.call(s,"img")],["links",()=>o.prototype.querySelectorAll.call(s,"a")],["microAppElement",()=>{var a;return(a=Q.get(e))===null||a===void 0?void 0:a.container}],["__MICRO_APP_NAME__",()=>e]].forEach(a=>{l[a[0]]=i(a[0],a[1])}),e_.forEach(a=>{l[a]=i(a,()=>r[a])}),t_.forEach(a=>{l[a]=i(a,()=>tt(r[a],r,"DOCUMENT"))}),n_.forEach(a=>{l[a]=i(a,()=>r[a])}),r_.forEach(a=>{l[a]=i(a,()=>tt(r[a],r,"DOCUMENT"))}),l};Pt(o.prototype,c()),Zm.forEach(l=>{Me(s,l,{enumerable:!0,configurable:!0,get:()=>(un(e),r[l]),set:u=>{r[l]=u}})})}function f_(e,t){const{rawDocument:n,rawAddEventListener:r,rawRemoveEventListener:o}=g,s=new Map,i=new Map;let c=null,l=null;const u=t.Document,a=t.document;function d(y,E){return Yp.includes(y)?E:n}u.prototype.addEventListener=function(y,E,m){const P=X(E)?E.__MICRO_APP_BOUND_FUNCTION__=E.__MICRO_APP_BOUND_FUNCTION__||E.bind(this):E,O=s.get(y);O?O.add(E):s.set(y,new Set([E])),E&&(E.__MICRO_APP_MARK_OPTIONS__=m),r.call(d(y,this),y,P,m)},u.prototype.removeEventListener=function(y,E,m){const P=s.get(y);P!=null&&P.size&&P.has(E)&&P.delete(E);const O=(E==null?void 0:E.__MICRO_APP_BOUND_FUNCTION__)||E;o.call(d(y,this),y,O,m)};function p(y){return y==="onclick"?E=>{X(c)&&o.call(n,"click",c,!1),X(E)?(c=E.bind(a),r.call(n,"click",c,!1)):c=E}:E=>{n[y]=X(E)?E.bind(a):E}}Object.getOwnPropertyNames(u.prototype).filter(y=>/^on/.test(y)&&!Jp.includes(y)).forEach(y=>{const{enumerable:E,writable:m,set:P}=Object.getOwnPropertyDescriptor(u.prototype,y)||{enumerable:!0,writable:!0};try{Me(u.prototype,y,{enumerable:E,configurable:!0,get:()=>y==="onclick"?c:n[y],set:m??!!P?p(y):void 0})}catch(O){zt(O,e)}});const b=()=>{i.clear(),l=null};return{reset:b,record:()=>{l=c||l,s.forEach((y,E)=>{if(y.size){const m=i.get(E)||[];i.set(E,new Set([...m,...y]))}})},rebuild:()=>{l&&!c&&(a.onclick=l),i.forEach((y,E)=>{for(const m of y)a.addEventListener(E,m,m==null?void 0:m.__MICRO_APP_MARK_OPTIONS__)}),b()},release:()=>{X(c)&&o.call(n,"click",c),c=null,s.size&&(s.forEach((y,E)=>{for(const m of y)o.call(d(E,a),E,(m==null?void 0:m.__MICRO_APP_BOUND_FUNCTION__)||m)}),s.clear())}}}function d_(e,t,n,r){h_(e,n,r),p_(t,n)}function h_(e,t,n){const r=g.rawRootElement,o=g.rawDocument,s=t.document,i=t.Node,c=t.Element,l=i.prototype.appendChild,u=i.prototype.insertBefore,a=i.prototype.replaceChild,d=i.prototype.removeChild,p=c.prototype.append,b=c.prototype.prepend,x=c.prototype.insertAdjacentElement,A=i.prototype.cloneNode,D=Object.getOwnPropertyDescriptor(c.prototype,"innerHTML"),y=Object.getOwnPropertyDescriptor(i.prototype,"parentNode"),E=Object.getOwnPropertyDescriptor(i.prototype,"ownerDocument"),m=_=>(Sn(_)||Mp(_))&&_.__PURE_ELEMENT__,P=_=>_===n.microHead?o.head:_===n.microBody?o.body:_;i.prototype.getRootNode=function(){return s},i.prototype.appendChild=function(v){return He(v,e),m(v)?l.call(this,v):r.prototype.appendChild.call(P(this),v)},i.prototype.insertBefore=function(v,R){return He(v,e),m(v)?u.call(this,v,R):r.prototype.insertBefore.call(P(this),v,R)},i.prototype.replaceChild=function(v,R){return He(v,e),m(v)?a.call(this,v,R):r.prototype.replaceChild.call(P(this),v,R)},i.prototype.removeChild=function(v){return m(v)||this.contains(v)?d.call(this,v):r.prototype.removeChild.call(P(this),v)},c.prototype.append=function(...v){let R=0,H=!1;for(;R<v.length;)v[R]=Ln(v[R])?v[R]:s.createTextNode(v[R]),m(v[R])&&(H=!0),R++;return H?p.call(this,...v):r.prototype.append.call(P(this),...v)},c.prototype.prepend=function(...v){let R=0,H=!1;for(;R<v.length;)v[R]=Ln(v[R])?v[R]:s.createTextNode(v[R]),m(v[R])&&(H=!0),R++;return H?b.call(this,...v):r.prototype.prepend.call(P(this),...v)},c.prototype.insertAdjacentElement=function(v,R){return He(R,e),m(R)?x.call(this,v,R):r.prototype.insertAdjacentElement.call(P(this),v,R)},i.prototype.cloneNode=function(v){const R=A.call(this,v);return He(R,e)},Me(i.prototype,"ownerDocument",{configurable:!0,enumerable:!0,get(){return this.__PURE_ELEMENT__||this===s?E.get.call(this):s}}),Me(c.prototype,"innerHTML",{configurable:!0,enumerable:!0,get(){return D.get.call(this)},set(_){D.set.call(this,_),Array.from(this.children).forEach(v=>{qt(v)&&He(v,e)})}}),Me(i.prototype,"parentNode",{configurable:!0,enumerable:!0,get(){var _,v,R;un(e);const H=y.get.call(this);return Jo(H)&&(!((_=Q.get(e))===null||_===void 0)&&_.container)?((R=(v=G.options).getRootElementParentNode)===null||R===void 0?void 0:R.call(v,this,e))||g.rawDocument.body:H}});const O=new Proxy(t.Image,{construct(_,v){const R=new _(...v);return He(R,e),R}});Me(t,"Image",{configurable:!0,writable:!0,value:O})}function p_(e,t){const n=t.Element,r=n.prototype.setAttribute;n.prototype.setAttribute=function(i,c){((i==="src"||i==="srcset")&&/^(img|script)$/i.test(this.tagName)||i==="href"&&/^link$/i.test(this.tagName))&&(c=Qe(c,e)),r.call(this,i,c)},[[t.HTMLImageElement.prototype,"src"],[t.HTMLScriptElement.prototype,"src"],[t.HTMLLinkElement.prototype,"href"]].forEach(([s,i])=>{const{enumerable:c,configurable:l,get:u,set:a}=Object.getOwnPropertyDescriptor(s,i)||{enumerable:!0,configurable:!0};Me(s,i,{enumerable:c,configurable:l,get:function(){return u==null?void 0:u.call(this)},set:function(d){a==null||a.call(this,Qe(d,e))}})})}class dr{constructor(t,n){this.active=!1,this.escapeProperties=[],this.escapeKeys=new Set,this.updateIframeBase=()=>{var s;(s=this.baseElement)===null||s===void 0||s.setAttribute("href",pe(this.url).origin+this.proxyLocation.pathname)},this.appName=t,this.url=n;const r=g.rawWindow.location,o=r.protocol+"//"+r.host;this.deleteIframeElement=this.createIframeElement(t,o+r.pathname),this.microAppWindow=this.iframe.contentWindow,this.patchIframe(this.microAppWindow,s=>{this.createIframeTemplate(this.microAppWindow),this.getSpecialProperties(t),this.proxyLocation=Xm(t,n,this.microAppWindow,o),this.windowEffect=o_(t,this.microAppWindow,this),this.documentEffect=l_(t,this.microAppWindow,this),d_(t,n,this.microAppWindow,this),this.initStaticGlobalKeys(t,n,this.microAppWindow),s()})}createIframeElement(t,n){this.iframe=ke("iframe");const r={src:G.options.iframeSrc||n,style:"display: none",id:t};return Object.keys(r).forEach(o=>this.iframe.setAttribute(o,r[o])),g.rawDocument.body.appendChild(this.iframe),()=>ct(()=>{var o,s;(s=(o=this.iframe)===null||o===void 0?void 0:o.parentNode)===null||s===void 0||s.removeChild(this.iframe),this.iframe=null})}start({baseroute:t,defaultPage:n,disablePatchRequest:r}){this.active||(this.active=!0,this.initRouteState(n),this.removeHistoryListener=ba(this.microAppWindow.__MICRO_APP_NAME__),Rt(this.microAppWindow.__MICRO_APP_NAME__)&&(this.microAppWindow.__MICRO_APP_BASE_ROUTE__=this.microAppWindow.__MICRO_APP_BASE_URL__=t),r||this.createIframeBase(),++g.activeSandbox===1&&(Da(),wa()),++dr.activeCount)}stop({umdMode:t,keepRouteState:n,destroy:r,clearData:o}){var s;this.active&&(this.recordAndReleaseEffect({clearData:o},!t||r),this.clearRouteState(n),(s=this.removeHistoryListener)===null||s===void 0||s.call(this),(!t||r)&&(this.deleteIframeElement(),this.escapeKeys.forEach(i=>{Reflect.deleteProperty(g.rawWindow,i)}),this.escapeKeys.clear()),--g.activeSandbox===0&&(La(),ya()),--dr.activeCount,this.active=!1)}initStaticGlobalKeys(t,n,r){r.__MICRO_APP_ENVIRONMENT__=!0,r.__MICRO_APP_NAME__=t,r.__MICRO_APP_URL__=n,r.__MICRO_APP_PUBLIC_PATH__=uo(n),r.__MICRO_APP_BASE_ROUTE__="",r.__MICRO_APP_WINDOW__=r,r.__MICRO_APP_PRE_RENDER__=!1,r.__MICRO_APP_UMD_MODE__=!1,r.__MICRO_APP_PROXY_WINDOW__=this.proxyWindow,r.__MICRO_APP_SANDBOX__=this,r.__MICRO_APP_SANDBOX_TYPE__="iframe",r.rawWindow=g.rawWindow,r.rawDocument=g.rawDocument,r.microApp=et(new aa(t),{removeDomScope:Ee,pureCreateElement:ke,location:this.proxyLocation,router:br})}recordAndReleaseEffect(t,n=!1){n?this.resetEffectSnapshot():this.recordEffectSnapshot(),this.releaseGlobalEffect(t)}resetEffectSnapshot(){var t,n;(t=this.windowEffect)===null||t===void 0||t.reset(),(n=this.documentEffect)===null||n===void 0||n.reset(),Ws(this.microAppWindow.microApp)}recordEffectSnapshot(){var t,n;(t=this.windowEffect)===null||t===void 0||t.record(),(n=this.documentEffect)===null||n===void 0||n.record(),ua(this.microAppWindow.microApp)}rebuildEffectSnapshot(){var t,n;(t=this.windowEffect)===null||t===void 0||t.rebuild(),(n=this.documentEffect)===null||n===void 0||n.rebuild(),fa(this.microAppWindow.microApp)}releaseGlobalEffect({clearData:t=!1}){var n,r,o,s,i;(n=this.windowEffect)===null||n===void 0||n.release(),(r=this.documentEffect)===null||r===void 0||r.release(),(o=this.microAppWindow.microApp)===null||o===void 0||o.clearDataListener(),(s=this.microAppWindow.microApp)===null||s===void 0||s.clearGlobalDataListener(),t&&(G.clearData(this.microAppWindow.__MICRO_APP_NAME__),(i=this.microAppWindow.microApp)===null||i===void 0||i.clearData())}setPreRenderState(t){this.microAppWindow.__MICRO_APP_PRE_RENDER__=t}markUmdMode(t){this.microAppWindow.__MICRO_APP_UMD_MODE__=t}patchIframe(t,n){const r=t.document;this.sandboxReady=new Promise(o=>{(function s(){setTimeout(()=>{try{t.document===r?s():(t.stop(),n(o))}catch{s()}},0)})()})}createIframeTemplate(t){const n=t.document;Tp(n);const r=n.createElement("html");r.innerHTML="<head></head><body></body>",n.appendChild(r),this.microBody=n.body,this.microHead=n.head}createIframeBase(){this.baseElement=ke("base"),this.updateIframeBase(),this.microHead.appendChild(this.baseElement)}getSpecialProperties(t){var n;ve(G.options.plugins)&&(this.commonActionForSpecialProperties(G.options.plugins.global),this.commonActionForSpecialProperties((n=G.options.plugins.modules)===null||n===void 0?void 0:n[t]))}commonActionForSpecialProperties(t){if(gt(t))for(const n of t)ve(n)&&gt(n.escapeProperties)&&(this.escapeProperties=this.escapeProperties.concat(n.escapeProperties))}initRouteState(t){Ra(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.location,t)}clearRouteState(t){Sa(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.__MICRO_APP_URL__,this.microAppWindow.location,t)}setRouteInfoForKeepAliveApp(){Gs(this.microAppWindow.__MICRO_APP_NAME__,this.microAppWindow.location)}removeRouteInfoForKeepAliveApp(){go(this.microAppWindow.__MICRO_APP_NAME__)}patchStaticElement(t){Vs(t,this.microAppWindow.__MICRO_APP_NAME__)}actionBeforeExecScripts(t){this.patchStaticElement(t)}setStaticAppState(t){this.microAppWindow.__MICRO_APP_STATE__=t}}dr.activeCount=0;const Q=new Map;class Ma{constructor({name:t,url:n,container:r,scopecss:o,useSandbox:s,inline:i,iframe:c,ssrUrl:l,isPrefetch:u,prefetchLevel:a,routerMode:d}){this.state=Re.CREATED,this.keepAliveState=null,this.loadSourceLevel=0,this.umdHookMount=null,this.umdHookUnmount=null,this.lifeCycleState=null,this.umdMode=!1,this.sandBox=null,this.fiber=!1,Q.set(t,this),this.name=t,this.url=n,this.useSandbox=s,this.scopecss=this.useSandbox&&o,this.iframe=c??!1,this.inline=this.getInlineModeState(i),this.routerMode=d||ar,this.container=r??null,this.ssrUrl=l??"",this.isPrefetch=u??!1,this.isPrerender=a===3,this.prefetchLevel=a,this.source={html:null,links:new Set,scripts:new Set},this.loadSourceCode(),this.createSandbox()}loadSourceCode(){this.setAppState(Re.LOADING),Us.getInstance().run(this,_m)}onLoad({html:t,defaultPage:n,routerMode:r,baseroute:o,disablePatchRequest:s}){var i;if(++this.loadSourceLevel===2){if(this.source.html=t,!this.isPrefetch&&!this.isUnmounted())Mt(this.container).mount(this);else if(this.isPrerender){const c=ke("div");c.setAttribute("prerender","true"),(i=this.sandBox)===null||i===void 0||i.setPreRenderState(!0),this.mount({container:c,inline:this.inline,fiber:!0,defaultPage:n||"",disablePatchRequest:s??!1,routerMode:r,baseroute:o||""})}}}onLoadError(t){this.loadSourceLevel=-1,this.isUnmounted()||(this.onerror(t),this.setAppState(Re.LOAD_FAILED))}mount({container:t,inline:n,routerMode:r,defaultPage:o,baseroute:s,disablePatchRequest:i,fiber:c}){if(this.loadSourceLevel!==2)return this.container=t,this.isPrerender=!1,ht(this,"statechange",{appState:Re.LOADING}),this.setAppState(Re.LOADING);this.createSandbox(),this.setAppState(Re.BEFORE_MOUNT);const l=()=>{var u,a,d,p,b,x,A;if(this.isPrerender&&Rp(this.container)&&this.container.hasAttribute("prerender"))this.container=this.cloneContainer(t,this.container,!1),(u=this.sandBox)===null||u===void 0||u.rebuildEffectSnapshot(),(a=this.preRenderEvents)===null||a===void 0||a.forEach(D=>D()),this.isPrerender=!1,this.preRenderEvents=null,br.attachToURL(this.name),(d=this.sandBox)===null||d===void 0||d.setPreRenderState(!1);else{this.container=t,this.inline=this.getInlineModeState(n),this.fiber=c,this.routerMode=r;const D=()=>{this.setLifeCycleState(re.BEFOREMOUNT),Ut(this.container,this.name,re.BEFOREMOUNT)};if(this.isPrerender?((p=this.preRenderEvents)!==null&&p!==void 0?p:this.preRenderEvents=[]).push(D):D(),this.setAppState(Re.MOUNTING),ht(this,"statechange",{appState:Re.MOUNTING}),this.cloneContainer(this.container,this.source.html,!this.umdMode),(b=this.sandBox)===null||b===void 0||b.start({umdMode:this.umdMode,baseroute:s,defaultPage:o,disablePatchRequest:i}),!this.umdMode)(x=this.sandBox)===null||x===void 0||x.actionBeforeExecScripts(this.container),lm(this,y=>{if(!this.umdMode){const{mount:E,unmount:m}=this.getUmdLibraryHooks();if(this.umdHookUnmount=m,X(E)&&X(m)){this.umdHookMount=E,this.sandBox.markUmdMode(this.umdMode=!0);try{this.handleMounted(this.umdHookMount(G.getData(this.name,!0)))}catch(P){J(`An error occurred in window.mount 
`,this.name,P)}}else y===!0&&this.handleMounted()}});else{(A=this.sandBox)===null||A===void 0||A.rebuildEffectSnapshot();try{this.handleMounted(this.umdHookMount(G.getData(this.name,!0)))}catch(y){J(`An error occurred in window.mount 
`,this.name,y)}}}};this.sandBox?this.sandBox.sandboxReady.then(l):l()}handleMounted(t){var n,r;const o=()=>{Yo(t)?t.then(()=>this.dispatchMountedEvent()).catch(s=>{J(`An error occurred in window.mount 
`,this.name,s),this.dispatchMountedEvent()}):this.dispatchMountedEvent()};this.isPrerender?((n=this.preRenderEvents)===null||n===void 0||n.push(o),(r=this.sandBox)===null||r===void 0||r.recordAndReleaseEffect({isPrerender:!0})):o()}dispatchMountedEvent(){var t;this.isUnmounted()||(this.setAppState(Re.MOUNTED),Zi(this.getMicroAppGlobalHook(bn.ONMOUNT),this.name,bn.ONMOUNT,G.getData(this.name,!0)),ht(this,"statechange",{appState:Re.MOUNTED}),ht(this,"mounted"),this.setLifeCycleState(re.MOUNTED),Ut(this.container,this.name,re.MOUNTED),this.isHidden()&&((t=this.sandBox)===null||t===void 0||t.recordAndReleaseEffect({keepAlive:!0})))}unmount({destroy:t,clearData:n,keepRouteState:r,unmountcb:o}){var s;t=t||this.state===Re.LOAD_FAILED,this.setAppState(Re.UNMOUNT);let i=null;try{i=(s=this.umdHookUnmount)===null||s===void 0?void 0:s.call(this,G.getData(this.name,!0))}catch(c){J(`An error occurred in window.unmount 
`,this.name,c)}ht(this,"statechange",{appState:Re.UNMOUNT}),ht(this,"unmount"),Zi(this.getMicroAppGlobalHook(bn.ONUNMOUNT),this.name,bn.ONUNMOUNT),this.handleUnmounted({destroy:t,clearData:n,keepRouteState:r,unmountcb:o,umdHookUnmountResult:i})}handleUnmounted({destroy:t,clearData:n,keepRouteState:r,unmountcb:o,umdHookUnmountResult:s}){const i=()=>this.actionsForUnmount({destroy:t,clearData:n,keepRouteState:r,unmountcb:o});Yo(s)?(Ee(),s.then(i).catch(i)):i()}actionsForUnmount({destroy:t,clearData:n,keepRouteState:r,unmountcb:o}){var s;this.umdMode&&this.container&&!t&&this.cloneContainer(this.source.html,this.container,!1),(s=this.sandBox)===null||s===void 0||s.stop({umdMode:this.umdMode,keepRouteState:r&&!t,destroy:t,clearData:n||t}),this.setLifeCycleState(re.UNMOUNT),Ut(this.container,this.name,re.UNMOUNT),this.clearOptions(t),o==null||o()}clearOptions(t){this.container.innerHTML="",this.container=null,this.isPrerender=!1,this.preRenderEvents=null,this.setKeepAliveState(null),this.iframe&&!this.umdMode&&(this.sandBox=null),t&&this.actionsForCompletelyDestroy(),Ee()}actionsForCompletelyDestroy(){var t,n;(n=(t=this.sandBox)===null||t===void 0?void 0:t.deleteIframeElement)===null||n===void 0||n.call(t),ze.script.deleteInlineInfo(this.source.scripts),Q.delete(this.name)}hiddenKeepAliveApp(t){var n,r;this.setKeepAliveState(Yn.KEEP_ALIVE_HIDDEN),ht(this,"appstate-change",{appState:"afterhidden"}),this.setLifeCycleState(re.AFTERHIDDEN),Ut(this.container,this.name,re.AFTERHIDDEN),je(this.name)&&((n=this.sandBox)===null||n===void 0||n.removeRouteInfoForKeepAliveApp()),this.loadSourceLevel!==2?Mt(this.container).unmount():(this.container=this.cloneContainer(ke("div"),this.container,!1),(r=this.sandBox)===null||r===void 0||r.recordAndReleaseEffect({keepAlive:!0})),t==null||t()}showKeepAliveApp(t){var n,r;const o=this.container;this.container=t,(n=this.sandBox)===null||n===void 0||n.rebuildEffectSnapshot(),ht(this,"appstate-change",{appState:"beforeshow"}),Ut(t,this.name,re.BEFORESHOW),this.setKeepAliveState(Yn.KEEP_ALIVE_SHOW),this.cloneContainer(this.container,o,!1),je(this.name)&&((r=this.sandBox)===null||r===void 0||r.setRouteInfoForKeepAliveApp()),ht(this,"appstate-change",{appState:"aftershow"}),this.setLifeCycleState(re.AFTERSHOW),Ut(this.container,this.name,re.AFTERSHOW)}onerror(t){this.setLifeCycleState(re.ERROR),ht(this,"statechange",{appState:Re.LOAD_FAILED}),Ut(this.container,this.name,re.ERROR,t)}parseHtmlString(t){var n;const r=!((n=this.sandBox)===null||n===void 0)&&n.proxyWindow?this.sandBox.proxyWindow.DOMParser:g.rawWindow.DOMParser;return new r().parseFromString(t,"text/html").body}cloneContainer(t,n,r){return n&&t&&(t.innerHTML="",Array.from(r?this.parseHtmlString(n.innerHTML).childNodes:n.childNodes).forEach(o=>{t.appendChild(o)})),t}createSandbox(){this.useSandbox&&!this.sandBox&&(this.sandBox=this.iframe?new dr(this.name,this.url):new fr(this.name,this.url))}setAppState(t){var n;this.state=t,(n=this.sandBox)===null||n===void 0||n.setStaticAppState(t)}getAppState(){return this.state}setLifeCycleState(t){this.lifeCycleState=t}getLifeCycleState(){return this.lifeCycleState||""}setKeepAliveState(t){this.keepAliveState=t}getKeepAliveState(){return this.keepAliveState}isUnmounted(){return Re.UNMOUNT===this.state}isHidden(){return Yn.KEEP_ALIVE_HIDDEN===this.keepAliveState}getUmdLibraryHooks(){if(!this.isUnmounted()&&this.sandBox){const t=Mt(this.container).getAttribute("library")||`micro-app-${this.name}`,n=this.sandBox.proxyWindow;return Fl(n[t])?n[t]:{mount:n.mount,unmount:n.unmount}}return{}}getMicroAppGlobalHook(t){var n,r;const o=(r=(n=this.sandBox)===null||n===void 0?void 0:n.proxyWindow)===null||r===void 0?void 0:r[t];return X(o)?o:null}querySelector(t){return this.container?g.rawElementQuerySelector.call(this.container,t):null}querySelectorAll(t){return this.container?g.rawElementQuerySelectorAll.call(this.container,t):[]}getInlineModeState(t){var n;return(n=this.iframe||t)!==null&&n!==void 0?n:!1}}function Er(e){var t,n;return(n=(t=Q.get(e))===null||t===void 0?void 0:t.iframe)!==null&&n!==void 0?n:!1}const wt=new WeakMap;function Ca(e){var t;return(t=wt.get(e))!==null&&t!==void 0?t:e}function Oa(e,t){if(wt.has(e))return wt.get(e);if(Ls(e)){if(e.hasAttribute("exclude")){const n=document.createComment("style element with exclude attribute ignored by micro-app");return wt.set(e,n),n}else if(t.scopecss&&!e.hasAttribute("ignore"))return Bs(e,t);return e}else if($l(e)){if(e.hasAttribute("exclude")||$s(e.getAttribute("href"),t.name)){const s=document.createComment("link element with exclude attribute ignored by micro-app");return wt.set(e,s),s}else if(e.hasAttribute("ignore")||Hs(e.getAttribute("href"),t.name)||e.href&&X(G.options.excludeAssetFilter)&&G.options.excludeAssetFilter(e.href))return e;const{address:n,linkInfo:r,replaceComment:o}=Gl(e,null,t,!0);if(n&&r){const s=Gp(n,t,r,e);return wt.set(e,s),s}else if(o)return wt.set(e,o),o;return e}else if(Sn(e)){if(e.src&&X(G.options.excludeAssetFilter)&&G.options.excludeAssetFilter(e.src))return e;const{replaceComment:n,address:r,scriptInfo:o}=oa(e,null,t,!0)||{};if(r&&o){const s=o.isExternal?am(r,t,o,e):um(r,t,o);return wt.set(e,s),s}else if(n)return wt.set(e,n),n;return e}return e}function xa(e,t,n,r,o){const s=Ia(n,r,e);if(s){if(!Er(e.name)&&Jo(s)&&t!==g.rawRemoveChild){const i=Object.getOwnPropertyDescriptor(r,"parentNode");(!i||i.configurable)&&!r.__MICRO_APP_HAS_DPN__&&Pt(r,{parentNode:{configurable:!0,get(){var c,l;const u=g.rawParentNodeDesc.get.call(this);return Jo(u)&&e.container?((l=(c=G.options).getRootElementParentNode)===null||l===void 0?void 0:l.call(c,this,e.name))||document.body:u}},__MICRO_APP_HAS_DPN__:{configurable:!0,get:()=>!0}})}if(o&&!s.contains(o)){if(t===g.rawInsertBefore&&n.contains(o)){const i=Array.from(n.childNodes).indexOf(o);if(s.childNodes[i])return Io(t,s,r,s.childNodes[i])}return g.rawAppendChild.call(s,r)}else if(t===g.rawRemoveChild&&!s.contains(r))return n.contains(r)?t.call(n,r):r;return Io(t,s,r,o)}return Io(t,n,r,o)}function Ia(e,t,n){if(n){if(e===document.head)return n.iframe&&Sn(t)?n.sandBox.microHead:n.querySelector("micro-app-head");if(e===document.body||e===document.body.parentNode)return n.iframe&&Sn(t)?n.sandBox.microBody:n.querySelector("micro-app-body");if(n.iframe&&Sn(t))return n.sandBox.microBody}return null}function Io(e,t,n,r){return m_(e)?e.call(t,n):e.call(t,n,r)}function m_(e){return e===g.rawAppend||e===g.rawPrepend}function __(e,t){qt(t)&&(/^(img|script)$/i.test(t.tagName)?(t.hasAttribute("src")&&g.rawSetAttribute.call(t,"src",Qe(t.getAttribute("src"),e.url)),t.hasAttribute("srcset")&&g.rawSetAttribute.call(t,"srcset",Qe(t.getAttribute("srcset"),e.url))):/^link$/i.test(t.tagName)&&t.hasAttribute("href")&&g.rawSetAttribute.call(t,"href",Qe(t.getAttribute("href"),e.url)))}function Hn(e,t,n,r){const o=Ve();if(Ln(t)&&!t.__PURE_ELEMENT__&&(t.__MICRO_APP_NAME__||o)){t.__MICRO_APP_NAME__=t.__MICRO_APP_NAME__||o;const s=Q.get(t.__MICRO_APP_NAME__);if(Ls(t)&&e.getRootNode()instanceof ShadowRoot&&t.setAttribute("ignore","true"),s!=null&&s.container)return __(s,t),xa(s,r,e,Oa(t,s),n&&Ca(n))}return r===g.rawAppend||r===g.rawPrepend?r.call(e,t):r.call(e,t,n)}function Da(){g_();const e=g.rawRootElement,t=g.rawRootNode;e.prototype.appendChild=function(o){return Hn(this,o,null,g.rawAppendChild)},e.prototype.insertBefore=function(o,s){return Hn(this,o,s,g.rawInsertBefore)},e.prototype.replaceChild=function(o,s){return Hn(this,o,s,g.rawReplaceChild)},e.prototype.append=function(...o){let s=0;for(;s<o.length;){let i=o[s];i=Ln(i)?i:g.rawCreateTextNode.call(g.rawDocument,i),Hn(this,En(i),null,g.rawAppend),s++}},e.prototype.prepend=function(...o){let s=o.length;for(;s>0;){let i=o[s-1];i=Ln(i)?i:g.rawCreateTextNode.call(g.rawDocument,i),Hn(this,En(i),null,g.rawPrepend),s--}},e.prototype.removeChild=function(o){if(o!=null&&o.__MICRO_APP_NAME__){const s=Q.get(o.__MICRO_APP_NAME__);if(s!=null&&s.container)return xa(s,g.rawRemoveChild,this,Ca(o));try{return g.rawRemoveChild.call(this,o)}catch{return(o==null?void 0:o.parentNode)&&g.rawRemoveChild.call(o.parentNode,o)}}return g.rawRemoveChild.call(this,o)},e.prototype.insertAdjacentElement=function(r,o){var s;if(o!=null&&o.__MICRO_APP_NAME__&&qt(o)){const i=Q.get(o.__MICRO_APP_NAME__);if(i!=null&&i.container){const c=Oa(o,i);if(!qt(c))return o;const l=(s=Ia(this,c,i))!==null&&s!==void 0?s:this;return g.rawInsertAdjacentElement.call(l,r,c)}}return g.rawInsertAdjacentElement.call(this,r,o)},e.prototype.cloneNode=function(o){const s=g.rawCloneNode.call(this,o);return this.__MICRO_APP_NAME__&&(s.__MICRO_APP_NAME__=this.__MICRO_APP_NAME__),s};function n(r){const o=Ve();if((r===document.body||r===document.head)&&o){const s=Q.get(o);if(s!=null&&s.container){if(r===document.body)return s.querySelector("micro-app-body");if(r===document.head)return s.querySelector("micro-app-head")}}return r}e.prototype.querySelector=function(o){var s;return g.rawElementQuerySelector.call((s=n(this))!==null&&s!==void 0?s:this,o)},e.prototype.querySelectorAll=function(o){var s;return g.rawElementQuerySelectorAll.call((s=n(this))!==null&&s!==void 0?s:this,o)},e.prototype.setAttribute=function(o,s){const i=this.__MICRO_APP_NAME__||Ve();if(i&&Q.has(i)&&((o==="src"||o==="srcset")&&/^(img|script|video|audio|source|embed)$/i.test(this.tagName)||o==="href"&&/^link$/i.test(this.tagName))){const c=Q.get(i);s=Qe(s,c.url)}g.rawSetAttribute.call(this,o,s)},Me(e.prototype,"innerHTML",{configurable:!0,enumerable:!0,get(){return g.rawInnerHTMLDesc.get.call(this)},set(r){g.rawInnerHTMLDesc.set.call(this,r);const o=Ve();Array.from(this.children).forEach(s=>{qt(s)&&o&&(s.__MICRO_APP_NAME__=o)})}}),Me(t.prototype,"parentNode",{configurable:!0,enumerable:!0,get(){var r,o,s;const i=Ve();if(i&&this===g.rawDocument.firstElementChild){const l=(s=(o=(r=Q.get(i))===null||r===void 0?void 0:r.sandBox)===null||o===void 0?void 0:o.proxyWindow)===null||s===void 0?void 0:s.document;if(l)return l}return g.rawParentNodeDesc.get.call(this)}})}function En(e){const t=Ve();return t&&(e.__MICRO_APP_NAME__=t),e}function g_(){const e=g.rawDocument,t=g.rawRootDocument;function n(s){return Cp(s)?e:s}t.prototype.createElement=function(i,c){const l=g.rawCreateElement.call(n(this),i,c);return En(l)},t.prototype.createElementNS=function(i,c,l){const u=g.rawCreateElementNS.call(n(this),i,c,l);return En(u)},t.prototype.createDocumentFragment=function(){const i=g.rawCreateDocumentFragment.call(n(this));return En(i)},t.prototype.createComment=function(i){const c=g.rawCreateComment.call(n(this),i);return En(c)};function r(s){var i,c;const l=n(this),u=Ve();return!u||!s||Mn(s)||e!==l?g.rawQuerySelector.call(l,s):(c=(i=Q.get(u))===null||i===void 0?void 0:i.querySelector(s))!==null&&c!==void 0?c:null}function o(s){var i,c;const l=n(this),u=Ve();return!u||!s||Mn(s)||e!==l?g.rawQuerySelectorAll.call(l,s):(c=(i=Q.get(u))===null||i===void 0?void 0:i.querySelectorAll(s))!==null&&c!==void 0?c:[]}t.prototype.querySelector=r,t.prototype.querySelectorAll=o,t.prototype.getElementById=function(i){const c=n(this);if(!Ve()||Wt(i))return g.rawGetElementById.call(c,i);try{return r.call(c,`#${i}`)}catch{return g.rawGetElementById.call(c,i)}},t.prototype.getElementsByClassName=function(i){const c=n(this);if(!Ve()||Wt(i))return g.rawGetElementsByClassName.call(c,i);try{return o.call(c,`.${i}`)}catch{return g.rawGetElementsByClassName.call(c,i)}},t.prototype.getElementsByTagName=function(i){var c;const l=n(this),u=Ve();if(!u||Mn(i)||Wt(i)||!(!((c=Q.get(u))===null||c===void 0)&&c.inline)&&/^script$/i.test(i))return g.rawGetElementsByTagName.call(l,i);try{return o.call(l,i)}catch{return g.rawGetElementsByTagName.call(l,i)}},t.prototype.getElementsByName=function(i){const c=n(this);if(!Ve()||Wt(i))return g.rawGetElementsByName.call(c,i);try{return o.call(c,`[name=${i}]`)}catch{return g.rawGetElementsByName.call(c,i)}}}function v_(){const e=g.rawRootDocument;e.prototype.createElement=g.rawCreateElement,e.prototype.createElementNS=g.rawCreateElementNS,e.prototype.createDocumentFragment=g.rawCreateDocumentFragment,e.prototype.querySelector=g.rawQuerySelector,e.prototype.querySelectorAll=g.rawQuerySelectorAll,e.prototype.getElementById=g.rawGetElementById,e.prototype.getElementsByClassName=g.rawGetElementsByClassName,e.prototype.getElementsByTagName=g.rawGetElementsByTagName,e.prototype.getElementsByName=g.rawGetElementsByName}function La(){Ee(),v_();const e=g.rawRootElement,t=g.rawRootNode;e.prototype.appendChild=g.rawAppendChild,e.prototype.insertBefore=g.rawInsertBefore,e.prototype.replaceChild=g.rawReplaceChild,e.prototype.removeChild=g.rawRemoveChild,e.prototype.append=g.rawAppend,e.prototype.prepend=g.rawPrepend,e.prototype.cloneNode=g.rawCloneNode,e.prototype.querySelector=g.rawElementQuerySelector,e.prototype.querySelectorAll=g.rawElementQuerySelectorAll,e.prototype.setAttribute=g.rawSetAttribute,Me(e.prototype,"innerHTML",g.rawInnerHTMLDesc),Me(t.prototype,"parentNode",g.rawParentNodeDesc)}let uc=!1;function b_(){if(!uc){uc=!0;const e=ke("style");g.rawSetAttribute.call(e,"type","text/css"),e.textContent=`
${G.tagName}, micro-app-body { display: block; } 
micro-app-head { display: none; }`,g.rawDocument.head.appendChild(e)}}const g={activeSandbox:0};function E_(){if(Is){const e=window.rawWindow||Function("return window")(),t=window.rawDocument||Function("return document")(),n=e.Document||Function("return Document")(),r=e.Element,o=e.Node,s=e.EventTarget,i=r.prototype.setAttribute,c=r.prototype.appendChild,l=r.prototype.insertBefore,u=r.prototype.replaceChild,a=r.prototype.removeChild,d=r.prototype.append,p=r.prototype.prepend,b=r.prototype.cloneNode,x=r.prototype.querySelector,A=r.prototype.querySelectorAll,D=r.prototype.insertAdjacentElement,y=Object.getOwnPropertyDescriptor(r.prototype,"innerHTML"),E=Object.getOwnPropertyDescriptor(o.prototype,"parentNode"),m=n.prototype.createElement,P=n.prototype.createElementNS,O=n.prototype.createTextNode,_=n.prototype.createDocumentFragment,v=n.prototype.createComment,R=n.prototype.querySelector,H=n.prototype.querySelectorAll,le=n.prototype.getElementById,Pe=n.prototype.getElementsByClassName,Le=n.prototype.getElementsByTagName,Ue=n.prototype.getElementsByName,bt=new Proxy(Image,{construct(Dt,hn){const be=new Dt(...hn),M=Ve();return M&&(be.__MICRO_APP_NAME__=M),be}}),Be=e.setInterval,Z=e.setTimeout,oe=e.clearInterval,te=e.clearTimeout,nt=e.history.pushState,ut=e.history.replaceState,Xe=s.prototype.addEventListener,xe=s.prototype.removeEventListener,It=s.prototype.dispatchEvent;window.__MICRO_APP_BASE_APPLICATION__=!0,et(g,{supportModuleScript:xp(),rawWindow:e,rawDocument:t,rawRootDocument:n,rawRootElement:r,rawRootNode:o,rawSetAttribute:i,rawAppendChild:c,rawInsertBefore:l,rawReplaceChild:u,rawRemoveChild:a,rawAppend:d,rawPrepend:p,rawCloneNode:b,rawElementQuerySelector:x,rawElementQuerySelectorAll:A,rawInsertAdjacentElement:D,rawInnerHTMLDesc:y,rawParentNodeDesc:E,rawCreateElement:m,rawCreateElementNS:P,rawCreateDocumentFragment:_,rawCreateTextNode:O,rawCreateComment:v,rawQuerySelector:R,rawQuerySelectorAll:H,rawGetElementById:le,rawGetElementsByClassName:Pe,rawGetElementsByTagName:Le,rawGetElementsByName:Ue,ImageProxy:bt,rawSetInterval:Be,rawSetTimeout:Z,rawClearInterval:oe,rawClearTimeout:te,rawPushState:nt,rawReplaceState:ut,rawAddEventListener:Xe,rawRemoveEventListener:xe,rawDispatchEvent:It}),b_()}}function w_(e){class t extends Np(){constructor(){super(...arguments),this.isWaiting=!1,this.cacheData=null,this.connectedCount=0,this.connectStateMap=new Map,this.appName="",this.appUrl="",this.ssrUrl="",this.version=Ep,this.handleAttributeUpdate=()=>{this.isWaiting=!1;const r=Se(this.getAttribute("name")),o=Zo(this.getAttribute("url"),this.appName);if(this.legalAttribute("name",r)&&this.legalAttribute("url",o)){const s=Q.get(r);if(r!==this.appName&&s&&!s.isUnmounted()&&!s.isHidden()&&!s.isPrefetch)return this.setAttribute("name",this.appName),J(`app name conflict, an app named ${r} is running`);(r!==this.appName||o!==this.appUrl)&&(r===this.appName?this.unmount(!0,()=>{this.actionsForAttributeChange(r,o,s)}):this.getKeepAliveModeResult()?(this.handleHiddenKeepAliveApp(),this.actionsForAttributeChange(r,o,s)):this.unmount(!1,()=>{this.actionsForAttributeChange(r,o,s)}))}else r!==this.appName&&this.setAttribute("name",this.appName)}}static get observedAttributes(){return["name","url"]}connectedCallback(){const r=++this.connectedCount;this.connectStateMap.set(r,!0);const o=this.appName&&this.appUrl;ct(()=>{this.connectStateMap.get(r)&&(Ut(this,this.appName,re.CREATED),o&&this.handleConnected())})}disconnectedCallback(){this.connectStateMap.set(this.connectedCount,!1),this.handleDisconnected()}reload(r){return new Promise(o=>{const s=()=>{this.removeEventListener(re.MOUNTED,s),this.removeEventListener(re.AFTERSHOW,s),o(!0)};this.addEventListener(re.MOUNTED,s),this.addEventListener(re.AFTERSHOW,s),this.handleDisconnected(r,()=>{this.handleConnected()})})}handleDisconnected(r=!1,o){const s=Q.get(this.appName);s&&!s.isUnmounted()&&!s.isHidden()&&(this.getKeepAliveModeResult()&&!r?this.handleHiddenKeepAliveApp(o):this.unmount(r,o))}attributeChangedCallback(r,o,s){if(this.legalAttribute(r,s)&&this[r===Xn.NAME?"appName":"appUrl"]!==s)if(r===Xn.URL&&(!this.appUrl||!this.connectStateMap.get(this.connectedCount))){if(s=Zo(s,this.appName),!s)return J(`Invalid attribute url ${s}`,this.appName);this.appUrl=s,this.handleInitialNameAndUrl()}else if(r===Xn.NAME&&(!this.appName||!this.connectStateMap.get(this.connectedCount))){const i=Se(s);if(!i)return J(`Invalid attribute name ${s}`,this.appName);this.cacheData&&(G.setData(i,this.cacheData),this.cacheData=null),this.appName=i,i!==s&&this.setAttribute("name",this.appName),this.handleInitialNameAndUrl()}else this.isWaiting||(this.isWaiting=!0,ct(this.handleAttributeUpdate))}handleInitialNameAndUrl(){this.connectStateMap.get(this.connectedCount)&&this.handleConnected()}handleConnected(){if(!(!this.appName||!this.appUrl))if(this.getDisposeResult("shadowDOM")&&!this.shadowRoot&&X(this.attachShadow)&&this.attachShadow({mode:"open"}),this.updateSsrUrl(this.appUrl),Q.has(this.appName)){const r=Q.get(this.appName),o=r.ssrUrl||r.url,s=this.ssrUrl||this.appUrl;r.isHidden()&&r.url===this.appUrl?this.handleShowKeepAliveApp(r):o===s&&(r.isUnmounted()||r.isPrefetch&&this.sameCoreOptions(r))?this.handleMount(r):r.isPrefetch||r.isUnmounted()?this.handleCreateApp():J(`app name conflict, an app named ${this.appName} with url ${o} is running`)}else this.handleCreateApp()}actionsForAttributeChange(r,o,s){var i;this.updateSsrUrl(o),this.appName=r,this.appUrl=o,((i=this.shadowRoot)!==null&&i!==void 0?i:this).innerHTML="",r!==this.getAttribute("name")&&this.setAttribute("name",this.appName),s?s.isHidden()?s.url===this.appUrl?this.handleShowKeepAliveApp(s):J(`app name conflict, an app named ${this.appName} is running`):s.url===this.appUrl&&s.ssrUrl===this.ssrUrl?this.handleMount(s):this.handleCreateApp():this.handleCreateApp()}legalAttribute(r,o){return!ue(o)||!o?(J(`unexpected attribute ${r}, please check again`,this.appName),!1):!0}handleCreateApp(){const r=()=>{var s;return new Ma({name:this.appName,url:this.appUrl,container:(s=this.shadowRoot)!==null&&s!==void 0?s:this,scopecss:this.useScopecss(),useSandbox:this.useSandbox(),inline:this.getDisposeResult("inline"),iframe:this.getDisposeResult("iframe"),ssrUrl:this.ssrUrl,routerMode:this.getMemoryRouterMode()})},o=Q.get(this.appName);o?o.isPrerender?this.unmount(!0,r):(o.actionsForCompletelyDestroy(),r()):r()}handleMount(r){r.isPrefetch=!1,r.setAppState(Re.BEFORE_MOUNT),ct(()=>this.mount(r))}mount(r){var o;r.mount({container:(o=this.shadowRoot)!==null&&o!==void 0?o:this,inline:this.getDisposeResult("inline"),routerMode:this.getMemoryRouterMode(),baseroute:this.getBaseRouteCompatible(),defaultPage:this.getDefaultPage(),disablePatchRequest:this.getDisposeResult("disable-patch-request"),fiber:this.getDisposeResult("fiber")})}unmount(r,o){const s=Q.get(this.appName);s&&!s.isUnmounted()&&s.unmount({destroy:r||this.getDestroyCompatibleResult(),clearData:this.getDisposeResult("clear-data"),keepRouteState:this.getDisposeResult("keep-router-state"),unmountcb:o})}handleHiddenKeepAliveApp(r){const o=Q.get(this.appName);o&&!o.isUnmounted()&&!o.isHidden()&&o.hiddenKeepAliveApp(r)}handleShowKeepAliveApp(r){ct(()=>{var o;return r.showKeepAliveApp((o=this.shadowRoot)!==null&&o!==void 0?o:this)})}getDisposeResult(r){return(this.compatibleProperties(r)||!!G.options[r])&&this.compatibleDisableProperties(r)}compatibleProperties(r){return r==="disable-scopecss"?this.hasAttribute("disable-scopecss")||this.hasAttribute("disableScopecss"):r==="disable-sandbox"?this.hasAttribute("disable-sandbox")||this.hasAttribute("disableSandbox"):this.hasAttribute(r)}compatibleDisableProperties(r){return r==="disable-scopecss"?this.getAttribute("disable-scopecss")!=="false"&&this.getAttribute("disableScopecss")!=="false":r==="disable-sandbox"?this.getAttribute("disable-sandbox")!=="false"&&this.getAttribute("disableSandbox")!=="false":this.getAttribute(r)!=="false"}useScopecss(){return!(this.getDisposeResult("disable-scopecss")||this.getDisposeResult("shadowDOM"))}useSandbox(){return!this.getDisposeResult("disable-sandbox")}sameCoreOptions(r){return r.scopecss===this.useScopecss()&&r.useSandbox===this.useSandbox()&&r.iframe===this.getDisposeResult("iframe")}getBaseRouteCompatible(){var r,o;return(o=(r=this.getAttribute("baseroute"))!==null&&r!==void 0?r:this.getAttribute("baseurl"))!==null&&o!==void 0?o:""}getDestroyCompatibleResult(){return this.getDisposeResult("destroy")||this.getDisposeResult("destory")}getKeepAliveModeResult(){return this.getDisposeResult("keep-alive")&&!this.getDestroyCompatibleResult()}updateSsrUrl(r){if(this.getDisposeResult("ssr"))if(this.getDisposeResult("disable-memory-router")||this.getDisposeResult("disableSandbox")){const o=g.rawWindow.location;this.ssrUrl=Qe(o.pathname+o.search,r)}else{let o=Lm(this.appName,r);const s=this.getDefaultPage();if(!o&&s){const i=pe(s,r);o=i.origin+i.pathname+i.search}this.ssrUrl=o}else this.ssrUrl&&(this.ssrUrl="")}getDefaultPage(){return br.getDefaultPage(this.appName)||this.getAttribute("default-page")||this.getAttribute("defaultPage")||""}getMemoryRouterMode(){return va(this.getAttribute("router-mode"),this.compatibleProperties("disable-memory-router")&&this.compatibleDisableProperties("disable-memory-router"))}setAttribute(r,o){if(r==="data")if(ve(o)){const s={};Object.getOwnPropertyNames(o).forEach(i=>{ue(i)&&i.indexOf("__")===0||(s[i]=o[i])}),this.data=s}else o!=="[object Object]"&&zt("property data must be an object",this.appName);else g.rawSetAttribute.call(this,r,o)}set data(r){this.appName?G.setData(this.appName,r):this.cacheData=r}get data(){return this.appName?G.getData(this.appName,!0):this.cacheData?this.cacheData:null}get publicPath(){return uo(this.appUrl)}get baseRoute(){return this.getBaseRouteCompatible()}}g.rawWindow.customElements.define(e,t)}function fc(e,t){if(!Is)return J("preFetch is only supported in browser environment");ho(()=>{const n=Xo(t)?t:G.options.prefetchDelay;setTimeout(()=>{y_(e)},Xo(n)?n:3e3)})}function y_(e){X(e)&&(e=e()),gt(e)&&e.reduce((t,n)=>t.then(()=>P_(n)),Promise.resolve())}function P_(e){return Wl(t=>{var n,r,o,s,i,c;if(ve(e)&&navigator.onLine)if(e.name=Se(e.name),e.url=Zo(e.url,e.name),e.name&&e.url&&!Q.has(e.name)){const l=new Ma({name:e.name,url:e.url,isPrefetch:!0,scopecss:!((r=(n=e["disable-scopecss"])!==null&&n!==void 0?n:e.disableScopecss)!==null&&r!==void 0?r:G.options["disable-scopecss"]),useSandbox:!((s=(o=e["disable-sandbox"])!==null&&o!==void 0?o:e.disableSandbox)!==null&&s!==void 0?s:G.options["disable-sandbox"]),inline:(i=e.inline)!==null&&i!==void 0?i:G.options.inline,iframe:(c=e.iframe)!==null&&c!==void 0?c:G.options.iframe,prefetchLevel:e.level&&oc.includes(e.level)?e.level:G.options.prefetchLevel&&oc.includes(G.options.prefetchLevel)?G.options.prefetchLevel:2}),u=l.onLoad,a=l.onLoadError;l.onLoad=d=>{l.isPrerender&&et(d,{defaultPage:e["default-page"],routerMode:va(e["router-mode"]),baseroute:e.baseroute,disablePatchRequest:e["disable-patch-request"]}),t(),u.call(l,d)},l.onLoadError=(...d)=>{t(),a.call(l,...d)}}else t();else t()})}function A_(e){ve(e)&&ho(()=>{dc(e.js,"js",ze.script),dc(e.css,"css",ze.link)})}function dc(e,t,n){if(gt(e)){const r=e.filter(s=>ue(s)&&Hl(s,t)&&!n.hasInfo(s)),o=r.map(s=>dn(s));fo(o,s=>{const i=r[s.index];t==="js"?n.hasInfo(i)||n.setInfo(i,{code:s.data,isExternal:!1,appSpace:{}}):n.hasInfo(i)||n.setInfo(i,{code:s.data,appSpace:{}})},s=>{J(s)})}}function Cn({excludeHiddenApp:e=!1,excludePreRender:t=!1}={}){const n=[];return Q.forEach((r,o)=>{!r.isUnmounted()&&(!r.isPrefetch||r.isPrerender&&!t)&&(!e||!r.isHidden())&&n.push(o)}),n}function R_(){return Array.from(Q.keys())}function Ta(e,t){const n=Q.get(Se(e));return new Promise(r=>{if(n)if(n.isUnmounted()||n.isPrefetch)n.isPrerender?n.unmount({destroy:!!(t!=null&&t.destroy),clearData:!!(t!=null&&t.clearData),keepRouteState:!1,unmountcb:r.bind(null,!0)}):(t!=null&&t.destroy&&n.actionsForCompletelyDestroy(),r(!0));else if(n.isHidden())t!=null&&t.destroy?n.unmount({destroy:!0,clearData:!0,keepRouteState:!0,unmountcb:r.bind(null,!0)}):t!=null&&t.clearAliveState?n.unmount({destroy:!1,clearData:!!t.clearData,keepRouteState:!0,unmountcb:r.bind(null,!0)}):r(!0);else{const o=Mt(n.container),s=()=>{o.removeEventListener(re.UNMOUNT,s),o.removeEventListener(re.AFTERHIDDEN,i),r(!0)},i=()=>{o.removeEventListener(re.UNMOUNT,s),o.removeEventListener(re.AFTERHIDDEN,i),r(!0)};if(o.addEventListener(re.UNMOUNT,s),o.addEventListener(re.AFTERHIDDEN,i),t!=null&&t.destroy){let c,l;o.hasAttribute("destroy")&&(c=o.getAttribute("destroy")),o.hasAttribute("destory")&&(l=o.getAttribute("destory")),o.setAttribute("destroy","true"),o.parentNode.removeChild(o),o.removeAttribute("destroy"),ue(c)&&o.setAttribute("destroy",c),ue(l)&&o.setAttribute("destory",l)}else if(t!=null&&t.clearAliveState&&o.hasAttribute("keep-alive")){const c=o.getAttribute("keep-alive");o.removeAttribute("keep-alive");let l=null;t.clearData&&(l=o.getAttribute("clear-data"),o.setAttribute("clear-data","true")),o.parentNode.removeChild(o),o.setAttribute("keep-alive",c),ue(l)&&o.setAttribute("clear-data",l)}else{let c=null;t!=null&&t.clearData&&(c=o.getAttribute("clear-data"),o.setAttribute("clear-data","true")),o.parentNode.removeChild(o),ue(c)&&o.setAttribute("clear-data",c)}}else zt(`app ${e} does not exist`),r(!1)})}function S_(e){return Array.from(Q.keys()).reduce((t,n)=>t.then(()=>Ta(n,e)),Promise.resolve(!0))}function M_(e,t){return new Promise(n=>{const r=Q.get(Se(e));if(r){const o=r.container&&Mt(r.container);o?n(o.reload(t)):(zt(`app ${e} is not rendered, cannot use reload`),n(!1))}else zt(`app ${e} does not exist`),n(!1)})}function C_(e){return new Promise(t=>{if(!ve(e))return J("renderApp options must be an object");const n=qt(e.container)?e.container:ue(e.container)?document.querySelector(e.container):null;if(!qt(n))return J("Target container is not a DOM element.");const r=ke(G.tagName);for(const c in e)if(c==="onDataChange")X(e[c])&&r.addEventListener("datachange",e[c]);else if(c==="lifeCycles"){const l=e[c];if(ve(l))for(const u in l)u.toUpperCase()in re&&X(l[u])&&r.addEventListener(u.toLowerCase(),l[u])}else c!=="container"&&r.setAttribute(c,e[c]);const o=()=>{i(),t(!0)},s=()=>{i(),t(!1)},i=()=>{r.removeEventListener(re.MOUNTED,o),r.removeEventListener(re.ERROR,s)};r.addEventListener(re.MOUNTED,o),r.addEventListener(re.ERROR,s),n.appendChild(r)})}function O_(e){const t=Q.get(Se(e));if(t)return t.getLifeCycleState();zt(`app ${e} does not exist`)}class x_ extends vm{constructor(){super(...arguments),this.tagName="micro-app",this.hasInit=!1,this.options={},this.router=br,this.preFetch=fc,this.unmountApp=Ta,this.unmountAllApps=S_,this.getActiveApps=Cn,this.getAllApps=R_,this.reload=M_,this.renderApp=C_,this.getAppStatus=O_}start(t){var n,r;if(!Is||!window.customElements)return J("micro-app is not supported in this environment");if(this.hasInit)return J("microApp.start executed repeatedly");if(this.hasInit=!0,t!=null&&t.tagName)if(/^micro-app(-\S+)?/.test(t.tagName))this.tagName=t.tagName;else return J(`${t.tagName} is invalid tagName`);if(E_(),g.rawWindow.customElements.get(this.tagName))return zt(`element ${this.tagName} is already defined`);if(ve(t)&&(this.options=t,t["disable-scopecss"]=(n=t["disable-scopecss"])!==null&&n!==void 0?n:t.disableScopecss,t["disable-sandbox"]=(r=t["disable-sandbox"])!==null&&r!==void 0?r:t.disableSandbox,t.preFetchApps&&fc(t.preFetchApps),t.globalAssets&&A_(t.globalAssets),ve(t.plugins))){const o=t.plugins.modules;if(ve(o))for(const s in o){const i=Se(s);i&&s!==i&&(o[i]=o[s],delete o[s])}}w_(this.tagName)}}const G=new x_,vo=rd(Ed);vo.use(vp);vo.use(bp);const hc=xn();async function I_(){const t=await fetch("/website-mf-testing"+"/data.json").then(o=>o.json()),n=t.series.map(o=>({name:o.name,key:o.key,img:o.img,list:o.list})),r=t.series.flatMap(o=>o.list.map(s=>({...s})));hc.setSeries(n),hc.setProducts(r)}I_().then(()=>{vo.mount("#app"),G.start({tagName:"micro-app-lego"})});window.unmount=()=>{var e;vo.unmount(),(e=window.microApp)==null||e.removeDataListener(Na)};function Na(e){console.log("来自主应用的数据",e)}var pc;(pc=window.microApp)==null||pc.addDataListener(Na,!0);
